(function(c,g){function p(d){return f.isWindow(d)?d:9===d.nodeType?d.defaultView||d.parentWindow:!1}function e(d){if(!na[d]){var l=C.body,c=f("<"+d+">").appendTo(l),m=c.css("display");c.remove();if("none"===m||""===m)M||(M=C.createElement("iframe"),M.frameBorder=M.width=M.height=0),l.appendChild(M),da&&M.createElement||(da=(M.contentWindow||M.contentDocument).document,da.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),da.close()),c=da.createElement(d),da.body.appendChild(c),m=f.css(c,
"display"),l.removeChild(M);na[d]=m}return na[d]}function k(d,l){var c={};f.each(ia.concat.apply([],ia.slice(0,l)),function(){c[this]=d});return c}function q(){ja=g}function t(){setTimeout(q,0);return ja=f.now()}function n(){try{return new c.XMLHttpRequest}catch(d){}}function y(d,l,c,m){if(f.isArray(l))f.each(l,function(l,f){c||cb.test(d)?m(d,f):y(d+"["+("object"==typeof f?l:"")+"]",f,c,m)});else if(c||"object"!==f.type(l))m(d,l);else for(var A in l)y(d+"["+A+"]",l[A],c,m)}function u(d,l){var c,m,
A=f.ajaxSettings.flatOptions||{};for(c in l)l[c]!==g&&((A[c]?d:m||(m={}))[c]=l[c]);m&&f.extend(!0,d,m)}function h(d,l,f,c,A,e){A=A||l.dataTypes[0];e=e||{};e[A]=!0;A=d[A];for(var n=0,k=A?A.length:0,q=d===oa,u;n<k&&(q||!u);n++)u=A[n](l,f,c),"string"==typeof u&&(!q||e[u]?u=g:(l.dataTypes.unshift(u),u=h(d,l,f,c,u,e)));!q&&u||e["*"]||(u=h(d,l,f,c,"*",e));return u}function D(d){return function(l,c){"string"!=typeof l&&(c=l,l="*");if(f.isFunction(c))for(var m=l.toLowerCase().split(Ba),A=0,e=m.length,g,n;A<
e;A++)g=m[A],(n=/^\+/.test(g))&&(g=g.substr(1)||"*"),g=d[g]=d[g]||[],g[n?"unshift":"push"](c)}}function w(d,l,c){var m="width"===l?d.offsetWidth:d.offsetHeight,A="width"===l?1:0;if(0<m){if("border"!==c)for(;4>A;A+=2)c||(m-=parseFloat(f.css(d,"padding"+U[A]))||0),"margin"===c?m+=parseFloat(f.css(d,c+U[A]))||0:m-=parseFloat(f.css(d,"border"+U[A]+"Width"))||0;return m+"px"}m=ea(d,l);if(0>m||null==m)m=d.style[l];if(pa.test(m))return m;m=parseFloat(m)||0;if(c)for(;4>A;A+=2)m+=parseFloat(f.css(d,"padding"+
U[A]))||0,"padding"!==c&&(m+=parseFloat(f.css(d,"border"+U[A]+"Width"))||0),"margin"===c&&(m+=parseFloat(f.css(d,c+U[A]))||0);return m+"px"}function v(d){var l=(d.nodeName||"").toLowerCase();"input"===l?F(d):"script"!==l&&"undefined"!=typeof d.getElementsByTagName&&f.grep(d.getElementsByTagName("input"),F)}function F(d){if("checkbox"===d.type||"radio"===d.type)d.defaultChecked=d.checked}function J(d){return"undefined"!=typeof d.getElementsByTagName?d.getElementsByTagName("*"):"undefined"!=typeof d.querySelectorAll?
d.querySelectorAll("*"):[]}function G(d,l){var c;1===l.nodeType&&(l.clearAttributes&&l.clearAttributes(),l.mergeAttributes&&l.mergeAttributes(d),c=l.nodeName.toLowerCase(),"object"===c?l.outerHTML=d.outerHTML:"input"!==c||"checkbox"!==d.type&&"radio"!==d.type?"option"===c?l.selected=d.defaultSelected:"input"===c||"textarea"===c?l.defaultValue=d.defaultValue:"script"===c&&l.text!==d.text&&(l.text=d.text):(d.checked&&(l.defaultChecked=l.checked=d.checked),l.value!==d.value&&(l.value=d.value)),l.removeAttribute(f.expando),
l.removeAttribute("_submit_attached"),l.removeAttribute("_change_attached"))}function R(d,l){if(1===l.nodeType&&f.hasData(d)){var c,m,A;m=f._data(d);var g=f._data(l,m),e=m.events;if(e)for(c in delete g.handle,g.events={},e)for(m=0,A=e[c].length;m<A;m++)f.event.add(l,c,e[c][m]);g.data&&(g.data=f.extend({},g.data))}}function E(d,l){return f.nodeName(d,"table")?d.getElementsByTagName("tbody")[0]||d.appendChild(d.ownerDocument.createElement("tbody")):d}function V(d){var l=Ca.split("|");d=d.createDocumentFragment();
if(d.createElement)for(;l.length;)d.createElement(l.pop());return d}function K(d,l,c){l=l||0;if(f.isFunction(l))return f.grep(d,function(d,f){return!!l.call(d,f,d)===c});if(l.nodeType)return f.grep(d,function(d,f){return d===l===c});if("string"==typeof l){var m=f.grep(d,function(d){return 1===d.nodeType});if(db.test(l))return f.filter(l,m,!c);l=f.filter(l,m)}return f.grep(d,function(d,m){return 0<=f.inArray(d,l)===c})}function L(d){return!d||!d.parentNode||11===d.parentNode.nodeType}function S(){return!0}
function H(){return!1}function N(d,l,c){var m=l+"defer",A=l+"queue",g=l+"mark",e=f._data(d,m);!e||"queue"!==c&&f._data(d,A)||"mark"!==c&&f._data(d,g)||setTimeout(function(){f._data(d,A)||f._data(d,g)||(f.removeData(d,m,!0),e.fire())},0)}function X(d){for(var l in d)if(("data"!==l||!f.isEmptyObject(d[l]))&&"toJSON"!==l)return!1;return!0}function W(d,l,c){if(c===g&&1===d.nodeType)if(c="data-"+l.replace(eb,"-$1").toLowerCase(),c=d.getAttribute(c),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:
"null"===c?null:f.isNumeric(c)?+c:fb.test(c)?f.parseJSON(c):c}catch(m){}f.data(d,l,c)}else c=g;return c}function ba(d){var l=Da[d]={},c,f;d=d.split(/\s+/);c=0;for(f=d.length;c<f;c++)l[d[c]]=!0;return l}var C=c.document,Y=c.navigator,gb=c.location,f=function(){function d(){if(!l.isReady){try{C.documentElement.doScroll("left")}catch(c){setTimeout(d,1);return}l.ready()}}var l=function(d,c){return new l.fn.init(d,c,A)},f=c.jQuery,m=c.$,A,e=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,n=/\S/,h=/^\s+/,k=
/\s+$/,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,u=/^[\],:{}\s]*$/,t=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,y=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p=/(?:^|:|,)(?:\s*\[)+/g,v=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,D=/(msie) ([\w.]+)/,G=/(mozilla)(?:.*? rv:([\w.]+))?/,J=/-([a-z]|[0-9])/ig,F=/^-ms-/,R=function(d,l){return(l+"").toUpperCase()},L=Y.userAgent,P,fa,ib=Object.prototype.toString,qa=Object.prototype.hasOwnProperty,ra=Array.prototype.push,ha=Array.prototype.slice,
Ea=String.prototype.trim,Fa=Array.prototype.indexOf,E={};l.fn=l.prototype={constructor:l,init:function(d,c,f){var m,B;if(!d)return this;if(d.nodeType)return this.context=this[0]=d,this.length=1,this;if("body"===d&&!c&&C.body)return this.context=C,this[0]=C.body,this.selector=d,this.length=1,this;if("string"==typeof d){"<"!==d.charAt(0)||">"!==d.charAt(d.length-1)||3>d.length?m=e.exec(d):m=[null,d,null];if(m&&(m[1]||!c)){if(m[1])return B=(c=c instanceof l?c[0]:c)?c.ownerDocument||c:C,(f=q.exec(d))?
l.isPlainObject(c)?(d=[C.createElement(f[1])],l.fn.attr.call(d,c,!0)):d=[B.createElement(f[1])]:(f=l.buildFragment([m[1]],[B]),d=(f.cacheable?l.clone(f.fragment):f.fragment).childNodes),l.merge(this,d);if((c=C.getElementById(m[2]))&&c.parentNode){if(c.id!==m[2])return f.find(d);this.length=1;this[0]=c}this.context=C;this.selector=d;return this}return!c||c.jquery?(c||f).find(d):this.constructor(c).find(d)}if(l.isFunction(d))return f.ready(d);d.selector!==g&&(this.selector=d.selector,this.context=d.context);
return l.makeArray(d,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return ha.call(this,0)},get:function(d){return null==d?this.toArray():0>d?this[this.length+d]:this[d]},pushStack:function(d,c,f){var m=this.constructor();l.isArray(d)?ra.apply(m,d):l.merge(m,d);m.prevObject=this;m.context=this.context;"find"===c?m.selector=this.selector+(this.selector?" ":"")+f:c&&(m.selector=this.selector+"."+c+"("+f+")");return m},each:function(d,c){return l.each(this,
d,c)},ready:function(d){l.bindReady();P.add(d);return this},eq:function(d){d=+d;return-1===d?this.slice(d):this.slice(d,d+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ha.apply(this,arguments),"slice",ha.call(arguments).join(","))},map:function(d){return this.pushStack(l.map(this,function(l,c){return d.call(l,c,l)}))},end:function(){return this.prevObject||this.constructor(null)},push:ra,sort:[].sort,splice:[].splice};l.fn.init.prototype=
l.fn;l.extend=l.fn.extend=function(){var d,c,f,m,B,A,e=arguments[0]||{},n=1,P=arguments.length,h=!1;"boolean"==typeof e&&(h=e,e=arguments[1]||{},n=2);"object"!=typeof e&&!l.isFunction(e)&&(e={});for(P===n&&(e=this,--n);n<P;n++)if(null!=(d=arguments[n]))for(c in d)f=e[c],m=d[c],e!==m&&(h&&m&&(l.isPlainObject(m)||(B=l.isArray(m)))?(B?(B=!1,A=f&&l.isArray(f)?f:[]):A=f&&l.isPlainObject(f)?f:{},e[c]=l.extend(h,A,m)):m!==g&&(e[c]=m));return e};l.extend({noConflict:function(d){c.$===l&&(c.$=m);d&&c.jQuery===
l&&(c.jQuery=f);return l},isReady:!1,readyWait:1,holdReady:function(d){d?l.readyWait++:l.ready(!0)},ready:function(d){if(!0===d&&!--l.readyWait||!0!==d&&!l.isReady){if(!C.body)return setTimeout(l.ready,1);l.isReady=!0;!0!==d&&0<--l.readyWait||(P.fireWith(C,[l]),l.fn.trigger&&l(C).trigger("ready").off("ready"))}},bindReady:function(){if(!P){P=l.Callbacks("once memory");if("complete"===C.readyState)return setTimeout(l.ready,1);if(C.addEventListener)C.addEventListener("DOMContentLoaded",fa,!1),c.addEventListener("load",
l.ready,!1);else if(C.attachEvent){C.attachEvent("onreadystatechange",fa);c.attachEvent("onload",l.ready);var f=!1;try{f=null==c.frameElement}catch(m){}C.documentElement.doScroll&&f&&d()}}},isFunction:function(d){return"function"===l.type(d)},isArray:Array.isArray||function(d){return"array"===l.type(d)},isWindow:function(d){return null!=d&&d==d.window},isNumeric:function(d){return!isNaN(parseFloat(d))&&isFinite(d)},type:function(d){return null==d?String(d):E[ib.call(d)]||"object"},isPlainObject:function(d){if(!d||
"object"!==l.type(d)||d.nodeType||l.isWindow(d))return!1;try{if(d.constructor&&!qa.call(d,"constructor")&&!qa.call(d.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var f in d);return f===g||qa.call(d,f)},isEmptyObject:function(d){for(var l in d)return!1;return!0},error:function(d){throw Error(d);},parseJSON:function(d){if("string"!=typeof d||!d)return null;d=l.trim(d);if(c.JSON&&c.JSON.parse)return c.JSON.parse(d);if(u.test(d.replace(t,"@").replace(y,"]").replace(p,"")))return(new Function("return "+
d))();l.error("Invalid JSON: "+d)},parseXML:function(d){if("string"!=typeof d||!d)return null;var f,m;try{c.DOMParser?(m=new DOMParser,f=m.parseFromString(d,"text/xml")):(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(d))}catch(B){f=g}f&&f.documentElement&&!f.getElementsByTagName("parsererror").length||l.error("Invalid XML: "+d);return f},noop:function(){},globalEval:function(d){d&&n.test(d)&&(c.execScript||function(d){c.eval.call(c,d)})(d)},camelCase:function(d){return d.replace(F,
"ms-").replace(J,R)},nodeName:function(d,l){return d.nodeName&&d.nodeName.toUpperCase()===l.toUpperCase()},each:function(d,c,f){var m,B=0,A=d.length,e=A===g||l.isFunction(d);if(f)if(e)for(m in d){if(!1===c.apply(d[m],f))break}else for(;B<A&&!1!==c.apply(d[B++],f););else if(e)for(m in d){if(!1===c.call(d[m],m,d[m]))break}else for(;B<A&&!1!==c.call(d[B],B,d[B++]););return d},trim:Ea?function(d){return null==d?"":Ea.call(d)}:function(d){return null==d?"":(d+"").replace(h,"").replace(k,"")},makeArray:function(d,
c){var f=c||[];if(null!=d){var m=l.type(d);null==d.length||"string"===m||"function"===m||"regexp"===m||l.isWindow(d)?ra.call(f,d):l.merge(f,d)}return f},inArray:function(d,l,c){var f;if(l){if(Fa)return Fa.call(l,d,c);f=l.length;for(c=c?0>c?Math.max(0,f+c):c:0;c<f;c++)if(c in l&&l[c]===d)return c}return-1},merge:function(d,l){var c=d.length,f=0;if("number"==typeof l.length)for(var m=l.length;f<m;f++)d[c++]=l[f];else for(;l[f]!==g;)d[c++]=l[f++];d.length=c;return d},grep:function(d,l,c){var f=[],m;
c=!!c;for(var B=0,A=d.length;B<A;B++)m=!!l(d[B],B),c!==m&&f.push(d[B]);return f},map:function(d,c,f){var m,B,A=[],e=0,n=d.length;if(d instanceof l||n!==g&&"number"==typeof n&&(0<n&&d[0]&&d[n-1]||0===n||l.isArray(d)))for(;e<n;e++)m=c(d[e],e,f),null!=m&&(A[A.length]=m);else for(B in d)m=c(d[B],B,f),null!=m&&(A[A.length]=m);return A.concat.apply([],A)},guid:1,proxy:function(d,c){if("string"==typeof c){var f=d[c];c=d;d=f}if(!l.isFunction(d))return g;var m=ha.call(arguments,2),f=function(){return d.apply(c,
m.concat(ha.call(arguments)))};f.guid=d.guid=d.guid||f.guid||l.guid++;return f},access:function(d,c,f,m,B,A,e){var n,P=null==f,h=0,za=d.length;if(f&&"object"==typeof f){for(h in f)l.access(d,c,h,f[h],1,A,m);B=1}else if(m!==g){n=e===g&&l.isFunction(m);P&&(n?(n=c,c=function(d,c,f){return n.call(l(d),f)}):(c.call(d,m),c=null));if(c)for(;h<za;h++)c(d[h],f,n?m.call(d[h],h,c(d[h],f)):m,e);B=1}return B?d:P?c.call(d):za?c(d[0],f):A},now:function(){return(new Date).getTime()},uaMatch:function(d){d=d.toLowerCase();
d=v.exec(d)||w.exec(d)||D.exec(d)||0>d.indexOf("compatible")&&G.exec(d)||[];return{browser:d[1]||"",version:d[2]||"0"}},sub:function(){function d(l,c){return new d.fn.init(l,c)}l.extend(!0,d,this);d.superclass=this;d.fn=d.prototype=this();d.fn.constructor=d;d.sub=this.sub;d.fn.init=function(f,m){m&&m instanceof l&&!(m instanceof d)&&(m=d(m));return l.fn.init.call(this,f,m,c)};d.fn.init.prototype=d.fn;var c=d(C);return d},browser:{}});l.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(d,l){E["[object "+l+"]"]=l.toLowerCase()});L=l.uaMatch(L);L.browser&&(l.browser[L.browser]=!0,l.browser.version=L.version);l.browser.webkit&&(l.browser.safari=!0);n.test("\u00a0")&&(h=/^[\s\xA0]+/,k=/[\s\xA0]+$/);A=l(C);C.addEventListener?fa=function(){C.removeEventListener("DOMContentLoaded",fa,!1);l.ready()}:C.attachEvent&&(fa=function(){"complete"===C.readyState&&(C.detachEvent("onreadystatechange",fa),l.ready())});return l}(),Da={};f.Callbacks=function(d){d=d?Da[d]||ba(d):{};var l=[],
c=[],m,A,e,n,h,k,q=function(c){var m,B,A,e;m=0;for(B=c.length;m<B;m++)A=c[m],e=f.type(A),"array"===e?q(A):"function"!==e||d.unique&&t.has(A)||l.push(A)},u=function(f,g){g=g||[];m=!d.memory||[f,g];e=A=!0;k=n||0;n=0;for(h=l.length;l&&k<h;k++)if(!1===l[k].apply(f,g)&&d.stopOnFalse){m=!0;break}e=!1;l&&(d.once?!0===m?t.disable():l=[]:c&&c.length&&(m=c.shift(),t.fireWith(m[0],m[1])))},t={add:function(){if(l){var d=l.length;q(arguments);e?h=l.length:m&&!0!==m&&(n=d,u(m[0],m[1]))}return this},remove:function(){if(l)for(var c=
arguments,f=0,m=c.length;f<m;f++)for(var B=0;B<l.length&&(c[f]!==l[B]||(e&&B<=h&&(h--,B<=k&&k--),l.splice(B--,1),!d.unique));B++);return this},has:function(d){if(l)for(var c=0,f=l.length;c<f;c++)if(d===l[c])return!0;return!1},empty:function(){l=[];return this},disable:function(){l=c=m=g;return this},disabled:function(){return!l},lock:function(){c=g;m&&!0!==m||t.disable();return this},locked:function(){return!c},fireWith:function(l,f){c&&(e?d.once||c.push([l,f]):(!d.once||!m)&&u(l,f));return this},
fire:function(){t.fireWith(this,arguments);return this},fired:function(){return!!A}};return t};var sa=[].slice;f.extend({Deferred:function(d){var l=f.Callbacks("once memory"),c=f.Callbacks("once memory"),m=f.Callbacks("memory"),A="pending",e={resolve:l,reject:c,notify:m},g={done:l.add,fail:c.add,progress:m.add,state:function(){return A},isResolved:l.fired,isRejected:c.fired,then:function(d,l,c){n.done(d).fail(l).progress(c);return this},always:function(){n.done.apply(n,arguments).fail.apply(n,arguments);
return this},pipe:function(d,l,c){return f.Deferred(function(m){f.each({done:[d,"resolve"],fail:[l,"reject"],progress:[c,"notify"]},function(d,l){var c=l[0],B=l[1],A;f.isFunction(c)?n[d](function(){(A=c.apply(this,arguments))&&f.isFunction(A.promise)?A.promise().then(m.resolve,m.reject,m.notify):m[B+"With"](this===n?m:this,[A])}):n[d](m[B])})}).promise()},promise:function(d){if(null==d)d=g;else for(var l in g)d[l]=g[l];return d}},n=g.promise({}),h;for(h in e)n[h]=e[h].fire,n[h+"With"]=e[h].fireWith;
n.done(function(){A="resolved"},c.disable,m.lock).fail(function(){A="rejected"},l.disable,m.lock);d&&d.call(n,n);return n},when:function(d){function l(d){return function(l){g[d]=1<arguments.length?sa.call(arguments,0):l;h.notifyWith(k,g)}}function c(d){return function(l){m[d]=1<arguments.length?sa.call(arguments,0):l;--n||h.resolveWith(h,m)}}var m=sa.call(arguments,0),A=0,e=m.length,g=Array(e),n=e,h=1>=e&&d&&f.isFunction(d.promise)?d:f.Deferred(),k=h.promise();if(1<e){for(;A<e;A++)m[A]&&m[A].promise&&
f.isFunction(m[A].promise)?m[A].promise().then(c(A),h.reject,l(A)):--n;n||h.resolveWith(h,m)}else h!==d&&h.resolveWith(h,e?[d]:[]);return k}});f.support=function(){var d,l,B,m,A,e,g,n,h=C.createElement("div");h.setAttribute("className","t");h.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";l=h.getElementsByTagName("*");B=h.getElementsByTagName("a")[0];if(!l||!l.length||!B)return{};m=C.createElement("select");A=m.appendChild(C.createElement("option"));
l=h.getElementsByTagName("input")[0];d={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(B.getAttribute("style")),hrefNormalized:"/a"===B.getAttribute("href"),opacity:/^0.55/.test(B.style.opacity),cssFloat:!!B.style.cssFloat,checkOn:"on"===l.value,optSelected:A.selected,getSetAttribute:"t"!==h.className,enctype:!!C.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==C.createElement("nav").cloneNode(!0).outerHTML,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};f.boxModel=d.boxModel="CSS1Compat"===C.compatMode;l.checked=!0;d.noCloneChecked=l.cloneNode(!0).checked;m.disabled=!0;d.optDisabled=!A.disabled;try{delete h.test}catch(k){d.deleteExpando=!1}!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",function(){d.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"));
l=C.createElement("input");l.value="t";l.setAttribute("type","radio");d.radioValue="t"===l.value;l.setAttribute("checked","checked");l.setAttribute("name","t");h.appendChild(l);B=C.createDocumentFragment();B.appendChild(h.lastChild);d.checkClone=B.cloneNode(!0).cloneNode(!0).lastChild.checked;d.appendChecked=l.checked;B.removeChild(l);B.appendChild(h);if(h.attachEvent)for(g in{submit:1,change:1,focusin:1})l="on"+g,(n=l in h)||(h.setAttribute(l,"return;"),n="function"==typeof h[l]),d[g+"Bubbles"]=
n;B.removeChild(h);B=m=A=h=l=null;f(function(){var l,m,B,A,g,k,q=C.getElementsByTagName("body")[0];!q||(l=C.createElement("div"),l.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",q.insertBefore(l,q.firstChild),h=C.createElement("div"),l.appendChild(h),h.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",e=h.getElementsByTagName("td"),n=0===e[0].offsetHeight,e[0].style.display=
"",e[1].style.display="none",d.reliableHiddenOffsets=n&&0===e[0].offsetHeight,c.getComputedStyle&&(h.innerHTML="",k=C.createElement("div"),k.style.width="0",k.style.marginRight="0",h.style.width="2px",h.appendChild(k),d.reliableMarginRight=0===(parseInt((c.getComputedStyle(k,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof h.style.zoom&&(h.innerHTML="",h.style.width=h.style.padding="1px",h.style.border=0,h.style.overflow="hidden",h.style.display="inline",h.style.zoom=1,d.inlineBlockNeedsLayout=
3===h.offsetWidth,h.style.display="block",h.style.overflow="visible",h.innerHTML="<div style='width:5px;'></div>",d.shrinkWrapBlocks=3!==h.offsetWidth),h.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",h.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",
m=h.firstChild,B=m.firstChild,A=m.nextSibling.firstChild.firstChild,g={doesNotAddBorder:5!==B.offsetTop,doesAddBorderForTableAndCells:5===A.offsetTop},B.style.position="fixed",B.style.top="20px",g.fixedPosition=20===B.offsetTop||15===B.offsetTop,B.style.position=B.style.top="",m.style.overflow="hidden",m.style.position="relative",g.subtractsBorderForOverflowNotVisible=-5===B.offsetTop,g.doesNotIncludeMarginInBodyOffset=1!==q.offsetTop,c.getComputedStyle&&(h.style.marginTop="1%",d.pixelMargin="1%"!==
(c.getComputedStyle(h,null)||{marginTop:0}).marginTop),"undefined"!=typeof l.style.zoom&&(l.style.zoom=1),q.removeChild(l),h=null,f.extend(d,g))});return d}();var fb=/^(?:\{.*\}|\[.*\])$/,eb=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(d){d=d.nodeType?f.cache[d[f.expando]]:d[f.expando];return!!d&&!X(d)},data:function(d,l,c,m){if(f.acceptData(d)){var e,
h;e=f.expando;var n="string"==typeof l,k=d.nodeType,q=k?f.cache:d,u=k?d[e]:d[e]&&e,t="events"===l;if(u&&q[u]&&(t||m||q[u].data)||!n||c!==g){u||(k?d[e]=u=++f.uuid:u=e);q[u]||(q[u]={},k||(q[u].toJSON=f.noop));if("object"==typeof l||"function"==typeof l)m?q[u]=f.extend(q[u],l):q[u].data=f.extend(q[u].data,l);d=e=q[u];m||(e.data||(e.data={}),e=e.data);c!==g&&(e[f.camelCase(l)]=c);if(t&&!e[l])return d.events;n?(h=e[l],null==h&&(h=e[f.camelCase(l)])):h=e;return h}}},removeData:function(d,l,c){if(f.acceptData(d)){var m,
e,g,h=f.expando,n=d.nodeType,k=n?f.cache:d,q=n?d[h]:h;if(k[q]){if(l&&(m=c?k[q]:k[q].data)){f.isArray(l)||(l in m?l=[l]:(l=f.camelCase(l),l in m?l=[l]:l=l.split(" ")));e=0;for(g=l.length;e<g;e++)delete m[l[e]];if(!(c?X:f.isEmptyObject)(m))return}if(!c&&(delete k[q].data,!X(k[q])))return;f.support.deleteExpando||!k.setInterval?delete k[q]:k[q]=null;n&&(f.support.deleteExpando?delete d[h]:d.removeAttribute?d.removeAttribute(h):d[h]=null)}}},_data:function(d,l,c){return f.data(d,l,c,!0)},acceptData:function(d){if(d.nodeName){var l=
f.noData[d.nodeName.toLowerCase()];if(l)return!0!==l&&d.getAttribute("classid")===l}return!0}});f.fn.extend({data:function(d,l){var c,m,e,h,n,k=this[0],q=0,u=null;if(d===g){if(this.length&&(u=f.data(k),1===k.nodeType&&!f._data(k,"parsedAttrs"))){e=k.attributes;for(n=e.length;q<n;q++)h=e[q].name,0===h.indexOf("data-")&&(h=f.camelCase(h.substring(5)),W(k,h,u[h]));f._data(k,"parsedAttrs",!0)}return u}if("object"==typeof d)return this.each(function(){f.data(this,d)});c=d.split(".",2);c[1]=c[1]?"."+c[1]:
"";m=c[1]+"!";return f.access(this,function(l){if(l===g)return u=this.triggerHandler("getData"+m,[c[0]]),u===g&&k&&(u=f.data(k,d),u=W(k,d,u)),u===g&&c[1]?this.data(c[0]):u;c[1]=l;this.each(function(){var e=f(this);e.triggerHandler("setData"+m,c);f.data(this,d,l);e.triggerHandler("changeData"+m,c)})},null,l,1<arguments.length,null,!1)},removeData:function(d){return this.each(function(){f.removeData(this,d)})}});f.extend({_mark:function(d,l){d&&(l=(l||"fx")+"mark",f._data(d,l,(f._data(d,l)||0)+1))},
_unmark:function(d,l,c){!0!==d&&(c=l,l=d,d=!1);if(l){c=c||"fx";var m=c+"mark";(d=d?0:(f._data(l,m)||1)-1)?f._data(l,m,d):(f.removeData(l,m,!0),N(l,c,"mark"))}},queue:function(d,l,c){var m;if(d)return l=(l||"fx")+"queue",m=f._data(d,l),c&&(!m||f.isArray(c)?m=f._data(d,l,f.makeArray(c)):m.push(c)),m||[]},dequeue:function(d,l){l=l||"fx";var c=f.queue(d,l),m=c.shift(),e={};"inprogress"===m&&(m=c.shift());m&&("fx"===l&&c.unshift("inprogress"),f._data(d,l+".run",e),m.call(d,function(){f.dequeue(d,l)},e));
c.length||(f.removeData(d,l+"queue "+l+".run",!0),N(d,l,"queue"))}});f.fn.extend({queue:function(d,l){var c=2;"string"!=typeof d&&(l=d,d="fx",c--);return arguments.length<c?f.queue(this[0],d):l===g?this:this.each(function(){var c=f.queue(this,d,l);"fx"===d&&"inprogress"!==c[0]&&f.dequeue(this,d)})},dequeue:function(d){return this.each(function(){f.dequeue(this,d)})},delay:function(d,l){d=f.fx?f.fx.speeds[d]||d:d;return this.queue(l||"fx",function(l,c){var f=setTimeout(l,d);c.stop=function(){clearTimeout(f)}})},
clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,l){function c(){--n||m.resolveWith(e,[e])}"string"!=typeof d&&(l=d,d=g);d=d||"fx";for(var m=f.Deferred(),e=this,h=e.length,n=1,k=d+"defer",q=d+"queue",u=d+"mark",t;h--;)if(t=f.data(e[h],k,g,!0)||(f.data(e[h],q,g,!0)||f.data(e[h],u,g,!0))&&f.data(e[h],k,f.Callbacks("once memory"),!0))n++,t.add(c);c();return m.promise(l)}});var Ga=/[\n\t\r]/g,ka=/\s+/,jb=/\r/g,kb=/^(?:button|input)$/i,lb=/^(?:button|input|object|select|textarea)$/i,
mb=/^a(?:rea)?$/i,Ha=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ia=f.support.getSetAttribute,Q,Ja,Ka;f.fn.extend({attr:function(d,l){return f.access(this,f.attr,d,l,1<arguments.length)},removeAttr:function(d){return this.each(function(){f.removeAttr(this,d)})},prop:function(d,l){return f.access(this,f.prop,d,l,1<arguments.length)},removeProp:function(d){d=f.propFix[d]||d;return this.each(function(){try{this[d]=g,delete this[d]}catch(l){}})},
addClass:function(d){var l,c,m,e,h,g,n;if(f.isFunction(d))return this.each(function(l){f(this).addClass(d.call(this,l,this.className))});if(d&&"string"==typeof d)for(l=d.split(ka),c=0,m=this.length;c<m;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==l.length){h=" "+e.className+" ";g=0;for(n=l.length;g<n;g++)~h.indexOf(" "+l[g]+" ")||(h+=l[g]+" ");e.className=f.trim(h)}else e.className=d;return this},removeClass:function(d){var l,c,m,e,h,n,k;if(f.isFunction(d))return this.each(function(l){f(this).removeClass(d.call(this,
l,this.className))});if(d&&"string"==typeof d||d===g)for(l=(d||"").split(ka),c=0,m=this.length;c<m;c++)if(e=this[c],1===e.nodeType&&e.className)if(d){h=(" "+e.className+" ").replace(Ga," ");n=0;for(k=l.length;n<k;n++)h=h.replace(" "+l[n]+" "," ");e.className=f.trim(h)}else e.className="";return this},toggleClass:function(d,l){var c=typeof d,m="boolean"==typeof l;return f.isFunction(d)?this.each(function(c){f(this).toggleClass(d.call(this,c,this.className,l),l)}):this.each(function(){if("string"===
c)for(var e,h=0,g=f(this),n=l,k=d.split(ka);e=k[h++];)n=m?n:!g.hasClass(e),g[n?"addClass":"removeClass"](e);else if("undefined"===c||"boolean"===c)this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===d?"":f._data(this,"__className__")||""})},hasClass:function(d){d=" "+d+" ";for(var l=0,c=this.length;l<c;l++)if(1===this[l].nodeType&&-1<(" "+this[l].className+" ").replace(Ga," ").indexOf(d))return!0;return!1},val:function(d){var l,c,m,e=this[0];if(arguments.length)return m=
f.isFunction(d),this.each(function(c){var e=f(this),B;1===this.nodeType&&(m?B=d.call(this,c,e.val()):B=d,null==B?B="":"number"==typeof B?B+="":f.isArray(B)&&(B=f.map(B,function(d){return null==d?"":d+""})),l=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],l&&"set"in l&&l.set(this,B,"value")!==g||(this.value=B))});if(e){if((l=f.valHooks[e.type]||f.valHooks[e.nodeName.toLowerCase()])&&"get"in l&&(c=l.get(e,"value"))!==g)return c;c=e.value;return"string"==typeof c?c.replace(jb,""):null==
c?"":c}}});f.extend({valHooks:{option:{get:function(d){var l=d.attributes.value;return!l||l.specified?d.value:d.text}},select:{get:function(d){var l,c,m=d.selectedIndex,e=[],h=d.options,g="select-one"===d.type;if(0>m)return null;d=g?m:0;for(c=g?m+1:h.length;d<c;d++)if(l=h[d],!(!l.selected||(f.support.optDisabled?l.disabled:null!==l.getAttribute("disabled"))||l.parentNode.disabled&&f.nodeName(l.parentNode,"optgroup"))){l=f(l).val();if(g)return l;e.push(l)}return g&&!e.length&&h.length?f(h[m]).val():
e},set:function(d,l){var c=f.makeArray(l);f(d).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),c)});c.length||(d.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(d,l,c,m){var e,h,n=d.nodeType;if(d&&3!==n&&8!==n&&2!==n){if(m&&l in f.attrFn)return f(d)[l](c);if("undefined"==typeof d.getAttribute)return f.prop(d,l,c);(m=1!==n||!f.isXMLDoc(d))&&(l=l.toLowerCase(),h=f.attrHooks[l]||(Ha.test(l)?Ja:Q));if(c!==
g){if(null===c){f.removeAttr(d,l);return}if(h&&"set"in h&&m&&(e=h.set(d,c,l))!==g)return e;d.setAttribute(l,""+c);return c}if(h&&"get"in h&&m&&null!==(e=h.get(d,l)))return e;e=d.getAttribute(l);return null===e?g:e}},removeAttr:function(d,l){var c,m,e,h,g,n=0;if(l&&1===d.nodeType)for(m=l.toLowerCase().split(ka),h=m.length;n<h;n++)(e=m[n])&&(c=f.propFix[e]||e,g=Ha.test(e),g||f.attr(d,e,""),d.removeAttribute(Ia?e:c),g&&c in d&&(d[c]=!1))},attrHooks:{type:{set:function(d,l){if(kb.test(d.nodeName)&&d.parentNode)f.error("type property can't be changed");
else if(!f.support.radioValue&&"radio"===l&&f.nodeName(d,"input")){var c=d.value;d.setAttribute("type",l);c&&(d.value=c);return l}}},value:{get:function(d,l){return Q&&f.nodeName(d,"button")?Q.get(d,l):l in d?d.value:null},set:function(d,l,c){if(Q&&f.nodeName(d,"button"))return Q.set(d,l,c);d.value=l}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(d,l,c){var m,e,h;h=d.nodeType;if(d&&3!==h&&8!==h&&2!==h)return(h=1!==h||!f.isXMLDoc(d))&&(l=f.propFix[l]||l,e=f.propHooks[l]),c!==g?e&&"set"in e&&(m=e.set(d,c,l))!==g?m:d[l]=c:e&&"get"in e&&null!==(m=e.get(d,l))?m:d[l]},propHooks:{tabIndex:{get:function(d){var l=d.getAttributeNode("tabindex");return l&&l.specified?parseInt(l.value,10):lb.test(d.nodeName)||mb.test(d.nodeName)&&d.href?0:g}}}});f.attrHooks.tabindex=f.propHooks.tabIndex;
Ja={get:function(d,l){var c,m=f.prop(d,l);return!0===m||"boolean"!=typeof m&&(c=d.getAttributeNode(l))&&!1!==c.nodeValue?l.toLowerCase():g},set:function(d,l,c){var m;!1===l?f.removeAttr(d,c):(m=f.propFix[c]||c,m in d&&(d[m]=!0),d.setAttribute(c,c.toLowerCase()));return c}};Ia||(Ka={name:!0,id:!0,coords:!0},Q=f.valHooks.button={get:function(d,l){var c;return(c=d.getAttributeNode(l))&&(Ka[l]?""!==c.nodeValue:c.specified)?c.nodeValue:g},set:function(d,l,c){var f=d.getAttributeNode(c);f||(f=C.createAttribute(c),
d.setAttributeNode(f));return f.nodeValue=l+""}},f.attrHooks.tabindex.set=Q.set,f.each(["width","height"],function(d,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{set:function(d,f){if(""===f)return d.setAttribute(c,"auto"),f}})}),f.attrHooks.contenteditable={get:Q.get,set:function(d,c,f){""===c&&(c="false");Q.set(d,c,f)}});f.support.hrefNormalized||f.each(["href","src","width","height"],function(d,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(d){d=d.getAttribute(c,2);return null===d?g:d}})});
f.support.style||(f.attrHooks.style={get:function(d){return d.style.cssText.toLowerCase()||g},set:function(d,c){return d.style.cssText=""+c}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(d){d=d.parentNode;d&&(d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex);return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(d){return null===d.getAttribute("value")?
"on":d.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(d,c){if(f.isArray(c))return d.checked=0<=f.inArray(f(d).val(),c)}})});var ta=/^(?:textarea|input|select)$/i,La=/^([^\.]*)?(?:\.(.+))?$/,nb=/(?:^|\s)hover(\.\S+)?\b/,ob=/^key/,pb=/^(?:mouse|contextmenu)|click/,Ma=/^(?:focusinfocus|focusoutblur)$/,qb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,rb=function(d){(d=qb.exec(d))&&(d[1]=(d[1]||"").toLowerCase(),d[3]=d[3]&&new RegExp("(?:^|\\s)"+d[3]+
"(?:\\s|$)"));return d},Na=function(d){return f.event.special.hover?d:d.replace(nb,"mouseenter$1 mouseleave$1")};f.event={add:function(d,c,e,m,h){var n,k,q,u,t,y,p,v,w;if(3!==d.nodeType&&8!==d.nodeType&&c&&e&&(n=f._data(d))){e.handler&&(p=e,e=p.handler,h=p.selector);e.guid||(e.guid=f.guid++);(q=n.events)||(n.events=q={});(k=n.handle)||(n.handle=k=function(d){return"undefined"==typeof f||d&&f.event.triggered===d.type?g:f.event.dispatch.apply(k.elem,arguments)},k.elem=d);c=f.trim(Na(c)).split(" ");
for(n=0;n<c.length;n++)u=La.exec(c[n])||[],t=u[1],y=(u[2]||"").split(".").sort(),w=f.event.special[t]||{},t=(h?w.delegateType:w.bindType)||t,w=f.event.special[t]||{},u=f.extend({type:t,origType:u[1],data:m,handler:e,guid:e.guid,selector:h,quick:h&&rb(h),namespace:y.join(".")},p),v=q[t],v||(v=q[t]=[],v.delegateCount=0,w.setup&&!1!==w.setup.call(d,m,y,k)||(d.addEventListener?d.addEventListener(t,k,!1):d.attachEvent&&d.attachEvent("on"+t,k))),w.add&&(w.add.call(d,u),u.handler.guid||(u.handler.guid=e.guid)),
h?v.splice(v.delegateCount++,0,u):v.push(u),f.event.global[t]=!0;d=null}},global:{},remove:function(d,c,e,m,h){var g=f.hasData(d)&&f._data(d),n,k,u,q,t,y,p,v,w,D,G;if(g&&(p=g.events)){c=f.trim(Na(c||"")).split(" ");for(n=0;n<c.length;n++)if(k=La.exec(c[n])||[],u=q=k[1],k=k[2],u){v=f.event.special[u]||{};u=(m?v.delegateType:v.bindType)||u;D=p[u]||[];t=D.length;k=k?new RegExp("(^|\\.)"+k.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(y=0;y<D.length;y++)G=D[y],!h&&q!==G.origType||e&&e.guid!==
G.guid||k&&!k.test(G.namespace)||m&&m!==G.selector&&("**"!==m||!G.selector)||(D.splice(y--,1),G.selector&&D.delegateCount--,!v.remove||v.remove.call(d,G));0===D.length&&t!==D.length&&((!v.teardown||!1===v.teardown.call(d,k))&&f.removeEvent(d,u,g.handle),delete p[u])}else for(u in p)f.event.remove(d,u+c[n],e,m,!0);f.isEmptyObject(p)&&(w=g.handle,w&&(w.elem=null),f.removeData(d,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(d,l,e,m){if(!e||3!==e.nodeType&&
8!==e.nodeType){var h=d.type||d,n=[],k,u,q,t,y,p;if(!Ma.test(h+f.event.triggered)&&(0<=h.indexOf("!")&&(h=h.slice(0,-1),k=!0),0<=h.indexOf(".")&&(n=h.split("."),h=n.shift(),n.sort()),e&&!f.event.customEvent[h]||f.event.global[h]))if(d="object"==typeof d?d[f.expando]?d:new f.Event(h,d):new f.Event(h),d.type=h,d.isTrigger=!0,d.exclusive=k,d.namespace=n.join("."),d.namespace_re=d.namespace?new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,k=0>h.indexOf(":")?"on"+h:"",e){if(d.result=g,d.target||
(d.target=e),l=null!=l?f.makeArray(l):[],l.unshift(d),t=f.event.special[h]||{},!t.trigger||!1!==t.trigger.apply(e,l)){p=[[e,t.bindType||h]];if(!m&&!t.noBubble&&!f.isWindow(e)){u=t.delegateType||h;n=Ma.test(u+h)?e:e.parentNode;for(q=null;n;n=n.parentNode)p.push([n,u]),q=n;q&&q===e.ownerDocument&&p.push([q.defaultView||q.parentWindow||c,u])}for(u=0;u<p.length&&!d.isPropagationStopped();u++)n=p[u][0],d.type=p[u][1],(y=(f._data(n,"events")||{})[d.type]&&f._data(n,"handle"))&&y.apply(n,l),(y=k&&n[k])&&
f.acceptData(n)&&!1===y.apply(n,l)&&d.preventDefault();d.type=h;!(m||d.isDefaultPrevented()||t._default&&!1!==t._default.apply(e.ownerDocument,l)||"click"===h&&f.nodeName(e,"a"))&&f.acceptData(e)&&k&&e[h]&&("focus"!==h&&"blur"!==h||0!==d.target.offsetWidth)&&!f.isWindow(e)&&(q=e[k],q&&(e[k]=null),f.event.triggered=h,e[h](),f.event.triggered=g,q&&(e[k]=q));return d.result}}else for(u in e=f.cache,e)e[u].events&&e[u].events[h]&&f.event.trigger(d,l,e[u].handle.elem,!0)}},dispatch:function(d){d=f.event.fix(d||
c.event);var l=(f._data(this,"events")||{})[d.type]||[],e=l.delegateCount,m=[].slice.call(arguments,0),h=!d.exclusive&&!d.namespace,n=f.event.special[d.type]||{},k=[],u,q,t,y,p,v,w;m[0]=d;d.delegateTarget=this;if(!n.preDispatch||!1!==n.preDispatch.call(this,d)){if(e&&(!d.button||"click"!==d.type))for(t=f(this),t.context=this.ownerDocument||this,q=d.target;q!=this;q=q.parentNode||this)if(!0!==q.disabled){p={};v=[];t[0]=q;for(u=0;u<e;u++){y=l[u];w=y.selector;if(p[w]===g){var D=p,G=w,J;if(y.quick){J=
y.quick;var F=q.attributes||{};J=(!J[1]||q.nodeName.toLowerCase()===J[1])&&(!J[2]||(F.id||{}).value===J[2])&&(!J[3]||J[3].test((F["class"]||{}).value))}else J=t.is(w);D[G]=J}p[w]&&v.push(y)}v.length&&k.push({elem:q,matches:v})}l.length>e&&k.push({elem:this,matches:l.slice(e)});for(u=0;u<k.length&&!d.isPropagationStopped();u++)for(e=k[u],d.currentTarget=e.elem,l=0;l<e.matches.length&&!d.isImmediatePropagationStopped();l++)if(y=e.matches[l],h||!d.namespace&&!y.namespace||d.namespace_re&&d.namespace_re.test(y.namespace))d.data=
y.data,d.handleObj=y,y=((f.event.special[y.origType]||{}).handle||y.handler).apply(e.elem,m),y!==g&&(d.result=y,!1===y&&(d.preventDefault(),d.stopPropagation()));n.postDispatch&&n.postDispatch.call(this,d);return d.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(d,c){null==d.which&&
(d.which=null!=c.charCode?c.charCode:c.keyCode);return d}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(d,c){var f,m,e,h=c.button,n=c.fromElement;null==d.pageX&&null!=c.clientX&&(f=d.target.ownerDocument||C,m=f.documentElement,e=f.body,d.pageX=c.clientX+(m&&m.scrollLeft||e&&e.scrollLeft||0)-(m&&m.clientLeft||e&&e.clientLeft||0),d.pageY=c.clientY+(m&&m.scrollTop||e&&e.scrollTop||0)-(m&&m.clientTop||e&&
e.clientTop||0));!d.relatedTarget&&n&&(d.relatedTarget=n===d.target?c.toElement:n);!d.which&&h!==g&&(d.which=h&1?1:h&2?3:h&4?2:0);return d}},fix:function(d){if(d[f.expando])return d;var c,e,m=d,h=f.event.fixHooks[d.type]||{},n=h.props?this.props.concat(h.props):this.props;d=f.Event(m);for(c=n.length;c;)e=n[--c],d[e]=m[e];d.target||(d.target=m.srcElement||C);3===d.target.nodeType&&(d.target=d.target.parentNode);d.metaKey===g&&(d.metaKey=d.ctrlKey);return h.filter?h.filter(d,m):d},special:{ready:{setup:f.bindReady},
load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(d,c,e){f.isWindow(this)&&(this.onbeforeunload=e)},teardown:function(d,c){this.onbeforeunload===c&&(this.onbeforeunload=null)}}},simulate:function(d,c,e,m){d=f.extend(new f.Event,e,{type:d,isSimulated:!0,originalEvent:{}});m?f.event.trigger(d,null,c):f.event.dispatch.call(c,d);d.isDefaultPrevented()&&e.preventDefault()}};f.event.handle=f.event.dispatch;f.removeEvent=C.removeEventListener?function(d,
c,f){d.removeEventListener&&d.removeEventListener(c,f,!1)}:function(d,c,f){d.detachEvent&&d.detachEvent("on"+c,f)};f.Event=function(d,c){if(!(this instanceof f.Event))return new f.Event(d,c);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||!1===d.returnValue||d.getPreventDefault&&d.getPreventDefault()?S:H):this.type=d;c&&f.extend(this,c);this.timeStamp=d&&d.timeStamp||f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=
S;var d=this.originalEvent;!d||(d.preventDefault?d.preventDefault():d.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=S;var d=this.originalEvent;!d||(d.stopPropagation&&d.stopPropagation(),d.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=S;this.stopPropagation()},isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(d,c){f.event.special[d]={delegateType:c,
bindType:c,handle:function(d){var m=d.relatedTarget,e=d.handleObj,h;if(!m||m!==this&&!f.contains(this,m))d.type=e.origType,h=e.handler.apply(this,arguments),d.type=c;return h}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(d){d=d.target;(d=f.nodeName(d,"input")||f.nodeName(d,"button")?d.form:g)&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(d){d._submit_bubble=!0}),
d._submit_attached=!0)})},postDispatch:function(d){d._submit_bubble&&(delete d._submit_bubble,this.parentNode&&!d.isTrigger&&f.event.simulate("submit",this.parentNode,d,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(ta.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)f.event.add(this,"propertychange._change",function(d){"checked"===d.originalEvent.propertyName&&
(this._just_changed=!0)}),f.event.add(this,"click._change",function(d){this._just_changed&&!d.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,d,!0))});return!1}f.event.add(this,"beforeactivate._change",function(d){d=d.target;ta.test(d.nodeName)&&!d._change_attached&&(f.event.add(d,"change._change",function(d){this.parentNode&&!d.isSimulated&&!d.isTrigger&&f.event.simulate("change",this.parentNode,d,!0)}),d._change_attached=!0)})},handle:function(d){var c=d.target;if(this!==c||d.isSimulated||
d.isTrigger||"radio"!==c.type&&"checkbox"!==c.type)return d.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return ta.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(d,c){var e=0,m=function(d){f.event.simulate(c,d.target,f.event.fix(d),!0)};f.event.special[c]={setup:function(){0===e++&&C.addEventListener(d,m,!0)},teardown:function(){0===--e&&C.removeEventListener(d,m,!0)}}});f.fn.extend({on:function(d,
c,e,m,h){var n,k;if("object"==typeof d){"string"!=typeof c&&(e=e||c,c=g);for(k in d)this.on(k,c,e,d[k],h);return this}null==e&&null==m?(m=c,e=c=g):null==m&&("string"==typeof c?(m=e,e=g):(m=e,e=c,c=g));if(!1===m)m=H;else if(!m)return this;1===h&&(n=m,m=function(d){f().off(d);return n.apply(this,arguments)},m.guid=n.guid||(n.guid=f.guid++));return this.each(function(){f.event.add(this,d,m,e,c)})},one:function(d,c,f,m){return this.on(d,c,f,m,1)},off:function(d,c,e){if(d&&d.preventDefault&&d.handleObj){var m=
d.handleObj;f(d.delegateTarget).off(m.namespace?m.origType+"."+m.namespace:m.origType,m.selector,m.handler);return this}if("object"==typeof d){for(m in d)this.off(m,c,d[m]);return this}if(!1===c||"function"==typeof c)e=c,c=g;!1===e&&(e=H);return this.each(function(){f.event.remove(this,d,e,c)})},bind:function(d,c,f){return this.on(d,null,c,f)},unbind:function(d,c){return this.off(d,null,c)},live:function(d,c,e){f(this.context).on(d,this.selector,c,e);return this},die:function(d,c){f(this.context).off(d,
this.selector||"**",c);return this},delegate:function(d,c,f,m){return this.on(c,d,f,m)},undelegate:function(d,c,f){return 1==arguments.length?this.off(d,"**"):this.off(c,d,f)},trigger:function(d,c){return this.each(function(){f.event.trigger(d,c,this)})},triggerHandler:function(d,c){if(this[0])return f.event.trigger(d,c,this[0],!0)},toggle:function(d){var c=arguments,e=d.guid||f.guid++,m=0,h=function(e){var h=(f._data(this,"lastToggle"+d.guid)||0)%m;f._data(this,"lastToggle"+d.guid,h+1);e.preventDefault();
return c[h].apply(this,arguments)||!1};for(h.guid=e;m<c.length;)c[m++].guid=e;return this.click(h)},hover:function(d,c){return this.mouseenter(d).mouseleave(c||d)}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(d,c){f.fn[c]=function(d,f){null==f&&(f=d,d=null);return 0<arguments.length?this.on(c,null,d,f):this.trigger(c)};
f.attrFn&&(f.attrFn[c]=!0);ob.test(c)&&(f.event.fixHooks[c]=f.event.keyHooks);pb.test(c)&&(f.event.fixHooks[c]=f.event.mouseHooks)});(function(){function d(d,c,l,f,e,h){e=0;for(var n=f.length;e<n;e++){var g=f[e];if(g){for(var k=!1,g=g[d];g;){if(g[m]===l){k=f[g.sizset];break}if(1===g.nodeType)if(h||(g[m]=l,g.sizset=e),"string"!=typeof c){if(g===c){k=!0;break}}else if(0<p.filter(c,[g]).length){k=g;break}g=g[d]}f[e]=k}}}function c(d,f,l,e,h,n){h=0;for(var g=e.length;h<g;h++){var k=e[h];if(k){for(var B=
!1,k=k[d];k;){if(k[m]===l){B=e[k.sizset];break}1===k.nodeType&&!n&&(k[m]=l,k.sizset=h);if(k.nodeName.toLowerCase()===f){B=k;break}k=k[d]}e[h]=B}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,m="sizcache"+(Math.random()+"").replace(".",""),h=0,n=Object.prototype.toString,k=!1,u=!0,q=/\\/g,t=/\r\n/g,y=/\W/;[0,0].sort(function(){u=!1;return 0});var p=function(d,c,l,f){l=l||[];var m=c=c||C;if(1!==c.nodeType&&
9!==c.nodeType)return[];if(!d||"string"!=typeof d)return l;var h,g,k,u,q,t,A=!0,y=p.isXML(c),v=[],Aa=d;do if(e.exec(""),h=e.exec(Aa))if(Aa=h[3],v.push(h[1]),h[2]){u=h[3];break}while(h);if(1<v.length&&D.exec(d))if(2===v.length&&w.relative[v[0]])g=K(v[0]+v[1],c,f);else for(g=w.relative[v[0]]?[c]:p(v.shift(),c);v.length;)d=v.shift(),w.relative[d]&&(d+=v.shift()),g=K(d,g,f);else if(!f&&1<v.length&&9===c.nodeType&&!y&&w.match.ID.test(v[0])&&!w.match.ID.test(v[v.length-1])&&(q=p.find(v.shift(),c,y),c=q.expr?
p.filter(q.expr,q.set)[0]:q.set[0]),c)for(q=f?{expr:v.pop(),set:F(f)}:p.find(v.pop(),1!==v.length||"~"!==v[0]&&"+"!==v[0]||!c.parentNode?c:c.parentNode,y),g=q.expr?p.filter(q.expr,q.set):q.set,0<v.length?k=F(g):A=!1;v.length;)h=t=v.pop(),w.relative[t]?h=v.pop():t="",null==h&&(h=c),w.relative[t](k,h,y);else k=[];k||(k=g);k||p.error(t||d);if("[object Array]"===n.call(k))if(A)if(c&&1===c.nodeType)for(d=0;null!=k[d];d++)k[d]&&(!0===k[d]||1===k[d].nodeType&&p.contains(c,k[d]))&&l.push(g[d]);else for(d=
0;null!=k[d];d++)k[d]&&1===k[d].nodeType&&l.push(g[d]);else l.push.apply(l,k);else F(k,l);u&&(p(u,m,l,f),p.uniqueSort(l));return l};p.uniqueSort=function(d){if(L&&(k=u,d.sort(L),k))for(var c=1;c<d.length;c++)d[c]===d[c-1]&&d.splice(c--,1);return d};p.matches=function(d,c){return p(d,null,null,c)};p.matchesSelector=function(d,c){return 0<p(c,null,null,[d]).length};p.find=function(d,c,l){var f,e,m,h,n,g;if(!d)return[];e=0;for(m=w.order.length;e<m;e++)if(n=w.order[e],h=w.leftMatch[n].exec(d))if(g=h[1],
h.splice(1,1),"\\"!==g.substr(g.length-1)&&(h[1]=(h[1]||"").replace(q,""),f=w.find[n](h,c,l),null!=f)){d=d.replace(w.match[n],"");break}f||(f="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName("*"):[]);return{set:f,expr:d}};p.filter=function(d,c,l,f){for(var e,m,h,n,k,B,q,u,t=d,A=[],y=c,v=c&&c[0]&&p.isXML(c[0]);d&&c.length;){for(h in w.filter)if(null!=(e=w.leftMatch[h].exec(d))&&e[2]&&(B=w.filter[h],k=e[1],m=!1,e.splice(1,1),"\\"!==k.substr(k.length-1))){y===A&&(A=[]);if(w.preFilter[h])if(e=
w.preFilter[h](e,y,l,A,f,v),!e)m=n=!0;else if(!0===e)continue;if(e)for(q=0;null!=(k=y[q]);q++)k&&(n=B(k,e,q,y),u=f^n,l&&null!=n?u?m=!0:y[q]=!1:u&&(A.push(k),m=!0));if(n!==g){l||(y=A);d=d.replace(w.match[h],"");if(!m)return[];break}}if(d===t)if(null==m)p.error(d);else break;t=d}return y};p.error=function(d){throw Error("Syntax error, unrecognized expression: "+d);};var v=p.getText=function(d){var c,l;c=d.nodeType;var f="";if(c)if(1===c||9===c||11===c){if("string"==typeof d.textContent)return d.textContent;
if("string"==typeof d.innerText)return d.innerText.replace(t,"");for(d=d.firstChild;d;d=d.nextSibling)f+=v(d)}else{if(3===c||4===c)return d.nodeValue}else for(c=0;l=d[c];c++)8!==l.nodeType&&(f+=v(l));return f},w=p.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(d){return d.getAttribute("href")},type:function(d){return d.getAttribute("type")}},relative:{"+":function(d,c){var l=
"string"==typeof c,f=l&&!y.test(c),l=l&&!f;f&&(c=c.toLowerCase());for(var f=0,e=d.length,m;f<e;f++)if(m=d[f]){for(;(m=m.previousSibling)&&1!==m.nodeType;);d[f]=l||m&&m.nodeName.toLowerCase()===c?m||!1:m===c}l&&p.filter(c,d,!0)},">":function(d,c){var f,l="string"==typeof c,e=0,m=d.length;if(l&&!y.test(c))for(c=c.toLowerCase();e<m;e++){if(f=d[e])f=f.parentNode,d[e]=f.nodeName.toLowerCase()===c?f:!1}else{for(;e<m;e++)(f=d[e])&&(d[e]=l?f.parentNode:f.parentNode===c);l&&p.filter(c,d,!0)}},"":function(f,
e,m){var n,g=h++,k=d;"string"==typeof e&&!y.test(e)&&(e=e.toLowerCase(),n=e,k=c);k("parentNode",e,g,f,n,m)},"~":function(f,e,m){var n,g=h++,k=d;"string"==typeof e&&!y.test(e)&&(e=e.toLowerCase(),n=e,k=c);k("previousSibling",e,g,f,n,m)}},find:{ID:function(d,c,f){if("undefined"!=typeof c.getElementById&&!f)return(d=c.getElementById(d[1]))&&d.parentNode?[d]:[]},NAME:function(d,c){if("undefined"!=typeof c.getElementsByName){for(var f=[],l=c.getElementsByName(d[1]),e=0,m=l.length;e<m;e++)l[e].getAttribute("name")===
d[1]&&f.push(l[e]);return 0===f.length?null:f}},TAG:function(d,c){if("undefined"!=typeof c.getElementsByTagName)return c.getElementsByTagName(d[1])}},preFilter:{CLASS:function(d,c,f,l,e,m){d=" "+d[1].replace(q,"")+" ";if(m)return d;m=0;for(var h;null!=(h=c[m]);m++)h&&(e^(h.className&&0<=(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(d))?f||l.push(h):f&&(c[m]=!1));return!1},ID:function(d){return d[1].replace(q,"")},TAG:function(d,c){return d[1].replace(q,"").toLowerCase()},CHILD:function(d){if("nth"===
d[1]){d[2]||p.error(d[0]);d[2]=d[2].replace(/^\+|\s*/g,"");var c=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===d[2]&&"2n"||"odd"===d[2]&&"2n+1"||!/\D/.test(d[2])&&"0n+"+d[2]||d[2]);d[2]=c[1]+(c[2]||1)-0;d[3]=c[3]-0}else d[2]&&p.error(d[0]);d[0]=h++;return d},ATTR:function(d,c,f,l,e,m){c=d[1]=d[1].replace(q,"");!m&&w.attrMap[c]&&(d[1]=w.attrMap[c]);d[4]=(d[4]||d[5]||"").replace(q,"");"~="===d[2]&&(d[4]=" "+d[4]+" ");return d},PSEUDO:function(d,c,f,l,m){if("not"===d[1])if(1<(e.exec(d[3])||"").length||
/^\w/.test(d[3]))d[3]=p(d[3],null,null,c);else return d=p.filter(d[3],c,f,1^m),f||l.push.apply(l,d),!1;else if(w.match.POS.test(d[0])||w.match.CHILD.test(d[0]))return!0;return d},POS:function(d){d.unshift(!0);return d}},filters:{enabled:function(d){return!1===d.disabled&&"hidden"!==d.type},disabled:function(d){return!0===d.disabled},checked:function(d){return!0===d.checked},selected:function(d){d.parentNode&&d.parentNode.selectedIndex;return!0===d.selected},parent:function(d){return!!d.firstChild},
empty:function(d){return!d.firstChild},has:function(d,c,f){return!!p(f[3],d).length},header:function(d){return/h\d/i.test(d.nodeName)},text:function(d){var c=d.getAttribute("type"),f=d.type;return"input"===d.nodeName.toLowerCase()&&"text"===f&&(c===f||null===c)},radio:function(d){return"input"===d.nodeName.toLowerCase()&&"radio"===d.type},checkbox:function(d){return"input"===d.nodeName.toLowerCase()&&"checkbox"===d.type},file:function(d){return"input"===d.nodeName.toLowerCase()&&"file"===d.type},
password:function(d){return"input"===d.nodeName.toLowerCase()&&"password"===d.type},submit:function(d){var c=d.nodeName.toLowerCase();return("input"===c||"button"===c)&&"submit"===d.type},image:function(d){return"input"===d.nodeName.toLowerCase()&&"image"===d.type},reset:function(d){var c=d.nodeName.toLowerCase();return("input"===c||"button"===c)&&"reset"===d.type},button:function(d){var c=d.nodeName.toLowerCase();return"input"===c&&"button"===d.type||"button"===c},input:function(d){return/input|select|textarea|button/i.test(d.nodeName)},
focus:function(d){return d===d.ownerDocument.activeElement}},setFilters:{first:function(d,c){return 0===c},last:function(d,c,f,l){return c===l.length-1},even:function(d,c){return 0===c%2},odd:function(d,c){return 1===c%2},lt:function(d,c,f){return c<f[3]-0},gt:function(d,c,f){return c>f[3]-0},nth:function(d,c,f){return f[3]-0===c},eq:function(d,c,f){return f[3]-0===c}},filter:{PSEUDO:function(d,c,f,l){var e=c[1],m=w.filters[e];if(m)return m(d,f,c,l);if("contains"===e)return 0<=(d.textContent||d.innerText||
v([d])||"").indexOf(c[3]);if("not"===e){c=c[3];f=0;for(l=c.length;f<l;f++)if(c[f]===d)return!1;return!0}p.error(e)},CHILD:function(d,c){var f,l,e,h,n,g;f=c[1];g=d;switch(f){case "only":case "first":for(;g=g.previousSibling;)if(1===g.nodeType)return!1;if("first"===f)return!0;g=d;case "last":for(;g=g.nextSibling;)if(1===g.nodeType)return!1;return!0;case "nth":f=c[2];l=c[3];if(1===f&&0===l)return!0;e=c[0];if((h=d.parentNode)&&(h[m]!==e||!d.nodeIndex)){n=0;for(g=h.firstChild;g;g=g.nextSibling)1===g.nodeType&&
(g.nodeIndex=++n);h[m]=e}g=d.nodeIndex-l;return 0===f?0===g:0===g%f&&0<=g/f}},ID:function(d,c){return 1===d.nodeType&&d.getAttribute("id")===c},TAG:function(d,c){return"*"===c&&1===d.nodeType||!!d.nodeName&&d.nodeName.toLowerCase()===c},CLASS:function(d,c){return-1<(" "+(d.className||d.getAttribute("class"))+" ").indexOf(c)},ATTR:function(d,c){var f=c[1],f=p.attr?p.attr(d,f):w.attrHandle[f]?w.attrHandle[f](d):null!=d[f]?d[f]:d.getAttribute(f),l=f+"",e=c[2],m=c[4];return null==f?"!="===e:!e&&p.attr?
null!=f:"="===e?l===m:"*="===e?0<=l.indexOf(m):"~="===e?0<=(" "+l+" ").indexOf(m):m?"!="===e?l!==m:"^="===e?0===l.indexOf(m):"$="===e?l.substr(l.length-m.length)===m:"|="===e?l===m||l.substr(0,m.length+1)===m+"-":!1:l&&!1!==f},POS:function(d,c,f,l){var e=w.setFilters[c[2]];if(e)return e(d,f,c,l)}}},D=w.match.POS,G=function(d,c){return"\\"+(c-0+1)},J;for(J in w.match)w.match[J]=new RegExp(w.match[J].source+/(?![^\[]*\])(?![^\(]*\))/.source),w.leftMatch[J]=new RegExp(/(^(?:.|\r|\n)*?)/.source+w.match[J].source.replace(/\\(\d+)/g,
G));w.match.globalPOS=D;var F=function(d,c){d=Array.prototype.slice.call(d,0);return c?(c.push.apply(c,d),c):d};try{Array.prototype.slice.call(C.documentElement.childNodes,0)[0].nodeType}catch(R){F=function(d,c){var f=0,l=c||[];if("[object Array]"===n.call(d))Array.prototype.push.apply(l,d);else if("number"==typeof d.length)for(var e=d.length;f<e;f++)l.push(d[f]);else for(;d[f];f++)l.push(d[f]);return l}}var L,E;C.documentElement.compareDocumentPosition?L=function(d,c){return d===c?(k=!0,0):d.compareDocumentPosition&&
c.compareDocumentPosition?d.compareDocumentPosition(c)&4?-1:1:d.compareDocumentPosition?-1:1}:(L=function(d,c){if(d===c)return k=!0,0;if(d.sourceIndex&&c.sourceIndex)return d.sourceIndex-c.sourceIndex;var f,l,e=[],m=[];f=d.parentNode;l=c.parentNode;var h=f;if(f===l)return E(d,c);if(!f)return-1;if(!l)return 1;for(;h;)e.unshift(h),h=h.parentNode;for(h=l;h;)m.unshift(h),h=h.parentNode;f=e.length;l=m.length;for(h=0;h<f&&h<l;h++)if(e[h]!==m[h])return E(e[h],m[h]);return h===f?E(d,m[h],-1):E(e[h],c,1)},
E=function(d,c,f){if(d===c)return f;for(d=d.nextSibling;d;){if(d===c)return-1;d=d.nextSibling}return 1});(function(){var d=C.createElement("div"),c="script"+(new Date).getTime(),f=C.documentElement;d.innerHTML="<a name='"+c+"'/>";f.insertBefore(d,f.firstChild);C.getElementById(c)&&(w.find.ID=function(d,c,f){if("undefined"!=typeof c.getElementById&&!f)return(c=c.getElementById(d[1]))?c.id===d[1]||"undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id").nodeValue===d[1]?[c]:g:[]},w.filter.ID=
function(d,c){var f="undefined"!=typeof d.getAttributeNode&&d.getAttributeNode("id");return 1===d.nodeType&&f&&f.nodeValue===c});f.removeChild(d);f=d=null})();(function(){var d=C.createElement("div");d.appendChild(C.createComment(""));0<d.getElementsByTagName("*").length&&(w.find.TAG=function(d,c){var f=c.getElementsByTagName(d[1]);if("*"===d[1]){for(var l=[],e=0;f[e];e++)1===f[e].nodeType&&l.push(f[e]);f=l}return f});d.innerHTML="<a href='#'></a>";d.firstChild&&"undefined"!=typeof d.firstChild.getAttribute&&
"#"!==d.firstChild.getAttribute("href")&&(w.attrHandle.href=function(d){return d.getAttribute("href",2)});d=null})();C.querySelectorAll&&function(){var d=p,c=C.createElement("div");c.innerHTML="<p class='TEST'></p>";if(!c.querySelectorAll||0!==c.querySelectorAll(".TEST").length){p=function(c,f,l,e){f=f||C;if(!e&&!p.isXML(f)){var m=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(c);if(m&&(1===f.nodeType||9===f.nodeType)){if(m[1])return F(f.getElementsByTagName(c),l);if(m[2]&&w.find.CLASS&&f.getElementsByClassName)return F(f.getElementsByClassName(m[2]),
l)}if(9===f.nodeType){if("body"===c&&f.body)return F([f.body],l);if(m&&m[3]){var h=f.getElementById(m[3]);if(!h||!h.parentNode)return F([],l);if(h.id===m[3])return F([h],l)}try{return F(f.querySelectorAll(c),l)}catch(g){}}else if(1===f.nodeType&&"object"!==f.nodeName.toLowerCase()){var m=f,n=(h=f.getAttribute("id"))||"__sizzle__",k=f.parentNode,B=/^\s*[+~]/.test(c);h?n=n.replace(/'/g,"\\$&"):f.setAttribute("id",n);B&&k&&(f=f.parentNode);try{if(!B||k)return F(f.querySelectorAll("[id='"+n+"'] "+c),
l)}catch(q){}finally{h||m.removeAttribute("id")}}}return d(c,f,l,e)};for(var f in d)p[f]=d[f];c=null}}();(function(){var d=C.documentElement,c=d.matchesSelector||d.mozMatchesSelector||d.webkitMatchesSelector||d.msMatchesSelector;if(c){var f=!c.call(C.createElement("div"),"div"),l=!1;try{c.call(C.documentElement,"[test!='']:sizzle")}catch(e){l=!0}p.matchesSelector=function(d,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!p.isXML(d))try{if(l||!w.match.PSEUDO.test(e)&&!/!=/.test(e)){var m=c.call(d,
e);if(m||!f||d.document&&11!==d.document.nodeType)return m}}catch(h){}return 0<p(e,null,null,[d]).length}}})();(function(){var d=C.createElement("div");d.innerHTML="<div class='test e'></div><div class='test'></div>";d.getElementsByClassName&&0!==d.getElementsByClassName("e").length&&(d.lastChild.className="e",1!==d.getElementsByClassName("e").length&&(w.order.splice(1,0,"CLASS"),w.find.CLASS=function(d,c,f){if("undefined"!=typeof c.getElementsByClassName&&!f)return c.getElementsByClassName(d[1])},
d=null))})();C.documentElement.contains?p.contains=function(d,c){return d!==c&&(d.contains?d.contains(c):!0)}:C.documentElement.compareDocumentPosition?p.contains=function(d,c){return!!(d.compareDocumentPosition(c)&16)}:p.contains=function(){return!1};p.isXML=function(d){return(d=(d?d.ownerDocument||d:0).documentElement)?"HTML"!==d.nodeName:!1};var K=function(d,c,f){var l,e=[],m="";for(c=c.nodeType?[c]:c;l=w.match.PSEUDO.exec(d);)m+=l[0],d=d.replace(w.match.PSEUDO,"");d=w.relative[d]?d+"*":d;l=0;
for(var h=c.length;l<h;l++)p(d,c[l],e,f);return p.filter(m,e)};p.attr=f.attr;p.selectors.attrMap={};f.find=p;f.expr=p.selectors;f.expr[":"]=f.expr.filters;f.unique=p.uniqueSort;f.text=p.getText;f.isXMLDoc=p.isXML;f.contains=p.contains})();var sb=/Until$/,tb=/^(?:parents|prevUntil|prevAll)/,ub=/,/,db=/^.[^:#\[\.,]*$/,vb=Array.prototype.slice,Oa=f.expr.match.globalPOS,wb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(d){var c=this,e,m;if("string"!=typeof d)return f(d).filter(function(){e=
0;for(m=c.length;e<m;e++)if(f.contains(c[e],this))return!0});var h=this.pushStack("","find",d),n,g,k;e=0;for(m=this.length;e<m;e++)if(n=h.length,f.find(d,this[e],h),0<e)for(g=n;g<h.length;g++)for(k=0;k<n;k++)if(h[k]===h[g]){h.splice(g--,1);break}return h},has:function(d){var c=f(d);return this.filter(function(){for(var d=0,e=c.length;d<e;d++)if(f.contains(this,c[d]))return!0})},not:function(d){return this.pushStack(K(this,d,!1),"not",d)},filter:function(d){return this.pushStack(K(this,d,!0),"filter",
d)},is:function(d){return!!d&&("string"==typeof d?Oa.test(d)?0<=f(d,this.context).index(this[0]):0<f.filter(d,this).length:0<this.filter(d).length)},closest:function(d,c){var e=[],m,h,n=this[0];if(f.isArray(d)){for(h=1;n&&n.ownerDocument&&n!==c;){for(m=0;m<d.length;m++)f(n).is(d[m])&&e.push({selector:d[m],elem:n,level:h});n=n.parentNode;h++}return e}var g=Oa.test(d)||"string"!=typeof d?f(d,c||this.context):0;m=0;for(h=this.length;m<h;m++)for(n=this[m];n;){if(g?-1<g.index(n):f.find.matchesSelector(n,
d)){e.push(n);break}n=n.parentNode;if(!n||!n.ownerDocument||n===c||11===n.nodeType)break}e=1<e.length?f.unique(e):e;return this.pushStack(e,"closest",d)},index:function(d){return d?"string"==typeof d?f.inArray(this[0],f(d)):f.inArray(d.jquery?d[0]:d,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(d,c){var e="string"==typeof d?f(d,c):f.makeArray(d&&d.nodeType?[d]:d),m=f.merge(this.get(),e);return this.pushStack(L(e[0])||L(m[0])?m:f.unique(m))},andSelf:function(){return this.add(this.prevObject)}});
f.each({parent:function(d){return(d=d.parentNode)&&11!==d.nodeType?d:null},parents:function(d){return f.dir(d,"parentNode")},parentsUntil:function(d,c,e){return f.dir(d,"parentNode",e)},next:function(d){return f.nth(d,2,"nextSibling")},prev:function(d){return f.nth(d,2,"previousSibling")},nextAll:function(d){return f.dir(d,"nextSibling")},prevAll:function(d){return f.dir(d,"previousSibling")},nextUntil:function(d,c,e){return f.dir(d,"nextSibling",e)},prevUntil:function(d,c,e){return f.dir(d,"previousSibling",
e)},siblings:function(d){return f.sibling((d.parentNode||{}).firstChild,d)},children:function(d){return f.sibling(d.firstChild)},contents:function(d){return f.nodeName(d,"iframe")?d.contentDocument||d.contentWindow.document:f.makeArray(d.childNodes)}},function(d,c){f.fn[d]=function(e,m){var h=f.map(this,c,e);sb.test(d)||(m=e);m&&"string"==typeof m&&(h=f.filter(m,h));h=1<this.length&&!wb[d]?f.unique(h):h;(1<this.length||ub.test(m))&&tb.test(d)&&(h=h.reverse());return this.pushStack(h,d,vb.call(arguments).join(","))}});
f.extend({filter:function(d,c,e){e&&(d=":not("+d+")");return 1===c.length?f.find.matchesSelector(c[0],d)?[c[0]]:[]:f.find.matches(d,c)},dir:function(d,c,e){var m=[];for(d=d[c];d&&9!==d.nodeType&&(e===g||1!==d.nodeType||!f(d).is(e));)1===d.nodeType&&m.push(d),d=d[c];return m},nth:function(d,c,f,e){c=c||1;for(e=0;d&&(1!==d.nodeType||++e!==c);d=d[f]);return d},sibling:function(d,c){for(var f=[];d;d=d.nextSibling)1===d.nodeType&&d!==c&&f.push(d);return f}});var Ca="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
xb=/ jQuery\d+="(?:\d+|null)"/g,ua=/^\s+/,Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Qa=/<([\w:]+)/,yb=/<tbody/i,zb=/<|&#?\w+;/,Ab=/<(?:script|style)/i,Bb=/<(?:script|object|embed|option|style)/i,Ra=new RegExp("<(?:"+Ca+")[\\s/>]","i"),Sa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ta=/\/(java|ecma)script/i,Cb=/^\s*<!(?:\[CDATA\[|\-\-)/,O={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>",
"</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},va=V(C);O.optgroup=O.option;O.tbody=O.tfoot=O.colgroup=O.caption=O.thead;O.th=O.td;f.support.htmlSerialize||(O._default=[1,"div<div>","</div>"]);f.fn.extend({text:function(d){return f.access(this,function(d){return d===g?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||C).createTextNode(d))},null,d,arguments.length)},
wrapAll:function(d){if(f.isFunction(d))return this.each(function(c){f(this).wrapAll(d.call(this,c))});if(this[0]){var c=f(d,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var d=this;d.firstChild&&1===d.firstChild.nodeType;)d=d.firstChild;return d}).append(this)}return this},wrapInner:function(d){return f.isFunction(d)?this.each(function(c){f(this).wrapInner(d.call(this,c))}):this.each(function(){var c=f(this),e=c.contents();e.length?e.wrapAll(d):
c.append(d)})},wrap:function(d){var c=f.isFunction(d);return this.each(function(e){f(this).wrapAll(c?d.call(this,e):d)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(d){1===this.nodeType&&this.appendChild(d)})},prepend:function(){return this.domManip(arguments,!0,function(d){1===this.nodeType&&this.insertBefore(d,this.firstChild)})},before:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,!1,function(d){this.parentNode.insertBefore(d,this)});if(arguments.length){var d=f.clean(arguments);d.push.apply(d,this.toArray());return this.pushStack(d,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(d){this.parentNode.insertBefore(d,this.nextSibling)});if(arguments.length){var d=this.pushStack(this,"after",arguments);d.push.apply(d,f.clean(arguments));return d}},remove:function(d,
c){for(var e=0,m;null!=(m=this[e]);e++)if(!d||f.filter(d,[m]).length)!c&&1===m.nodeType&&(f.cleanData(m.getElementsByTagName("*")),f.cleanData([m])),m.parentNode&&m.parentNode.removeChild(m);return this},empty:function(){for(var d=0,c;null!=(c=this[d]);d++)for(1===c.nodeType&&f.cleanData(c.getElementsByTagName("*"));c.firstChild;)c.removeChild(c.firstChild);return this},clone:function(d,c){d=null==d?!1:d;c=null==c?d:c;return this.map(function(){return f.clone(this,d,c)})},html:function(d){return f.access(this,
function(d){var c=this[0]||{},e=0,h=this.length;if(d===g)return 1===c.nodeType?c.innerHTML.replace(xb,""):null;if(!("string"!=typeof d||Ab.test(d)||!f.support.leadingWhitespace&&ua.test(d)||O[(Qa.exec(d)||["",""])[1].toLowerCase()])){d=d.replace(Pa,"<$1></$2>");try{for(;e<h;e++)c=this[e]||{},1===c.nodeType&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=d);c=0}catch(n){}}c&&this.empty().append(d)},null,d,arguments.length)},replaceWith:function(d){if(this[0]&&this[0].parentNode){if(f.isFunction(d))return this.each(function(c){var e=
f(this),m=e.html();e.replaceWith(d.call(this,c,m))});"string"!=typeof d&&(d=f(d).detach());return this.each(function(){var c=this.nextSibling,e=this.parentNode;f(this).remove();c?f(c).before(d):f(e).append(d)})}return this.length?this.pushStack(f(f.isFunction(d)?d():d),"replaceWith",d):this},detach:function(d){return this.remove(d,!0)},domManip:function(d,c,e){var m,h,n,k=d[0],q=[];if(!f.support.checkClone&&3===arguments.length&&"string"==typeof k&&Sa.test(k))return this.each(function(){f(this).domManip(d,
c,e,!0)});if(f.isFunction(k))return this.each(function(m){var h=f(this);d[0]=k.call(this,m,c?h.html():g);h.domManip(d,c,e)});if(this[0]){n=k&&k.parentNode;f.support.parentNode&&n&&11===n.nodeType&&n.childNodes.length===this.length?m={fragment:n}:m=f.buildFragment(d,this,q);n=m.fragment;1===n.childNodes.length?h=n=n.firstChild:h=n.firstChild;if(h){c=c&&f.nodeName(h,"tr");for(var u=0,p=this.length,t=p-1;u<p;u++)e.call(c?E(this[u],h):this[u],m.cacheable||1<p&&u<t?f.clone(n,!0,!0):n)}q.length&&f.each(q,
function(d,c){c.src?f.ajax({type:"GET",global:!1,url:c.src,async:!1,dataType:"script"}):f.globalEval((c.text||c.textContent||c.innerHTML||"").replace(Cb,"/*$0*/"));c.parentNode&&c.parentNode.removeChild(c)})}return this}});f.buildFragment=function(d,c,e){var m,h,n,g,k=d[0];c&&c[0]&&(g=c[0].ownerDocument||c[0]);g.createDocumentFragment||(g=C);1===d.length&&"string"==typeof k&&512>k.length&&g===C&&"<"===k.charAt(0)&&!Bb.test(k)&&(f.support.checkClone||!Sa.test(k))&&(f.support.html5Clone||!Ra.test(k))&&
(h=!0,n=f.fragments[k],n&&1!==n&&(m=n));m||(m=g.createDocumentFragment(),f.clean(d,g,m,e));h&&(f.fragments[k]=n?m:1);return{fragment:m,cacheable:h}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,c){f.fn[d]=function(e){var m=[];e=f(e);var h=1===this.length&&this[0].parentNode;if(h&&11===h.nodeType&&1===h.childNodes.length&&1===e.length)return e[c](this[0]),this;for(var h=0,n=e.length;h<n;h++){var g=(0<h?this.clone(!0):
this).get();f(e[h])[c](g);m=m.concat(g)}return this.pushStack(m,d,e.selector)}});f.extend({clone:function(d,c,e){var m,h,n;f.support.html5Clone||f.isXMLDoc(d)||!Ra.test("<"+d.nodeName+">")?m=d.cloneNode(!0):(m=C.createElement("div"),va.appendChild(m),m.innerHTML=d.outerHTML,m=m.firstChild);var g=m;if(!(f.support.noCloneEvent&&f.support.noCloneChecked||1!==d.nodeType&&11!==d.nodeType||f.isXMLDoc(d)))for(G(d,g),m=J(d),h=J(g),n=0;m[n];++n)h[n]&&G(m[n],h[n]);if(c&&(R(d,g),e))for(m=J(d),h=J(g),n=0;m[n];++n)R(m[n],
h[n]);return g},clean:function(d,c,e,m){var h,n=[];c=c||C;"undefined"==typeof c.createElement&&(c=c.ownerDocument||c[0]&&c[0].ownerDocument||C);for(var g=0,k;null!=(k=d[g]);g++)if("number"==typeof k&&(k+=""),k){if("string"==typeof k)if(zb.test(k)){k=k.replace(Pa,"<$1></$2>");h=(Qa.exec(k)||["",""])[1].toLowerCase();var q=O[h]||O._default,u=q[0],p=c.createElement("div"),t=va.childNodes,y;c===C?va.appendChild(p):V(c).appendChild(p);for(p.innerHTML=q[1]+k+q[2];u--;)p=p.lastChild;if(!f.support.tbody)for(u=
yb.test(k),q="table"!==h||u?"<table>"!==q[1]||u?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,h=q.length-1;0<=h;--h)f.nodeName(q[h],"tbody")&&!q[h].childNodes.length&&q[h].parentNode.removeChild(q[h]);!f.support.leadingWhitespace&&ua.test(k)&&p.insertBefore(c.createTextNode(ua.exec(k)[0]),p.firstChild);k=p.childNodes;p&&(p.parentNode.removeChild(p),0<t.length&&(y=t[t.length-1],y&&y.parentNode&&y.parentNode.removeChild(y)))}else k=c.createTextNode(k);var w;if(!f.support.appendChecked)if(k[0]&&
"number"==typeof(w=k.length))for(h=0;h<w;h++)v(k[h]);else v(k);k.nodeType?n.push(k):n=f.merge(n,k)}if(e)for(d=function(d){return!d.type||Ta.test(d.type)},g=0;n[g];g++)c=n[g],m&&f.nodeName(c,"script")&&(!c.type||Ta.test(c.type))?m.push(c.parentNode?c.parentNode.removeChild(c):c):(1===c.nodeType&&(k=f.grep(c.getElementsByTagName("script"),d),n.splice.apply(n,[g+1,0].concat(k))),e.appendChild(c));return n},cleanData:function(d){for(var c,e,m=f.cache,h=f.event.special,n=f.support.deleteExpando,g=0,k;null!=
(k=d[g]);g++)if(!k.nodeName||!f.noData[k.nodeName.toLowerCase()])if(e=k[f.expando]){if((c=m[e])&&c.events){for(var q in c.events)h[q]?f.event.remove(k,q):f.removeEvent(k,q,c.handle);c.handle&&(c.handle.elem=null)}n?delete k[f.expando]:k.removeAttribute&&k.removeAttribute(f.expando);delete m[e]}}});var wa=/alpha\([^)]*\)/i,Db=/opacity=([^)]*)/,Eb=/([A-Z]|^ms)/g,Fb=/^[\-+]?(?:\d*\.)?\d+$/i,pa=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Gb=/^([\-+])=([\-+.\de]+)/,Hb=/^margin/,Ib={position:"absolute",visibility:"hidden",
display:"block"},U=["Top","Right","Bottom","Left"],ea,Ua,Va;f.fn.css=function(d,c){return f.access(this,function(d,c,e){return e!==g?f.style(d,c,e):f.css(d,c)},d,c,1<arguments.length)};f.extend({cssHooks:{opacity:{get:function(d,c){if(c){var f=ea(d,"opacity");return""===f?"1":f}return d.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(d,c,e,m){if(d&&
3!==d.nodeType&&8!==d.nodeType&&d.style){var h,n=f.camelCase(c),k=d.style,q=f.cssHooks[n];c=f.cssProps[n]||n;if(e===g)return q&&"get"in q&&(h=q.get(d,!1,m))!==g?h:k[c];m=typeof e;"string"===m&&(h=Gb.exec(e))&&(e=+(h[1]+1)*+h[2]+parseFloat(f.css(d,c)),m="number");if(!(null==e||"number"===m&&isNaN(e)||("number"===m&&!f.cssNumber[n]&&(e+="px"),q&&"set"in q&&(e=q.set(d,e))===g)))try{k[c]=e}catch(u){}}},css:function(d,c,e){var m,h;c=f.camelCase(c);h=f.cssHooks[c];c=f.cssProps[c]||c;"cssFloat"===c&&(c=
"float");if(h&&"get"in h&&(m=h.get(d,!0,e))!==g)return m;if(ea)return ea(d,c)},swap:function(d,c,f){var e={},h;for(h in c)e[h]=d.style[h],d.style[h]=c[h];f=f.call(d);for(h in c)d.style[h]=e[h];return f}});f.curCSS=f.css;C.defaultView&&C.defaultView.getComputedStyle&&(Ua=function(d,c){var e,m,h,n,g=d.style;c=c.replace(Eb,"-$1").toLowerCase();(m=d.ownerDocument.defaultView)&&(h=m.getComputedStyle(d,null))&&(e=h.getPropertyValue(c),""===e&&!f.contains(d.ownerDocument.documentElement,d)&&(e=f.style(d,
c)));!f.support.pixelMargin&&h&&Hb.test(c)&&pa.test(e)&&(n=g.width,g.width=e,e=h.width,g.width=n);return e});C.documentElement.currentStyle&&(Va=function(d,c){var f,e,h,n=d.currentStyle&&d.currentStyle[c],g=d.style;null==n&&g&&(h=g[c])&&(n=h);pa.test(n)&&(f=g.left,e=d.runtimeStyle&&d.runtimeStyle.left,e&&(d.runtimeStyle.left=d.currentStyle.left),g.left="fontSize"===c?"1em":n,n=g.pixelLeft+"px",g.left=f,e&&(d.runtimeStyle.left=e));return""===n?"auto":n});ea=Ua||Va;f.each(["height","width"],function(d,
c){f.cssHooks[c]={get:function(d,e,h){if(e)return 0!==d.offsetWidth?w(d,c,h):f.swap(d,Ib,function(){return w(d,c,h)})},set:function(d,c){return Fb.test(c)?c+"px":c}}});f.support.opacity||(f.cssHooks.opacity={get:function(d,c){return Db.test((c&&d.currentStyle?d.currentStyle.filter:d.style.filter)||"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(d,c){var e=d.style,h=d.currentStyle,n=f.isNumeric(c)?"alpha(opacity="+100*c+")":"",g=h&&h.filter||e.filter||"";e.zoom=1;if(1<=c&&""===f.trim(g.replace(wa,
""))&&(e.removeAttribute("filter"),h&&!h.filter))return;e.filter=wa.test(g)?g.replace(wa,n):g+" "+n}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(d,c){return f.swap(d,{display:"inline-block"},function(){return c?ea(d,"margin-right"):d.style.marginRight})}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(d){var c=d.offsetHeight;return 0===d.offsetWidth&&0===c||!f.support.reliableHiddenOffsets&&"none"===(d.style&&d.style.display||f.css(d,"display"))},
f.expr.filters.visible=function(d){return!f.expr.filters.hidden(d)});f.each({margin:"",padding:"",border:"Width"},function(d,c){f.cssHooks[d+c]={expand:function(f){var e="string"==typeof f?f.split(" "):[f],h={};for(f=0;4>f;f++)h[d+U[f]+c]=e[f]||e[f-2]||e[0];return h}}});var Jb=/%20/g,cb=/\[\]$/,Wa=/\r?\n/g,Kb=/#.*$/,Lb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Mb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Nb=/^(?:GET|HEAD)$/,Ob=/^\/\//,
Xa=/\?/,Pb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Qb=/^(?:select|textarea)/i,Ba=/\s+/,Rb=/([?&])_=[^&]*/,Ya=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Za=f.fn.load,oa={},$a={},Z,ca,ab=["*/"]+["*"];try{Z=gb.href}catch(Xb){Z=C.createElement("a"),Z.href="",Z=Z.href}ca=Ya.exec(Z.toLowerCase())||[];f.fn.extend({load:function(d,c,e){if("string"!=typeof d&&Za)return Za.apply(this,arguments);if(!this.length)return this;var h=d.indexOf(" ");if(0<=h){var n=d.slice(h,d.length);d=d.slice(0,
h)}h="GET";c&&(f.isFunction(c)?(e=c,c=g):"object"==typeof c&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var k=this;f.ajax({url:d,type:h,dataType:"html",data:c,complete:function(d,c,l){l=d.responseText;d.isResolved()&&(d.done(function(d){l=d}),k.html(n?f("<div>").append(l.replace(Pb,"")).find(n):l));e&&k.each(e,[l,c,d])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):
this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Qb.test(this.nodeName)||Mb.test(this.type))}).map(function(d,c){var e=f(this).val();return null==e?null:f.isArray(e)?f.map(e,function(d,f){return{name:c.name,value:d.replace(Wa,"\r\n")}}):{name:c.name,value:e.replace(Wa,"\r\n")}}).get()}});f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(d,c){f.fn[c]=function(d){return this.on(c,d)}});f.each(["get","post"],function(d,c){f[c]=function(d,
e,h,n){f.isFunction(e)&&(n=n||h,h=e,e=g);return f.ajax({type:c,url:d,data:e,success:h,dataType:n})}});f.extend({getScript:function(d,c){return f.get(d,g,c,"script")},getJSON:function(d,c,e){return f.get(d,c,e,"json")},ajaxSetup:function(d,c){c?u(d,f.ajaxSettings):(c=d,d=f.ajaxSettings);u(d,c);return d},ajaxSettings:{url:Z,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ca[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,
async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ab},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:D(oa),ajaxTransport:D($a),ajax:function(d,c){function e(d,c,l,h){if(2!==C){C=2;J&&clearTimeout(J);G=g;v=h||"";E.readyState=0<d?4:
0;var y,w,D;h=c;if(l){var B=m,F=E,L=B.contents,K=B.dataTypes,ba=B.responseFields,T,H,aa,V;for(H in ba)H in l&&(F[ba[H]]=l[H]);for(;"*"===K[0];)K.shift(),T===g&&(T=B.mimeType||F.getResponseHeader("content-type"));if(T)for(H in L)if(L[H]&&L[H].test(T)){K.unshift(H);break}if(K[0]in l)aa=K[0];else{for(H in l){if(!K[0]||B.converters[H+" "+K[0]]){aa=H;break}V||(V=H)}aa=aa||V}aa?(aa!==K[0]&&K.unshift(aa),l=l[aa]):l=void 0}else l=g;if(200<=d&&300>d||304===d){if(m.ifModified){if(T=E.getResponseHeader("Last-Modified"))f.lastModified[t]=
T;if(T=E.getResponseHeader("Etag"))f.etag[t]=T}if(304===d)h="notmodified",y=!0;else try{T=m;T.dataFilter&&(l=T.dataFilter(l,T.dataType));var S=T.dataTypes;H={};var N,X,hb=S.length,O,M=S[0],P,W,Y,Q,U;for(N=1;N<hb;N++){if(1===N)for(X in T.converters)"string"==typeof X&&(H[X.toLowerCase()]=T.converters[X]);P=M;M=S[N];if("*"===M)M=P;else if("*"!==P&&P!==M){W=P+" "+M;Y=H[W]||H["* "+M];if(!Y)for(Q in U=g,H)if(O=Q.split(" "),O[0]===P||"*"===O[0])if(U=H[O[1]+" "+M]){Q=H[Q];!0===Q?Y=U:!0===U&&(Y=Q);break}Y||
U||f.error("No conversion from "+W.replace(" "," to "));!0!==Y&&(l=Y?Y(l):U(Q(l)))}}w=l;h="success";y=!0}catch(Z){h="parsererror",D=Z}}else if(D=h,!h||d)h="error",0>d&&(d=0);E.status=d;E.statusText=""+(c||h);y?q.resolveWith(n,[w,h,E]):q.rejectWith(n,[E,h,D]);E.statusCode(p);p=g;R&&k.trigger("ajax"+(y?"Success":"Error"),[E,m,y?w:D]);u.fireWith(n,[E,h]);R&&(k.trigger("ajaxComplete",[E,m]),--f.active||f.event.trigger("ajaxStop"))}}"object"==typeof d&&(c=d,d=g);c=c||{};var m=f.ajaxSetup({},c),n=m.context||
m,k=n!==m&&(n.nodeType||n instanceof f)?f(n):f.event,q=f.Deferred(),u=f.Callbacks("once memory"),p=m.statusCode||{},t,y={},w={},v,D,G,J,F,C=0,R,L,E={readyState:0,setRequestHeader:function(d,c){if(!C){var f=d.toLowerCase();d=w[f]=w[f]||d;y[d]=c}return this},getAllResponseHeaders:function(){return 2===C?v:null},getResponseHeader:function(d){var c;if(2===C){if(!D)for(D={};c=Lb.exec(v);)D[c[1].toLowerCase()]=c[2];c=D[d.toLowerCase()]}return c===g?null:c},overrideMimeType:function(d){C||(m.mimeType=d);
return this},abort:function(d){d=d||"abort";G&&G.abort(d);e(0,d);return this}};q.promise(E);E.success=E.done;E.error=E.fail;E.complete=u.add;E.statusCode=function(d){if(d){var c;if(2>C)for(c in d)p[c]=[p[c],d[c]];else c=d[E.status],E.then(c,c)}return this};m.url=((d||m.url)+"").replace(Kb,"").replace(Ob,ca[1]+"//");m.dataTypes=f.trim(m.dataType||"*").toLowerCase().split(Ba);null==m.crossDomain&&(F=Ya.exec(m.url.toLowerCase()),m.crossDomain=!(!F||F[1]==ca[1]&&F[2]==ca[2]&&(F[3]||("http:"===F[1]?80:
443))==(ca[3]||("http:"===ca[1]?80:443))));m.data&&m.processData&&"string"!=typeof m.data&&(m.data=f.param(m.data,m.traditional));h(oa,m,c,E);if(2===C)return!1;R=m.global;m.type=m.type.toUpperCase();m.hasContent=!Nb.test(m.type);R&&0===f.active++&&f.event.trigger("ajaxStart");if(!m.hasContent&&(m.data&&(m.url+=(Xa.test(m.url)?"&":"?")+m.data,delete m.data),t=m.url,!1===m.cache)){F=f.now();var K=m.url.replace(Rb,"$1_="+F);m.url=K+(K===m.url?(Xa.test(m.url)?"&":"?")+"_="+F:"")}(m.data&&m.hasContent&&
!1!==m.contentType||c.contentType)&&E.setRequestHeader("Content-Type",m.contentType);m.ifModified&&(t=t||m.url,f.lastModified[t]&&E.setRequestHeader("If-Modified-Since",f.lastModified[t]),f.etag[t]&&E.setRequestHeader("If-None-Match",f.etag[t]));E.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ab+"; q=0.01":""):m.accepts["*"]);for(L in m.headers)E.setRequestHeader(L,m.headers[L]);if(m.beforeSend&&(!1===m.beforeSend.call(n,E,
m)||2===C))return E.abort(),!1;for(L in{success:1,error:1,complete:1})E[L](m[L]);if(G=h($a,m,c,E)){E.readyState=1;R&&k.trigger("ajaxSend",[E,m]);m.async&&0<m.timeout&&(J=setTimeout(function(){E.abort("timeout")},m.timeout));try{C=1,G.send(y,e)}catch(ba){if(2>C)e(-1,ba);else throw ba;}}else e(-1,"No Transport");return E},param:function(d,c){var e=[],h=function(d,c){c=f.isFunction(c)?c():c;e[e.length]=encodeURIComponent(d)+"="+encodeURIComponent(c)};c===g&&(c=f.ajaxSettings.traditional);if(f.isArray(d)||
d.jquery&&!f.isPlainObject(d))f.each(d,function(){h(this.name,this.value)});else for(var n in d)y(n,d[n],c,h);return e.join("&").replace(Jb,"+")}});f.extend({active:0,lastModified:{},etag:{}});var Sb=f.now(),la=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+Sb++}});f.ajaxPrefilter("json jsonp",function(d,e,h){e="string"==typeof d.data&&/^application\/x\-www\-form\-urlencoded/.test(d.contentType);if("jsonp"===d.dataTypes[0]||!1!==d.jsonp&&(la.test(d.url)||
e&&la.test(d.data))){var m,n=d.jsonpCallback=f.isFunction(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,g=c[n],k=d.url,q=d.data,u="$1"+n+"$2";!1!==d.jsonp&&(k=k.replace(la,u),d.url===k&&(e&&(q=q.replace(la,u)),d.data===q&&(k+=(/\?/.test(k)?"&":"?")+d.jsonp+"="+n)));d.url=k;d.data=q;c[n]=function(d){m=[d]};h.always(function(){c[n]=g;m&&f.isFunction(g)&&c[n](m[0])});d.converters["script json"]=function(){m||f.error(n+" was not called");return m[0]};d.dataTypes[0]="json";return"script"}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(d){f.globalEval(d);return d}}});f.ajaxPrefilter("script",function(d){d.cache===g&&(d.cache=!1);d.crossDomain&&(d.type="GET",d.global=!1)});f.ajaxTransport("script",function(d){if(d.crossDomain){var c,f=C.head||C.getElementsByTagName("head")[0]||C.documentElement;return{send:function(e,h){c=C.createElement("script");c.async="async";d.scriptCharset&&(c.charset=d.scriptCharset);c.src=d.url;c.onload=c.onreadystatechange=function(d,
e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,f&&c.parentNode&&f.removeChild(c),c=g,e||h(200,"success")};f.insertBefore(c,f.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var xa=c.ActiveXObject?function(){for(var d in ga)ga[d](0,1)}:!1,Tb=0,ga;f.ajaxSettings.xhr=c.ActiveXObject?function(){var d;if(!(d=!this.isLocal&&n()))a:{try{d=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(f){}d=void 0}return d}:n;(function(d){f.extend(f.support,{ajax:!!d,
cors:!!d&&"withCredentials"in d})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(d){if(!d.crossDomain||f.support.cors){var e;return{send:function(h,m){var n=d.xhr(),k,q;d.username?n.open(d.type,d.url,d.async,d.username,d.password):n.open(d.type,d.url,d.async);if(d.xhrFields)for(q in d.xhrFields)n[q]=d.xhrFields[q];d.mimeType&&n.overrideMimeType&&n.overrideMimeType(d.mimeType);d.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");try{for(q in h)n.setRequestHeader(q,
h[q])}catch(u){}n.send(d.hasContent&&d.data||null);e=function(c,h){var q,u,p,t,y;try{if(e&&(h||4===n.readyState))if(e=g,k&&(n.onreadystatechange=f.noop,xa&&delete ga[k]),h)4!==n.readyState&&n.abort();else{q=n.status;p=n.getAllResponseHeaders();t={};(y=n.responseXML)&&y.documentElement&&(t.xml=y);try{t.text=n.responseText}catch(w){}try{u=n.statusText}catch(v){u=""}q||!d.isLocal||d.crossDomain?1223===q&&(q=204):q=t.text?200:404}}catch(D){h||m(-1,D)}t&&m(q,u,t,p)};d.async&&4!==n.readyState?(k=++Tb,xa&&
(ga||(ga={},f(c).unload(xa)),ga[k]=e),n.onreadystatechange=e):e()},abort:function(){e&&e(0,1)}}}});var na={},M,da,Ub=/^(?:toggle|show|hide)$/,Vb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ma,ia=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],ja;f.fn.extend({show:function(d,c,h){var m;if(d||0===d)return this.animate(k("show",3),d,c,h);c=0;for(h=this.length;c<h;c++)d=this[c],d.style&&(m=d.style.display,!f._data(d,
"olddisplay")&&"none"===m&&(m=d.style.display=""),(""===m&&"none"===f.css(d,"display")||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",e(d.nodeName)));for(c=0;c<h;c++)if(d=this[c],d.style&&(m=d.style.display,""===m||"none"===m))d.style.display=f._data(d,"olddisplay")||"";return this},hide:function(d,c,e){if(d||0===d)return this.animate(k("hide",3),d,c,e);var h;c=0;for(e=this.length;c<e;c++)d=this[c],d.style&&(h=f.css(d,"display"),"none"!==h&&!f._data(d,"olddisplay")&&f._data(d,
"olddisplay",h));for(c=0;c<e;c++)this[c].style&&(this[c].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(d,c,e){var h="boolean"==typeof d;f.isFunction(d)&&f.isFunction(c)?this._toggle.apply(this,arguments):null==d||h?this.each(function(){var c=h?d:f(this).is(":hidden");f(this)[c?"show":"hide"]()}):this.animate(k("toggle",3),d,c,e);return this},fadeTo:function(d,c,f,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},d,f,e)},animate:function(d,
c,h,m){function n(){!1===g.queue&&f._mark(this);var c=f.extend({},g),h=1===this.nodeType,l=h&&f(this).is(":hidden"),m,k,q,u,p,t,y,w,v;c.animatedProperties={};for(q in d)if(m=f.camelCase(q),q!==m&&(d[m]=d[q],delete d[q]),(k=f.cssHooks[m])&&"expand"in k)for(q in u=k.expand(d[m]),delete d[m],u)q in d||(d[q]=u[q]);for(m in d){k=d[m];f.isArray(k)?(c.animatedProperties[m]=k[1],k=d[m]=k[0]):c.animatedProperties[m]=c.specialEasing&&c.specialEasing[m]||c.easing||"swing";if("hide"===k&&l||"show"===k&&!l)return c.complete.call(this);
h&&("height"===m||"width"===m)&&(c.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===f.css(this,"display")&&"none"===f.css(this,"float")&&(f.support.inlineBlockNeedsLayout&&"inline"!==e(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=c.overflow&&(this.style.overflow="hidden");for(q in d)h=new f.fx(this,c,q),k=d[q],Ub.test(k)?(v=f._data(this,"toggle"+q)||("toggle"===k?l?"show":"hide":0),v?(f._data(this,"toggle"+q,"show"===v?"hide":"show"),
h[v]()):h[k]()):(p=Vb.exec(k),t=h.cur(),p?(y=parseFloat(p[2]),w=p[3]||(f.cssNumber[q]?"":"px"),"px"!==w&&(f.style(this,q,(y||1)+w),t*=(y||1)/h.cur(),f.style(this,q,t+w)),p[1]&&(y=("-="===p[1]?-1:1)*y+t),h.custom(t,y,w)):h.custom(t,k,""));return!0}var g=f.speed(c,h,m);if(f.isEmptyObject(d))return this.each(g.complete,[!1]);d=f.extend({},d);return!1===g.queue?this.each(n):this.queue(g.queue,n)},stop:function(d,c,e){"string"!=typeof d&&(e=c,c=d,d=g);c&&!1!==d&&this.queue(d||"fx",[]);return this.each(function(){var c,
h=!1,l=f.timers,n=f._data(this);e||f._unmark(!0,this);if(null==d)for(c in n){if(n[c]&&n[c].stop&&c.indexOf(".run")===c.length-4){var g=n[c];f.removeData(this,c,!0);g.stop(e)}}else n[c=d+".run"]&&n[c].stop&&(n=n[c],f.removeData(this,c,!0),n.stop(e));for(c=l.length;c--;)l[c].elem!==this||null!=d&&l[c].queue!==d||(e?l[c](!0):l[c].saveState(),h=!0,l.splice(c,1));e&&h||f.dequeue(this,d)})}});f.each({slideDown:k("show",1),slideUp:k("hide",1),slideToggle:k("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(d,c){f.fn[d]=function(d,f,e){return this.animate(c,d,f,e)}});f.extend({speed:function(d,c,e){var h=d&&"object"==typeof d?f.extend({},d):{complete:e||!e&&c||f.isFunction(d)&&d,duration:d,easing:e&&c||c&&!f.isFunction(c)&&c};h.duration=f.fx.off?0:"number"==typeof h.duration?h.duration:h.duration in f.fx.speeds?f.fx.speeds[h.duration]:f.fx.speeds._default;if(null==h.queue||!0===h.queue)h.queue="fx";h.old=h.complete;h.complete=function(d){f.isFunction(h.old)&&h.old.call(this);
h.queue?f.dequeue(this,h.queue):!1!==d&&f._unmark(this)};return h},easing:{linear:function(d){return d},swing:function(d){return-Math.cos(d*Math.PI)/2+.5}},timers:[],fx:function(d,c,f){this.options=c;this.elem=d;this.prop=f;c.orig=c.orig||{}}});f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];
var d,c=f.css(this.elem,this.prop);return isNaN(d=parseFloat(c))?c&&"auto"!==c?c:0:d},custom:function(d,c,e){function h(d){return n.step(d)}var n=this,k=f.fx;this.startTime=ja||t();this.end=c;this.now=this.start=d;this.pos=this.state=0;this.unit=e||this.unit||(f.cssNumber[this.prop]?"":"px");h.queue=this.options.queue;h.elem=this.elem;h.saveState=function(){f._data(n.elem,"fxshow"+n.prop)===g&&(n.options.hide?f._data(n.elem,"fxshow"+n.prop,n.start):n.options.show&&f._data(n.elem,"fxshow"+n.prop,n.end))};
h()&&f.timers.push(h)&&!ma&&(ma=setInterval(k.tick,k.interval))},show:function(){var d=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=d||f.style(this.elem,this.prop);this.options.show=!0;d!==g?this.custom(this.cur(),d):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(d){var c,
e,h=ja||t(),n=!0,g=this.elem,k=this.options;if(d||h>=k.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();k.animatedProperties[this.prop]=!0;for(c in k.animatedProperties)!0!==k.animatedProperties[c]&&(n=!1);if(n){null!=k.overflow&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(d,c){g.style["overflow"+c]=k.overflow[d]});k.hide&&f(g).hide();if(k.hide||k.show)for(c in k.animatedProperties)f.style(g,c,k.orig[c]),f.removeData(g,"fxshow"+c,!0),f.removeData(g,"toggle"+
c,!0);(d=k.complete)&&(k.complete=!1,d.call(g))}return!1}Infinity==k.duration?this.now=h:(e=h-this.startTime,this.state=e/k.duration,this.pos=f.easing[k.animatedProperties[this.prop]](this.state,e,0,1,k.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};f.extend(f.fx,{tick:function(){for(var d,c=f.timers,e=0;e<c.length;e++)d=c[e],!d()&&c[e]===d&&c.splice(e--,1);c.length||f.fx.stop()},interval:13,stop:function(){clearInterval(ma);ma=null},speeds:{slow:600,fast:200,
_default:400},step:{opacity:function(d){f.style(d.elem,"opacity",d.now)},_default:function(d){d.elem.style&&null!=d.elem.style[d.prop]?d.elem.style[d.prop]=d.now+d.unit:d.elem[d.prop]=d.now}}});f.each(ia.concat.apply([],ia),function(d,c){c.indexOf("margin")&&(f.fx.step[c]=function(d){f.style(d.elem,c,Math.max(0,d.now)+d.unit)})});f.expr&&f.expr.filters&&(f.expr.filters.animated=function(d){return f.grep(f.timers,function(c){return d===c.elem}).length});var ya,Wb=/^t(?:able|d|h)$/i,bb=/^(?:body|html)$/i;
"getBoundingClientRect"in C.documentElement?ya=function(d,c,e,h){try{h=d.getBoundingClientRect()}catch(n){}if(!h||!f.contains(e,d))return h?{top:h.top,left:h.left}:{top:0,left:0};d=c.body;c=p(c);return{top:h.top+(c.pageYOffset||f.support.boxModel&&e.scrollTop||d.scrollTop)-(e.clientTop||d.clientTop||0),left:h.left+(c.pageXOffset||f.support.boxModel&&e.scrollLeft||d.scrollLeft)-(e.clientLeft||d.clientLeft||0)}}:ya=function(d,c,e){var h,n=d.offsetParent,g=c.body;h=(c=c.defaultView)?c.getComputedStyle(d,
null):d.currentStyle;for(var k=d.offsetTop,q=d.offsetLeft;(d=d.parentNode)&&d!==g&&d!==e&&(!f.support.fixedPosition||"fixed"!==h.position);)h=c?c.getComputedStyle(d,null):d.currentStyle,k-=d.scrollTop,q-=d.scrollLeft,d===n&&(k+=d.offsetTop,q+=d.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!Wb.test(d.nodeName))&&(k+=parseFloat(h.borderTopWidth)||0,q+=parseFloat(h.borderLeftWidth)||0),n=d.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&"visible"!==
h.overflow&&(k+=parseFloat(h.borderTopWidth)||0,q+=parseFloat(h.borderLeftWidth)||0);if("relative"===h.position||"static"===h.position)k+=g.offsetTop,q+=g.offsetLeft;f.support.fixedPosition&&"fixed"===h.position&&(k+=Math.max(e.scrollTop,g.scrollTop),q+=Math.max(e.scrollLeft,g.scrollLeft));return{top:k,left:q}};f.fn.offset=function(d){if(arguments.length)return d===g?this:this.each(function(c){f.offset.setOffset(this,d,c)});var c=this[0],e=c&&c.ownerDocument;return e?c===e.body?f.offset.bodyOffset(c):
ya(c,e,e.documentElement):null};f.offset={bodyOffset:function(d){var c=d.offsetTop,e=d.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(c+=parseFloat(f.css(d,"marginTop"))||0,e+=parseFloat(f.css(d,"marginLeft"))||0);return{top:c,left:e}},setOffset:function(d,c,e){var h=f.css(d,"position");"static"===h&&(d.style.position="relative");var n=f(d),g=n.offset(),k=f.css(d,"top"),q=f.css(d,"left"),u={},p={},t,y;("absolute"===h||"fixed"===h)&&-1<f.inArray("auto",[k,q])?(p=n.position(),t=p.top,y=p.left):
(t=parseFloat(k)||0,y=parseFloat(q)||0);f.isFunction(c)&&(c=c.call(d,e,g));null!=c.top&&(u.top=c.top-g.top+t);null!=c.left&&(u.left=c.left-g.left+y);"using"in c?c.using.call(d,u):n.css(u)}};f.fn.extend({position:function(){if(!this[0])return null;var d=this[0],c=this.offsetParent(),e=this.offset(),h=bb.test(c[0].nodeName)?{top:0,left:0}:c.offset();e.top-=parseFloat(f.css(d,"marginTop"))||0;e.left-=parseFloat(f.css(d,"marginLeft"))||0;h.top+=parseFloat(f.css(c[0],"borderTopWidth"))||0;h.left+=parseFloat(f.css(c[0],
"borderLeftWidth"))||0;return{top:e.top-h.top,left:e.left-h.left}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent||C.body;d&&!bb.test(d.nodeName)&&"static"===f.css(d,"position");)d=d.offsetParent;return d})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,c){var e=/Y/.test(c);f.fn[d]=function(h){return f.access(this,function(d,h,n){var m=p(d);if(n===g)return m?c in m?m[c]:f.support.boxModel&&m.document.documentElement[h]||m.document.body[h]:d[h];
m?m.scrollTo(e?f(m).scrollLeft():n,e?n:f(m).scrollTop()):d[h]=n},d,h,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(d,c){var e="client"+d,h="scroll"+d,n="offset"+d;f.fn["inner"+d]=function(){var d=this[0];return d?d.style?parseFloat(f.css(d,c,"padding")):this[c]():null};f.fn["outer"+d]=function(d){var e=this[0];return e?e.style?parseFloat(f.css(e,c,d?"margin":"border")):this[c]():null};f.fn[c]=function(d){return f.access(this,function(d,c,l){if(f.isWindow(d))return c=d.document,
d=c.documentElement[e],f.support.boxModel&&d||c.body&&c.body[e]||d;if(9===d.nodeType)return c=d.documentElement,c[e]>=c[h]?c[e]:Math.max(d.body[h],c[h],d.body[n],c[n]);if(l===g)return d=f.css(d,c),c=parseFloat(d),f.isNumeric(c)?c:d;f(d).css(c,l)},c,d,arguments.length,null)}});c.jQuery=c.$=f;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);new function(c){var g=c.separator||"&",p=!1===c.spaces?!1:!0,e=!1!==c.prefix?!0===c.hash?"#":"?":"",k=!1===c.numbers?!1:!0;jQuery.query=new function(){var c=function(c,e){return void 0!=c&&null!==c&&(e?c.constructor==e:!0)},t=function(c){for(var e=/\[([^[]*)\]/g,n=/^(\S+?)(\[\S*\])?$/.exec(c),g=n[1],k=[];c=e.exec(n[2]);)k.push(c[1]);return[g,k]},n=function(e,h,g){var k=h.shift();"object"!=typeof e&&(e=null);if(""===k)if(e||(e=[]),c(e,Array))e.push(0==h.length?g:n(null,h.slice(0),g));else if(c(e,Object)){for(k=
0;null!=e[k++];);e[--k]=0==h.length?g:n(e[k],h.slice(0),g)}else e=[],e.push(0==h.length?g:n(null,h.slice(0),g));else if(k&&k.match(/^\s*[0-9]+\s*$/)){var p=parseInt(k,10);e||(e=[]);e[p]=0==h.length?g:n(e[p],h.slice(0),g)}else if(k){p=k.replace(/^\s*|\s*$/g,"");e||(e={});if(c(e,Array)){for(var t={},k=0;k<e.length;++k)t[k]=e[k];e=t}e[p]=0==h.length?g:n(e[p],h.slice(0),g)}else return g;return e},y=function(c){var e=this;e.keys={};c.queryObject?jQuery.each(c.get(),function(c,n){e.SET(c,n)}):jQuery.each(arguments,
function(){var c;c=decodeURIComponent(""+this);c=c.replace(/^[?#]/,"");c=c.replace(/[;&]$/,"");p&&(c=c.replace(/[+]/g," "));jQuery.each(c.split(/[&;]/),function(){var c=this.split("=")[0],n=this.split("=")[1];c&&(k&&(/^[+-]?[0-9]+\.[0-9]*$/.test(n)?n=parseFloat(n):/^[+-]?[0-9]+$/.test(n)&&(n=parseInt(n,10))),e.SET(c,n||0===n?n:!0))})});return e};y.prototype={queryObject:!0,has:function(e,h){var n=this.get(e);return c(n,h)},GET:function(e){if(!c(e))return this.keys;var h=t(e);e=h[1];for(h=this.keys[h[0]];null!=
h&&0!=e.length;)h=h[e.shift()];return"number"==typeof h?h:h||""},get:function(e){e=this.GET(e);return c(e,Object)?jQuery.extend(!0,{},e):c(e,Array)?e.slice(0):e},SET:function(e,h){var g=c(h)?h:null,k=t(e),p=k[0];this.keys[p]=n(this.keys[p],k[1].slice(0),g);return this},set:function(c,e){return this.copy().SET(c,e)},REMOVE:function(c){return this.SET(c,null).COMPACT()},remove:function(c){return this.copy().REMOVE(c)},EMPTY:function(){var c=this;jQuery.each(c.keys,function(e,n){delete c.keys[e]});return c},
load:function(c){var e=c.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),n=c.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new y(c.length==n.length?"":n,c.length==e.length?"":e)},empty:function(){return this.copy().EMPTY()},copy:function(){return new y(this)},COMPACT:function(){function e(h){var n="object"==typeof h?c(h,Array)?[]:{}:h;"object"==typeof h&&jQuery.each(h,function(h,g){if(!c(g))return!0;var k=e(g);c(n,Array)?n.push(k):n[h]=k});return n}this.keys=e(this.keys);return this},compact:function(){return this.copy().COMPACT()},
toString:function(){var n=[],h=[],k=function(e,n){var g=function(c){return n&&""!=n?[n,"[",c,"]"].join(""):""+c};jQuery.each(e,function(e,n){if("object"==typeof n)k(n,g(e));else{var p=g(e);c(n)&&!1!==n&&(p=[encodeURIComponent(p)],!0!==n&&(p.push("="),p.push(encodeURIComponent(n))),h.push(p.join("")))}})};k(this.keys);0<h.length&&n.push(e);n.push(h.join(g));return n.join("")}};return new y(location.search,location.hash)}}(jQuery.query||{});(function(c){function g(c){return"object"==typeof c?c:{top:c,left:c}}var p=c.scrollTo=function(e,g,q){c(window).scrollTo(e,g,q)};p.defaults={axis:"y",duration:1};p.window=function(e){return c(window).scrollable()};c.fn.scrollable=function(){return this.map(function(){var e=this.parentWindow||this.defaultView,e="#document"==this.nodeName?e.frameElement||e:this,g=e.contentDocument||(e.contentWindow||e).document,q=e.setInterval;return"IFRAME"==e.nodeName||q&&c.browser.safari?g.body:q?g.documentElement:
this})};c.fn.scrollTo=function(e,k,q){"object"==typeof k&&(q=k,k=0);"function"==typeof q&&(q={onAfter:q});q=c.extend({},p.defaults,q);k=k||q.speed||q.duration;q.queue=q.queue&&1<q.axis.length;q.queue&&(k/=2);q.offset=g(q.offset);q.over=g(q.over);return this.scrollable().each(function(){function p(c){u.animate(w,k,q.easing,c&&function(){c.call(this,e,q)})}function n(c){c="scroll"+c;var e=y.ownerDocument;return v?Math.max(e.documentElement[c],e.body[c]):y[c]}var y=this,u=c(y),h=e,D,w={},v=u.is("html,body");
switch(typeof h){case "number":case "string":if(/^([+-]=)?\d+(px)?$/.test(h)){h=g(h);break}h=c(h,this);case "object":if(h.is||h.style)D=(h=c(h)).offset()}c.each(q.axis.split(""),function(c,e){var g="x"==e?"Left":"Top",k=g.toLowerCase(),E="scroll"+g,V=y[E],K="x"==e?"Width":"Height",L=K.toLowerCase();D?(w[E]=D[k]+(v?0:V-u.offset()[k]),q.margin&&(w[E]-=parseInt(h.css("margin"+g))||0,w[E]-=parseInt(h.css("border"+g+"Width"))||0),w[E]+=q.offset[k]||0,q.over[k]&&(w[E]+=h[L]()*q.over[k])):w[E]=h[k];/^\d+$/.test(w[E])&&
(w[E]=0>=w[E]?0:Math.min(w[E],n(K)));!c&&q.queue&&(V!=w[E]&&p(q.onAfterFirst),delete w[E])});p(q.onAfter)}).end()}})(jQuery);Date.ext={};Date.ext.util={};Date.ext.util.xPad=function(c,g,p){for("undefined"==typeof p&&(p=10);parseInt(c,10)<p&&1<p;p/=10)c=g.toString()+c;return c.toString()};Date.prototype.locale="en-GB";document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(Date.prototype.locale=document.getElementsByTagName("html")[0].lang);Date.ext.locales={};
Date.ext.locales.en={a:"Sun Mon Tue Wed Thu Fri Sat".split(" "),A:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),b:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),B:"January February March April May June July August September October November December".split(" "),c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"};Date.ext.locales["en-US"]=Date.ext.locales.en;Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z";Date.ext.locales["en-US"].x="%D";
Date.ext.locales["en-US"].X="%r";Date.ext.locales["en-GB"]=Date.ext.locales.en;Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"];
Date.ext.formats={a:function(c){return Date.ext.locales[c.locale].a[c.getDay()]},A:function(c){return Date.ext.locales[c.locale].A[c.getDay()]},b:function(c){return Date.ext.locales[c.locale].b[c.getMonth()]},B:function(c){return Date.ext.locales[c.locale].B[c.getMonth()]},c:"toLocaleString",C:function(c){return Date.ext.util.xPad(parseInt(c.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(c){return Date.ext.util.xPad(parseInt(Date.ext.util.G(c)/100,10),0)},G:function(c){var g=
c.getFullYear(),p=parseInt(Date.ext.formats.V(c),10);c=parseInt(Date.ext.formats.W(c),10);c>p?g++:0===c&&52<=p&&g--;return g},H:["getHours","0"],I:function(c){c=c.getHours()%12;return Date.ext.util.xPad(0===c?12:c,0)},j:function(c){var g=c-new Date(""+c.getFullYear()+"/1/1 GMT"),g=g+6E4*c.getTimezoneOffset();c=parseInt(g/6E4/60/24,10)+1;return Date.ext.util.xPad(c,0,100)},m:function(c){return Date.ext.util.xPad(c.getMonth()+1,0)},M:["getMinutes","0"],p:function(c){return Date.ext.locales[c.locale].p[12<=
c.getHours()?1:0]},P:function(c){return Date.ext.locales[c.locale].P[12<=c.getHours()?1:0]},S:["getSeconds","0"],u:function(c){c=c.getDay();return 0===c?7:c},U:function(c){var g=parseInt(Date.ext.formats.j(c),10);c=6-c.getDay();g=parseInt((g+c)/7,10);return Date.ext.util.xPad(g,0)},V:function(c){var g=parseInt(Date.ext.formats.W(c),10),p=(new Date(""+c.getFullYear()+"/1/1")).getDay(),g=g+(4<p||1>=p?0:1);53==g&&4>(new Date(""+c.getFullYear()+"/12/31")).getDay()?g=1:0===g&&(g=Date.ext.formats.V(new Date(""+
(c.getFullYear()-1)+"/12/31")));return Date.ext.util.xPad(g,0)},w:"getDay",W:function(c){var g=parseInt(Date.ext.formats.j(c),10);c=7-Date.ext.formats.u(c);g=parseInt((g+c)/7,10);return Date.ext.util.xPad(g,0,10)},y:function(c){return Date.ext.util.xPad(c.getFullYear()%100,0)},Y:"getFullYear",z:function(c){c=c.getTimezoneOffset();var g=Date.ext.util.xPad(parseInt(Math.abs(c/60),10),0),p=Date.ext.util.xPad(c%60,0);return(0<c?"-":"+")+g+p},Z:function(c){return c.toString().replace(/^.*\(([^)]+)\)$/,
"$1")},"%":function(c){return"%"}};Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"};Date.ext.aggregates.z=Date.ext.formats.z(new Date);Date.ext.aggregates.Z=Date.ext.formats.Z(new Date);Date.ext.unsupported={};
Date.prototype.strftime=function(c){this.locale in Date.ext.locales||(this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales?this.locale=this.locale.replace(/-[a-zA-Z]+$/,""):this.locale="en-GB");for(var g=this;c.match(/%[cDhnrRtTxXzZ]/);)c=c.replace(/%([cDhnrRtTxXzZ])/g,function(c,e){var k=Date.ext.aggregates[e];return"locale"==k?Date.ext.locales[g.locale][e]:k});c=c.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(c,e){var k=Date.ext.formats[e];return"string"==typeof k?g[k]():"function"==typeof k?
k.call(g,g):"object"==typeof k&&"string"==typeof k[0]?Date.ext.util.xPad(g[k[0]](),k[1]):e});g=null;return c};var sprintf=function(){function c(c){return Object.prototype.toString.call(c).slice(8,-1).toLowerCase()}var g=function(){g.cache.hasOwnProperty(arguments[0])||(g.cache[arguments[0]]=g.parse(arguments[0]));return g.format.call(null,g.cache[arguments[0]],arguments)};g.format=function(g,e){var k=1,q=g.length,t="",n=[],y,u,h,D;for(y=0;y<q;y++)if(t=c(g[y]),"string"===t)n.push(g[y]);else if("array"===t){h=g[y];if(h[2])for(t=e[k],u=0;u<h[2].length;u++){if(!t.hasOwnProperty(h[2][u]))throw sprintf('[sprintf] property "%s" does not exist',
h[2][u]);t=t[h[2][u]]}else t=h[1]?e[h[1]]:e[k++];if(/[^s]/.test(h[8])&&"number"!=c(t))throw sprintf("[sprintf] expecting number but found %s",c(t));switch(h[8]){case "b":t=t.toString(2);break;case "c":t=String.fromCharCode(t);break;case "d":t=parseInt(t,10);break;case "e":t=h[7]?t.toExponential(h[7]):t.toExponential();break;case "f":t=h[7]?parseFloat(t).toFixed(h[7]):parseFloat(t);break;case "o":t=t.toString(8);break;case "s":t=(t=String(t))&&h[7]?t.substring(0,h[7]):t;break;case "u":t=Math.abs(t);
break;case "x":t=t.toString(16);break;case "X":t=t.toString(16).toUpperCase()}t=/[def]/.test(h[8])&&h[3]&&0<=t?"+"+t:t;u=h[4]?"0"==h[4]?"0":h[4].charAt(1):" ";D=h[6]-String(t).length;if(h[6]){for(var w=[];0<D;w[--D]=u);u=w.join("")}else u="";n.push(h[5]?t+u:u+t)}return n.join("")};g.cache={};g.parse=function(c){for(var e=[],g=[],q=0;c;){if(null!==(e=/^[^\x25]+/.exec(c)))g.push(e[0]);else if(null!==(e=/^\x25{2}/.exec(c)))g.push("%");else if(null!==(e=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(c))){if(e[2]){var q=
q|1,t=[],n=e[2],y=[];if(null!==(y=/^([a-z_][a-z_\d]*)/i.exec(n)))for(t.push(y[1]);""!==(n=n.substring(y[0].length));)if(null!==(y=/^\.([a-z_][a-z_\d]*)/i.exec(n)))t.push(y[1]);else if(null!==(y=/^\[(\d+)\]/.exec(n)))t.push(y[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";e[2]=t}else q|=2;if(3===q)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";g.push(e)}else throw"[sprintf] huh?";c=c.substring(e[0].length)}return g};return g}(),vsprintf=function(c,g){g.unshift(c);
return sprintf.apply(null,g)};/*
: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 @website: http://www.datejs.com/
*/
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),abbreviatedDayNames:"Sun Mon Tue Wed Thu Fri Sat".split(" "),shortestDayNames:"Su Mo Tu We Th Fr Sa".split(" "),firstLetterDayNames:"SMTWTFS".split(""),monthNames:"January February March April May June July August September October November December".split(" "),abbreviatedMonthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,
may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,
millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",
offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};
(function(){var c=Date,g=c.prototype,p=c.CultureInfo,e=function(c,e){e||(e=2);return("000"+c).slice(-1*e)};g.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};g.setTimeToNow=function(){var c=new Date;this.setHours(c.getHours());this.setMinutes(c.getMinutes());this.setSeconds(c.getSeconds());this.setMilliseconds(c.getMilliseconds());return this};c.today=function(){return(new Date).clearTime()};c.compare=function(c,e){if(isNaN(c)||isNaN(e))throw Error(c+
" - "+e);if(c instanceof Date&&e instanceof Date)return c<e?-1:c>e?1:0;throw new TypeError(c+" - "+e);};c.equals=function(c,e){return 0===c.compareTo(e)};c.getDayNumberFromName=function(c){var e=p.dayNames,g=p.abbreviatedDayNames,h=p.shortestDayNames;c=c.toLowerCase();for(var k=0;k<e.length;k++)if(e[k].toLowerCase()==c||g[k].toLowerCase()==c||h[k].toLowerCase()==c)return k;return-1};c.getMonthNumberFromName=function(c){var e=p.monthNames,g=p.abbreviatedMonthNames;c=c.toLowerCase();for(var h=0;h<e.length;h++)if(e[h].toLowerCase()==
c||g[h].toLowerCase()==c)return h;return-1};c.isLeapYear=function(c){return 0===c%4&&0!==c%100||0===c%400};c.getDaysInMonth=function(e,g){return[31,c.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][g]};c.getTimezoneAbbreviation=function(c){for(var e=p.timezones,g=0;g<e.length;g++)if(e[g].offset===c)return e[g].name;return null};c.getTimezoneOffset=function(c){for(var e=p.timezones,g=0;g<e.length;g++)if(e[g].name===c.toUpperCase())return e[g].offset;return null};g.clone=function(){return new Date(this.getTime())};
g.compareTo=function(c){return Date.compare(this,c)};g.equals=function(c){return Date.equals(this,c||new Date)};g.between=function(c,e){return this.getTime()>=c.getTime()&&this.getTime()<=e.getTime()};g.isAfter=function(c){return 1===this.compareTo(c||new Date)};g.isBefore=function(c){return-1===this.compareTo(c||new Date)};g.isToday=function(){return this.isSameDay(new Date)};g.isSameDay=function(c){return this.clone().clearTime().equals(c.clone().clearTime())};g.addMilliseconds=function(c){this.setMilliseconds(this.getMilliseconds()+
c);return this};g.addSeconds=function(c){return this.addMilliseconds(1E3*c)};g.addMinutes=function(c){return this.addMilliseconds(6E4*c)};g.addHours=function(c){return this.addMilliseconds(36E5*c)};g.addDays=function(c){this.setDate(this.getDate()+c);return this};g.addWeeks=function(c){return this.addDays(7*c)};g.addMonths=function(e){var g=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+e);this.setDate(Math.min(g,c.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};g.addYears=
function(c){return this.addMonths(12*c)};g.add=function(c){if("number"==typeof c)return this._orient=c,this;c.milliseconds&&this.addMilliseconds(c.milliseconds);c.seconds&&this.addSeconds(c.seconds);c.minutes&&this.addMinutes(c.minutes);c.hours&&this.addHours(c.hours);c.weeks&&this.addWeeks(c.weeks);c.months&&this.addMonths(c.months);c.years&&this.addYears(c.years);c.days&&this.addDays(c.days);return this};var k,q,t;g.getWeek=function(){var c,e,g,h,p;k=k?k:this.getFullYear();q=q?q:this.getMonth()+
1;t=t?t:this.getDate();2>=q?(c=k-1,e=(c/4|0)-(c/100|0)+(c/400|0),p=e-(((c-1)/4|0)-((c-1)/100|0)+((c-1)/400|0)),g=0,h=t-1+31*(q-1)):(c=k,e=(c/4|0)-(c/100|0)+(c/400|0),p=e-(((c-1)/4|0)-((c-1)/100|0)+((c-1)/400|0)),g=p+1,h=t+(153*(q-3)+2)/5+58+p);c=(c+e)%7;g=h+3-(h+c-g)%7|0;k=q=t=null;return 0>g?53-((c-p)/5|0):g>364+p?1:(g/7|0)+1};g.getISOWeek=function(){k=this.getUTCFullYear();q=this.getUTCMonth()+1;t=this.getUTCDate();return e(this.getWeek())};g.setWeek=function(c){return this.moveToDayOfWeek(1).addWeeks(c-
this.getWeek())};c._validate=function(c,e,g,h){if("undefined"==typeof c)return!1;if("number"!=typeof c)throw new TypeError(c+" is not a Number.");if(c<e||c>g)throw new RangeError(c+" is not a valid value for "+h+".");return!0};c.validateMillisecond=function(e){return c._validate(e,0,999,"millisecond")};c.validateSecond=function(e){return c._validate(e,0,59,"second")};c.validateMinute=function(e){return c._validate(e,0,59,"minute")};c.validateHour=function(e){return c._validate(e,0,23,"hour")};c.validateDay=
function(e,g,k){return c._validate(e,1,c.getDaysInMonth(g,k),"day")};c.validateMonth=function(e){return c._validate(e,0,11,"month")};c.validateYear=function(e){return c._validate(e,0,9999,"year")};g.set=function(e){c.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds());c.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds());c.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes());c.validateHour(e.hour)&&this.addHours(e.hour-
this.getHours());c.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth());c.validateYear(e.year)&&this.addYears(e.year-this.getFullYear());c.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate());e.timezone&&this.setTimezone(e.timezone);e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset);e.week&&c._validate(e.week,0,53,"week")&&this.setWeek(e.week);return this};g.moveToFirstDayOfMonth=function(){return this.set({day:1})};g.moveToLastDayOfMonth=function(){return this.set({day:c.getDaysInMonth(this.getFullYear(),
this.getMonth())})};g.moveToNthOccurrence=function(c,e){var g=0;if(0<e)g=e-1;else if(-1===e)return this.moveToLastDayOfMonth(),this.getDay()!==c&&this.moveToDayOfWeek(c,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(c,1).addWeeks(g)};g.moveToDayOfWeek=function(c,e){var g=(c-this.getDay()+7*(e||1))%7;return this.addDays(0===g?g+7*(e||1):g)};g.moveToMonth=function(c,e){var g=(c-this.getMonth()+12*(e||1))%12;return this.addMonths(0===g?g+12*(e||1):g)};g.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-
new Date(this.getFullYear(),0,1))/864E5)+1};g.getTimezone=function(){return c.getTimezoneAbbreviation(this.getUTCOffset())};g.setTimezoneOffset=function(c){var e=this.getTimezoneOffset();return this.addMinutes(-6*Number(c)/10-e)};g.setTimezone=function(e){return this.setTimezoneOffset(c.getTimezoneOffset(e))};g.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};g.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&
(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};g.getUTCOffset=function(){var c=-10*this.getTimezoneOffset()/6;if(0>c)return c=(c-1E4).toString(),c.charAt(0)+c.substr(2);c=(c+1E4).toString();return"+"+c.substr(1)};g.getElapsed=function(c){return(c||new Date)-this};g.toISOString||(g.toISOString=function(){function c(e){return 10>e?"0"+e:e}return'"'+this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+
":"+c(this.getUTCSeconds())+'Z"'});g._toString=g.toString;g.toString=function(c){var g=this;if(c&&1==c.length){var k=p.formatPatterns;g.t=g.toString;switch(c){case "d":return g.t(k.shortDate);case "D":return g.t(k.longDate);case "F":return g.t(k.fullDateTime);case "m":return g.t(k.monthDay);case "r":return g.t(k.rfc1123);case "s":return g.t(k.sortableDateTime);case "t":return g.t(k.shortTime);case "T":return g.t(k.longTime);case "u":return g.t(k.universalSortableDateTime);case "y":return g.t(k.yearMonth)}}var h=
function(c){switch(1*c){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return c?c.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(c){if("\\"===c.charAt(0))return c.replace("\\","");g.h=g.getHours;switch(c){case "hh":return e(13>g.h()?0===g.h()?12:g.h():g.h()-12);case "h":return 13>g.h()?0===g.h()?12:g.h():g.h()-12;case "HH":return e(g.h());case "H":return g.h();case "mm":return e(g.getMinutes());case "m":return g.getMinutes();
case "ss":return e(g.getSeconds());case "s":return g.getSeconds();case "yyyy":return e(g.getFullYear(),4);case "yy":return e(g.getFullYear());case "dddd":return p.dayNames[g.getDay()];case "ddd":return p.abbreviatedDayNames[g.getDay()];case "dd":return e(g.getDate());case "d":return g.getDate();case "MMMM":return p.monthNames[g.getMonth()];case "MMM":return p.abbreviatedMonthNames[g.getMonth()];case "MM":return e(g.getMonth()+1);case "M":return g.getMonth()+1;case "t":return 12>g.h()?p.amDesignator.substring(0,
1):p.pmDesignator.substring(0,1);case "tt":return 12>g.h()?p.amDesignator:p.pmDesignator;case "S":return h(g.getDate());default:return c}}):this._toString()}})();
(function(){var c=Date,g=c.prototype,p=c.CultureInfo,e=Number.prototype;g._orient=1;g._nth=null;g._is=!1;g._same=!1;g._isSecond=!1;e._dateElement="day";g.next=function(){this._orient=1;return this};c.next=function(){return c.today().next()};g.last=g.prev=g.previous=function(){this._orient=-1;return this};c.last=c.prev=c.previous=function(){return c.today().last()};g.is=function(){this._is=!0;return this};g.same=function(){this._same=!0;this._isSecond=!1;return this};g.today=function(){return this.same().day()};
g.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};g.at=function(e){return"string"===typeof e?c.parse(this.toString("d")+" "+e):this.set(e)};e.fromNow=e.after=function(c){var e={};e[this._dateElement]=this;return(c?c.clone():new Date).add(e)};e.ago=e.before=function(c){var e={};e[this._dateElement]=-1*this;return(c?c.clone():new Date).add(e)};var k="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),q="january february march april may june july august september october november december".split(/\s/),
t="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),n="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),y="final first second third fourth fifth".split(/\s/);g.toObject=function(){for(var c={},e=0;e<t.length;e++)c[t[e].toLowerCase()]=this["get"+n[e]]();return c};c.fromObject=function(c){c.week=null;return Date.today().set(c)};for(var u=function(e){return function(){if(this._is)return this._is=!1,this.getDay()==e;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*
this._orient);this._isSecond=!1;var h=this._nth;this._nth=null;var g=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(e,h);if(this>g)throw new RangeError(c.getDayName(e)+" does not occur "+h+" times in the month of "+c.getMonthName(g.getMonth())+" "+g.getFullYear()+".");return this}return this.moveToDayOfWeek(e,this._orient)}},h=function(e){return function(){var h=c.today(),g=e-h.getDay();0===e&&1===p.firstDayOfWeek&&0!==h.getDay()&&(g+=7);return h.addDays(g)}},D=0;D<k.length;D++)c[k[D].toUpperCase()]=
c[k[D].toUpperCase().substring(0,3)]=D,c[k[D]]=c[k[D].substring(0,3)]=h(D),g[k[D]]=g[k[D].substring(0,3)]=u(D);k=function(c){return function(){return this._is?(this._is=!1,this.getMonth()===c):this.moveToMonth(c,this._orient)}};u=function(e){return function(){return c.today().set({month:e,day:1})}};for(h=0;h<q.length;h++)c[q[h].toUpperCase()]=c[q[h].toUpperCase().substring(0,3)]=h,c[q[h]]=c[q[h].substring(0,3)]=u(h),g[q[h]]=g[q[h].substring(0,3)]=k(h);k=function(c){return function(e){if(this._isSecond)return this._isSecond=
!1,this;if(this._same){this._same=this._is=!1;var h=this.toObject();e=(e||new Date).toObject();for(var g="",k=c.toLowerCase(),n=t.length-1;-1<n;n--){g=t[n].toLowerCase();if(h[g]!=e[g])return!1;if(k==g)break}return!0}"s"!=c.substring(c.length-1)&&(c+="s");return this["add"+c](this._orient)}};u=function(c){return function(){this._dateElement=c;return this}};for(h=0;h<t.length;h++)q=t[h].toLowerCase(),g[q]=g[q+"s"]=k(t[h]),e[q]=e[q+"s"]=u(q);g._ss=k("Second");e=function(c){return function(e){if(this._same)return this._ss(e);
if(e||0===e)return this.moveToNthOccurrence(e,c);this._nth=c;return 2!==c||void 0!==e&&null!==e?this:(this._isSecond=!0,this.addSeconds(this._orient))}};for(q=0;q<y.length;q++)g[y[q]]=0===q?e(-1):e(q)})();
(function(){Date.Parsing={Exception:function(c){this.message="Parse error at '"+c.substring(0,10)+" ...'"}};for(var c=Date.Parsing,g=c.Operators={rtoken:function(e){return function(g){var k=g.match(e);if(k)return[k[0],g.substring(k[0].length)];throw new c.Exception(g);}},token:function(c){return function(c){return g.rtoken(new RegExp("^s*"+c+"s*"))(c)}},stoken:function(c){return g.rtoken(new RegExp("^"+c))},until:function(c){return function(e){for(var g=[],k=null;e.length;){try{k=c.call(this,e)}catch(p){g.push(k[0]);
e=k[1];continue}break}return[g,e]}},many:function(c){return function(e){for(var g=[],k=null;e.length;){try{k=c.call(this,e)}catch(p){break}g.push(k[0]);e=k[1]}return[g,e]}},optional:function(c){return function(e){var g=null;try{g=c.call(this,e)}catch(k){return[null,e]}return[g[0],g[1]]}},not:function(e){return function(g){try{e.call(this,g)}catch(k){return[null,g]}throw new c.Exception(g);}},ignore:function(c){return c?function(e){var g=null,g=c.call(this,e);return[null,g[1]]}:null},product:function(){for(var c=
arguments[0],e=Array.prototype.slice.call(arguments,1),k=[],p=0;p<c.length;p++)k.push(g.each(c[p],e));return k},cache:function(e){var g={},k=null;return function(p){try{k=g[p]=g[p]||e.call(this,p)}catch(u){k=g[p]=u}if(k instanceof c.Exception)throw k;return k}},any:function(){var e=arguments;return function(g){for(var k=null,p=0;p<e.length;p++)if(null!=e[p]){try{k=e[p].call(this,g)}catch(u){k=null}if(k)return k}throw new c.Exception(g);}},each:function(){var e=arguments;return function(g){for(var k=
[],p=null,u=0;u<e.length;u++)if(null!=e[u]){try{p=e[u].call(this,g)}catch(h){throw new c.Exception(g);}k.push(p[0]);g=p[1]}return[k,g]}},all:function(){var c=c;return c.each(c.optional(arguments))},sequence:function(e,k,n){k=k||g.rtoken(/^\s*/);n=n||null;return 1==e.length?e[0]:function(g){for(var p=null,h=null,D=[],w=0;w<e.length;w++){try{p=e[w].call(this,g)}catch(v){break}D.push(p[0]);try{h=k.call(this,p[1])}catch(F){h=null;break}g=h[1]}if(!p)throw new c.Exception(g);if(h)throw new c.Exception(h[1]);
if(n)try{p=n.call(this,p[1])}catch(J){throw new c.Exception(p[1]);}return[D,p?p[1]:g]}},between:function(c,e,k){k=k||c;var p=g.each(g.ignore(c),e,g.ignore(k));return function(c){c=p.call(this,c);return[[c[0][0],r[0][2]],c[1]]}},list:function(c,e,k){e=e||g.rtoken(/^\s*/);k=k||null;return c instanceof Array?g.each(g.product(c.slice(0,-1),g.ignore(e)),c.slice(-1),g.ignore(k)):g.each(g.many(g.each(c,g.ignore(e))),px,g.ignore(k))},set:function(e,k,n){k=k||g.rtoken(/^\s*/);n=n||null;return function(p){for(var u=
null,h=u=null,D=null,w=[[],p],v=!1,F=0;F<e.length;F++){u=h=null;v=1==e.length;try{u=e[F].call(this,p)}catch(J){continue}D=[[u[0]],u[1]];if(0<u[1].length&&!v)try{h=k.call(this,u[1])}catch(G){v=!0}else v=!0;v||0!==h[1].length||(v=!0);if(!v){u=[];for(v=0;v<e.length;v++)F!=v&&u.push(e[v]);u=g.set(u,k).call(this,h[1]);0<u[0].length&&(D[0]=D[0].concat(u[0]),D[1]=u[1])}D[1].length<w[1].length&&(w=D);if(0===w[1].length)break}if(0===w[0].length)return w;if(n){try{h=n.call(this,w[1])}catch(R){throw new c.Exception(w[1]);
}w[1]=h[1]}return w}},forward:function(c,e){return function(g){return c[e].call(this,g)}},replace:function(c,e){return function(g){g=c.call(this,g);return[e,g[1]]}},process:function(c,e){return function(g){g=c.call(this,g);return[e.call(this,g[0]),g[1]]}},min:function(e,g){return function(k){var p=g.call(this,k);if(p[0].length<e)throw new c.Exception(k);return p}}},p=function(c){return function(){var e=null,g=[];1<arguments.length?e=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&
(e=arguments[0]);if(e)for(var k=e.shift();0<k.length;)return e.unshift(k[0]),g.push(c.apply(null,e)),e.shift(),g;else return c.apply(null,arguments)}},e="optional not ignore cache".split(/\s/),k=0;k<e.length;k++)g[e[k]]=p(g[e[k]]);p=function(c){return function(){return arguments[0]instanceof Array?c.apply(null,arguments[0]):c.apply(null,arguments)}};e="each any all".split(/\s/);for(k=0;k<e.length;k++)g[e[k]]=p(g[e[k]])})();
(function(){var c=Date,g=c.CultureInfo,p=function(c){for(var e=[],g=0;g<c.length;g++)c[g]instanceof Array?e=e.concat(p(c[g])):c[g]&&e.push(c[g]);return e};c.Grammar={};c.Translator={hour:function(c){return function(){this.hour=Number(c)}},minute:function(c){return function(){this.minute=Number(c)}},second:function(c){return function(){this.second=Number(c)}},meridian:function(c){return function(){this.meridian=c.slice(0,1).toLowerCase()}},timezone:function(c){return function(){var e=c.replace(/[^\d\+\-]/g,
"");e.length?this.timezoneOffset=Number(e):this.timezone=c.toLowerCase()}},day:function(c){var e=c[0];return function(){this.day=Number(e.match(/\d+/)[0])}},month:function(c){return function(){this.month=3==c.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(c)/4:Number(c)-1}},year:function(c){return function(){var e=Number(c);this.year=2<c.length?e:e+(e+2E3<g.twoDigitYearMax?2E3:1900)}},rday:function(c){return function(){switch(c){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(e){e=e instanceof Array?e:[e];for(var g=0;g<e.length;g++)e[g]&&e[g].call(this);e=new Date;!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=e.getDate());this.year||(this.year=e.getFullYear());this.month||0===this.month||(this.month=e.getMonth());this.day||(this.day=1);this.hour||(this.hour=0);this.minute||(this.minute=0);this.second||(this.second=0);this.meridian&&this.hour&&("p"==
this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));if(this.day>c.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);this.timezone?e.set({timezone:this.timezone}):this.timezoneOffset&&e.set({timezoneOffset:this.timezoneOffset});return e},finish:function(e){e=e instanceof Array?p(e):[e];if(0===e.length)return null;for(var g=0;g<e.length;g++)"function"==
typeof e[g]&&e[g].call(this);e=c.today();if(!this.now||this.unit||this.operator)this.now&&(e=new Date);else return new Date;var g=!!(this.days&&null!==this.days||this.orient||this.operator),k,n,q;q="past"==this.orient||"subtract"==this.operator?-1:1;this.now||-1=="hour minute second".indexOf(this.unit)||e.setTimeToNow();!this.month&&0!==this.month||-1=="year day hour minute second".indexOf(this.unit)||(this.value=this.month+1,this.month=null,g=!0);g||!this.weekday||this.day||this.days||(k=Date[this.weekday](),
this.day=k.getDate(),this.month||(this.month=k.getMonth()),this.year=k.getFullYear());g&&this.weekday&&"month"!=this.unit&&(this.unit="day",k=c.getDayNumberFromName(this.weekday)-e.getDay(),n=7,this.days=k?(k+q*n)%n:q*n);this.month&&"day"==this.unit&&this.operator&&(this.value=this.month+1,this.month=null);null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value);this.month&&!this.day&&this.value&&(e.set({day:1*this.value}),g||(this.day=1*this.value));this.month||!this.value||"month"!=
this.unit||this.now||(this.month=this.value,g=!0);g&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",k=this.month-e.getMonth(),n=12,this.months=k?(k+q*n)%n:q*n,this.month=null);this.unit||(this.unit="day");if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"])this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*q;else if(null==this[this.unit+"s"]||null!=this.operator)this.value||(this.value=1),this[this.unit+
"s"]=this.value*q;this.meridian&&this.hour&&("p"==this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));!this.weekday||this.day||this.days||(k=Date[this.weekday](),this.day=k.getDate(),k.getMonth()!==e.getMonth()&&(this.month=k.getMonth()));!this.month&&0!==this.month||this.day||(this.day=1);if(!this.orient&&!this.operator&&"week"==this.unit&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);g&&this.timezone&&this.day&&this.days&&(this.day=
this.days);return g?e.add(this):e.set(this)}};var e=c.Parsing.Operators,k=c.Grammar,q=c.Translator,t;k.datePartDelimiter=e.rtoken(/^([\s\-\.\,\/\x27]+)/);k.timePartDelimiter=e.stoken(":");k.whiteSpace=e.rtoken(/^\s*/);k.generalDelimiter=e.rtoken(/^(([\s\,]|at|@|on)+)/);var n={};k.ctoken=function(c){var k=n[c];if(!k){for(var k=g.regexPatterns,p=c.split(/\s+/),q=[],t=0;t<p.length;t++)q.push(e.replace(e.rtoken(k[p[t]]),p[t]));k=n[c]=e.any.apply(null,q)}return k};k.ctoken2=function(c){return e.rtoken(g.regexPatterns[c])};
k.h=e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),q.hour));k.hh=e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2])/),q.hour));k.H=e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),q.hour));k.HH=e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3])/),q.hour));k.m=e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/),q.minute));k.mm=e.cache(e.process(e.rtoken(/^[0-5][0-9]/),q.minute));k.s=e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/),q.second));k.ss=e.cache(e.process(e.rtoken(/^[0-5][0-9]/),q.second));
k.hms=e.cache(e.sequence([k.H,k.m,k.s],k.timePartDelimiter));k.t=e.cache(e.process(k.ctoken2("shortMeridian"),q.meridian));k.tt=e.cache(e.process(k.ctoken2("longMeridian"),q.meridian));k.z=e.cache(e.process(e.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),q.timezone));k.zz=e.cache(e.process(e.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),q.timezone));k.zzz=e.cache(e.process(k.ctoken2("timezone"),q.timezone));k.timeSuffix=e.each(e.ignore(k.whiteSpace),e.set([k.tt,k.zzz]));k.time=e.each(e.optional(e.ignore(e.stoken("T"))),
k.hms,k.timeSuffix);k.d=e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1]|\d)/),e.optional(k.ctoken2("ordinalSuffix"))),q.day));k.dd=e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1])/),e.optional(k.ctoken2("ordinalSuffix"))),q.day));k.ddd=k.dddd=e.cache(e.process(k.ctoken("sun mon tue wed thu fri sat"),function(c){return function(){this.weekday=c}}));k.M=e.cache(e.process(e.rtoken(/^(1[0-2]|0\d|\d)/),q.month));k.MM=e.cache(e.process(e.rtoken(/^(1[0-2]|0\d)/),q.month));k.MMM=k.MMMM=e.cache(e.process(k.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),
q.month));k.y=e.cache(e.process(e.rtoken(/^(\d\d?)/),q.year));k.yy=e.cache(e.process(e.rtoken(/^(\d\d)/),q.year));k.yyy=e.cache(e.process(e.rtoken(/^(\d\d?\d?\d?)/),q.year));k.yyyy=e.cache(e.process(e.rtoken(/^(\d\d\d\d)/),q.year));t=function(){return e.each(e.any.apply(null,arguments),e.not(k.ctoken2("timeContext")))};k.day=t(k.d,k.dd);k.month=t(k.M,k.MMM);k.year=t(k.yyyy,k.yy);k.orientation=e.process(k.ctoken("past future"),function(c){return function(){this.orient=c}});k.operator=e.process(k.ctoken("add subtract"),
function(c){return function(){this.operator=c}});k.rday=e.process(k.ctoken("yesterday tomorrow today now"),q.rday);k.unit=e.process(k.ctoken("second minute hour day week month year"),function(c){return function(){this.unit=c}});k.value=e.process(e.rtoken(/^\d\d?(st|nd|rd|th)?/),function(c){return function(){this.value=c.replace(/\D/g,"")}});k.expression=e.set([k.rday,k.operator,k.value,k.unit,k.orientation,k.ddd,k.MMM]);t=function(){return e.set(arguments,k.datePartDelimiter)};k.mdy=t(k.ddd,k.month,
k.day,k.year);k.ymd=t(k.ddd,k.year,k.month,k.day);k.dmy=t(k.ddd,k.day,k.month,k.year);k.date=function(c){return(k[g.dateElementOrder]||k.mdy).call(this,c)};k.format=e.process(e.many(e.any(e.process(e.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(k[e])return k[e];throw c.Parsing.Exception(e);}),e.process(e.rtoken(/^[^dMyhHmstz]+/),function(c){return e.ignore(e.stoken(c))}))),function(c){return e.process(e.each.apply(null,c),q.finishExact)});var y={},u=function(c){return y[c]=
y[c]||k.format(c)[0]};k.formats=function(c){if(c instanceof Array){for(var g=[],k=0;k<c.length;k++)g.push(u(c[k]));return e.any.apply(null,g)}return u(c)};k._formats=k.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));k._start=e.process(e.set([k.date,k.time,k.expression],
k.generalDelimiter,k.whiteSpace),q.finish);k.start=function(c){try{var e=k._formats.call({},c);if(0===e[1].length)return e}catch(g){}return k._start.call({},c)};c._parse=c.parse;c.parse=function(e){var g=null;if(!e)return null;if(e instanceof Date)return e;try{g=c.Grammar.start.call({},e.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(k){return null}return 0===g[1].length?g[0]:null};c.getParseFunction=function(e){var g=c.Grammar.formats(e);return function(c){var e=null;try{e=g.call({},c)}catch(h){return null}return 0===
e[1].length?e[0]:null}};c.parseExact=function(e,g){return c.getParseFunction(g)(e)}})();(function(c,g,p){function e(c){c=c||location.href;return"#"+c.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var k=document,q,t=c.event.special,n=k.documentMode,y="onhashchange"in g&&(n===p||7<n);c.fn.hashchange=function(c){return c?this.bind("hashchange",c):this.trigger("hashchange")};c.fn.hashchange.delay=50;t.hashchange=c.extend(t.hashchange,{setup:function(){if(y)return!1;c(q.start)},teardown:function(){if(y)return!1;c(q.stop)}});q=function(){function n(){var h=e(),k=J(t);h!==t?(F(t=h,k),c(g).trigger("hashchange")):
k!==t&&(location.href=location.href.replace(/#.*/,"")+k);q=setTimeout(n,c.fn.hashchange.delay)}var h={},q,t=e(),v=function(c){return c},F=v,J=v;h.start=function(){q||n()};h.stop=function(){q&&clearTimeout(q);q=p};c.browser.msie&&!y&&function(){var g,p;h.start=function(){g||(p=(p=c.fn.hashchange.src)&&p+e(),g=c('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){p||F(e());n()}).attr("src",p||"javascript:0").insertAfter("body")[0].contentWindow,k.onpropertychange=function(){try{"title"===
event.propertyName&&(g.document.title=k.title)}catch(c){}})};h.stop=v;J=function(){return e(g.location.href)};F=function(e,h){var n=g.document,p=c.fn.hashchange.domain;e!==h&&(n.title=k.title,n.open(),p&&n.write('<script>document.domain="'+p+'"\x3c/script>'),n.close(),g.location.hash=e)}}();return h}()})(jQuery,this);function expandtemplate(c,g){function p(c){for(var e in c)if(0<c[e])return!1;return!0}function e(){var e=(new Date).getTime()-J;h&&(u?console.log("Generated and checked "+G.length+" URLs in "+e+" ms ("+Math.round(e/G.length)+" ms per)"):console.log("Generated "+G.length+" URLs in "+e+" ms ("+Math.round(G.length/e)+" per ms)"));if(g)g(G,R,c);else return G}function k(c,g){var n=G.length;k.N||(k.N=0);k.N+=1;R[g]=c;if(n==k.N)return h&&console.log("All head requests complete."),e()}var q=c.template,t=
c.timeRange,n=c.indexRange,y=c.type,u=c.check,h=c.debug,D=c.proxy;if(c.timeRange)var t=expandISO8601Duration(t),w=t.split("/")[0],v=t.split("/")[1];if(c.indexRange&&"sprintf"==y)var w=n.split("/")[0],v=n.split("/")[1],F=n.split("/")[2];h&&console.log("Start: "+w);h&&console.log("Stop:  "+v);h&&console.log("Step:  "+F);13==w.length&&(w+=":00:00");13==v.length&&(v+=":00:00");16==w.length&&(w+=":00");16==v.length&&(v+=":00");h&&console.log("Start: "+w);h&&console.log("Stop:  "+v);var J=(new Date).getTime(),
G=[],R=[];if(!c.template.match(/\$|\%/))return G[0]=c.template,h&&console.log("expandtemplate.js: No wildcards"),e();if("sprintf"==y){q=q.replace(/\$/g,"%");"string"===typeof w&&(w=parseInt(w));"string"===typeof v&&(v=parseInt(v));F="string"===typeof F?parseInt(F):1;for(t=n=w;t<v+1;t+=F)G[n-w]=sprintf(q,t),n+=1;if(u)return head(G,D,k);if(!u)return e()}if("strftime"==y){q=q.replace(/\%/g,"$");h&&console.log("template      = "+q);for(var y=new Date((new Date(w)).toUTCString().substr(0,25)),w=new Date((new Date(w)).toUTCString().substr(0,
25)),F=new Date((new Date(v)).toUTCString().substr(0,25)),n={},E={},V="microseconds seconds minutes hours days days months years".split(" "),K="fSMHjdmY".split(""),t=0;t<K.length;t++)n[V[t]]=parseInt(q.replace(new RegExp(".*\\${"+K[t]+";delta=([0-9].*)}.*"),"$1"))||0;for(t=0;t<K.length;t++)E[V[t]]=parseInt(q.replace(new RegExp(".*\\${"+K[t]+";offset=([0-9].*)}.*"),"$1"))||0;for(;q.match("{.*delta.*}");)q=q.replace(RegExp("(.*)\\${([a-z]);delta=[0-9].*}(.*)","gi"),"$1%$2$3");for(q=q.replace(RegExp("\\$([a-z])",
"gi"),"%$1");q.match("{.*offset.*}");)q=q.replace(RegExp("(.*)\\${([a-z]);offset=[0-9].*}(.*)","ig"),"$1$$$2$3");for(t=0;t<K.length;t++)q.match("%"+K[t])&&p(n)&&(n[V[t]]=1);for(t=0;t<K.length;t++)q.match("$"+K[t])&&p(E)&&(E[V[t]]=1);h&&(console.log("addoff"),console.log(E));h&&(console.log("addinc"),console.log(n));h&&console.log(q);h&&console.log(y);t=0;w.add(E);if(p(n))G[0]=q;else{for(;y.isBefore(F);)G[t]=y.strftime(q),y.add(n),w.add(E),G[t]=w.strftime(G[t].replace(/\$/g,"%")),t+=1;v.substring(11).match(/[1-9]/)&&
(h&&console.log("Stop date has non-zero in time component.  Creating one more file"),G[t]=y.strftime(q),y.add(n),w.add(E),G[t]=w.strftime(G[t].replace(/\$/g,"%")))}if(!g)return G;if(u)return head(G,D,k);if(!u)return e()}}
function expandISO8601Duration(c,g){if(!c.match(/^P|\/P|^\-P|\/\-P/))return c;now=(new Date).toISOString();if(g){var p=g.debug;g.now&&(now=g.now)}if(1<c.split("/").length){g={};c.split("/")[0].match(/P/)&&!c.split("/")[1].match(/P/)?g.now=c.split("/")[1]:g.now=(new Date).toISOString();var p=expandISO8601Duration(c.split("/")[0],g),e=expandISO8601Duration(c.split("/")[1],g);return p+"/"+e}e=Duration=c;p&&console.log("expandISO8601Duration: Input: "+Duration);if(!Duration.match(/P|T/))return Duration;
var e=Duration,k=0,q=0,t=0,n=0,y=0,u=0;if(Duration.match("P"))var h=parseInt(Duration.replace(/(.*)P.*/,"$11")),k=h*parseInt(Duration.replace(/.*?([0-9]*)Y.*/,"$1")),q=h*parseInt(Duration.replace(/.*?([0-9]*)M.*/,"$1")),t=h*parseInt(Duration.replace(/.*?([0-9]*)D.*/,"$1"));e.match("T")&&(n=h*parseInt(e.replace(/.*?([0-9]*)H.*/,"$1")),y=h*parseInt(e.replace(/.*?([0-9]*)M.*/,"$1")),u=h*parseInt(e.replace(/.*?([0-9]*)S.*/,"$1")));p&&console.log("expandISO8601Duration: Now: "+now);p&&console.log("expandISO8601Duration: Offset: ");
p&&console.log({years:k,months:q,days:t,hours:n,minutes:y,seconds:u});Duration=(new Date(now)).add({years:k,months:q,days:t,hours:n,minutes:y,seconds:u});p&&console.log("expandISO8601Duration: Now+"+e+" = "+Duration.toISOString());return Duration.toISOString()}
if("undefined"!==typeof exports&&require){var fs=require("fs");if(fs.existsSync(__dirname+"/deps")){require(__dirname+"/deps/strftime");require(__dirname+"/deps/date");var sp=require(__dirname+"/deps/sprintf-0.7-beta1")}else require(__dirname+"/../deps/strftime"),require(__dirname+"/../deps/date"),sp=require(__dirname+"/../deps/sprintf-0.7-beta1");sprintf=sp.sprintf;vsprintf=sp.vsprintf;exports.expandtemplate=expandtemplate;exports.expandISO8601Duration=expandISO8601Duration};function dropdown(c,g,p){3>arguments.length&&(p="#controls");if("object"==typeof g&&($(p+" #"+c).remove(),0!==Object.keys(g).length)){$(p).append('<select id="'+c+'" title="'+g.Title+'" class="'+g.Class+'"></select>');for(var e=0;e<g.Values.length;e++)VALUE=g.Values[e].Value,TITLE=g.Values[e].Title,0==e?($(p+" #"+c).append('<option value="'+VALUE+'" class="def">'+g.Titleshort+"</option>"),$(p+" #"+c).append('<option value="'+VALUE+'" selected="true">'+TITLE+"</option>")):$(p+" #"+c).append('<option value="'+
VALUE+'">'+TITLE+"</option>")}};function setWH(c,g,p){var e=c.naturalWidth/c.naturalHeight;VIVIZ[type+"Width"]&&(VIVIZ[g][type+"Width"]=VIVIZ[type+"Width"]);VIVIZ[type+"Height"]&&(VIVIZ[g][type+"Height"]=VIVIZ[type+"Height"]);VIVIZ[g][type+"Width"]||VIVIZ[g][type+"Height"]||(VIVIZ[g][type+"Width"]=1,VIVIZ[g][type+"Height"]=1,p.fulldir!==p.thumbdir&&""!==p.thumbdir)||(VIVIZ[g][type+"Width"]=.25,VIVIZ[g][type+"Height"]=.25,console.log("gallery.firstimage(): Setting thumbnail ratio to be 25% of natural width and height because fulldir = thumbdir or thumbdir was not specified."));
VIVIZ[g][type+"Width"]&&(VIVIZ[g][type+"Width"]=1<VIVIZ[g][type+"Width"]?VIVIZ[g][type+"Width"]:c.naturalWidth*VIVIZ[g][type+"Width"]);VIVIZ[g][type+"Height"]&&(VIVIZ[g][type+"Height"]=1<VIVIZ[g][type+"Height"]?VIVIZ[type+"Height"]:c.naturalHeight*VIVIZ[g][type+"Height"]);VIVIZ[g][type+"Width"]&&!VIVIZ[g][type+"Height"]&&(VIVIZ[g][type+"Height"]=VIVIZ[g][type+"Width"]/e);VIVIZ[g][type+"Height"]&&!VIVIZ[g][type+"Width"]&&(VIVIZ[g][type+"Width"]=VIVIZ[g][type+"Height"]*e);VIVIZ[g][type+"Height"]||(VIVIZ[g][type+
"Height"]=c.naturalHeight);VIVIZ[g][type+"Width"]||(VIVIZ[g][type+"Width"]=c.naturalWidth);VIVIZ[g][type+"NaturalHeight"]=c.naturalHeight;VIVIZ[g][type+"NaturalWidth"]=c.naturalWidth;return!0};$.scrollbarWidth=function(){var c,g;void 0===g&&(c=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),g=c.children(),g=g.innerWidth()-g.height(99).innerWidth(),c.remove());return g};function error(c,g,p){$(c+" #error").show();p?$(c+" #error").html(g):$(c+" #error").append(g)}function warning(c,g,p,e){$(c+" #warning").show();p?$(c+" #warning").html(g):(spacer="",0<$(c+" #warning").text().length&&(spacer=" | "),$(c+" #warning").append(spacer+g));Infinity!=e&&setTimeout(function(){$(c+" #warning").html("").hide()},e||3E3)};function gallery(c){function g(){var e=cataloginfo(v);""===e?(error(c,"Gallery ID "+v+" not found. Redirecting in 5 seconds."),console.log("Gallery ID "+v+" not found. Redirecting in 5 seconds."),$(c+" #workingfullframe").css("visibility","hidden"),setTimeout(function(){window.location="/";$(c+" #error").hide()},5E3)):($("head title").html(e.title+": "+e.about),$(c+" #about").attr("title",e.about),$(c+" #abouttext").html(e.title+": "+e.about),VIVIZ.showAboutText&&$(c+" #abouttextwrapper").show(),
e.aboutlink&&!e.about&&$(c+" #about").attr("onclick","window.location='"+e.Aboutlink+"'"),!e.aboutlink&&e.about&&($(c+" #aboutbuttonwrapper").show(),e.about.match(/^http/)?$(c+" #aboutbuttonwrapper").attr("onclick","window.location='"+e.about+"'"):($(c+" #aboutbuttonwrapper").attr("title",e.about+". Click to show or hide title line."),$(c+" #aboutbuttonwrapper").on("click",function(){$(c+" #abouttextwrapper").is(":visible")?$(c+" #abouttextwrapper").hide():$(c+" #abouttextwrapper").show()}))),VIVIZ.showFileName||
$(c+" #filename").hide(),VIVIZ.showCatalog&&"undefined"!==typeof CodeMirror?($(c+" #catalogxmlopen").show(),$(c+" #catalogxmlclose").hide(),$(c+" #catalogxmlopen").unbind("click"),$(c+" #catalogxmlopen").click(function(){CodeMirror($(c+" #catalogxml")[0],{lineNumbers:!0,mode:"xml",value:e.xml});$(c+" #catalogxmlopen").hide();$(c+" #catalogxmlclose").show()}),$(c+" #catalogxmlclose").unbind("click"),$(c+" #catalogxmlclose").click(function(){$(c+" #catalogxml").html("");$(c+" #catalogxmlopen").show();
$(c+" #catalogxmlclose").hide()}),VIVIZ.showCatalog||$(c+" #catalog").hide(),VIVIZ.showControls||$(c+" #controls").hide(),VIVIZ.showAttributes||$(c+" #attributes").hide(),VIVIZ.showDropdowns||$(c+" #dropdowns").hide()):(VIVIZ.showCatalog&&console.log("gallery.setheader(): showCatalog set to true, but codemirror is not available."),$(c+" #catalog").hide()))}function p(){console.log("gallery.setthumbs(): Setting thumbs.");INFOjs=thumblist(c);$(c).attr("totalvisible",INFOjs.length);$(c).attr("totalingallery",
F.totalingallery);var g=$(c+" #gallerythumbframe");$(c+" #fullframe").html("");g.html("");g.unbind("scroll");$(c+" #stats").html("");0==INFOjs.length?$(c+" #stats").html("No images in subset."):s=e(INFOjs,0,!0)}function e(e,g,h){function k(g){console.log("gallery.firstimage(): Called.");0==g&&u();$('<img class="gallerythumbbrowse firstimage"/>').appendTo($(c+" #gallerythumbframe")).attr("id",g+1).error(function(){console.log("gallery.firstimage(): Image "+g+" is bad.");$(this).remove();0<g&&(1==g?
warning(c,"The first image could not be loaded.",!0,Infinity):warning(c,"Image "+g+" could not be loaded.",!0,Infinity));g==e.length-1?(warning(c,"No images could be loaded.",!0,Infinity),console.log("No images could be loaded."),$(c+" #workingfullframe").css("visibility","hidden")):k(g+1,h)}).attr("src",e[g].ThumbFile).load(function(){0<g&&(1==g?warning(c,"The first image in this subset could not be loaded.",!0):warning(c,"The first "+g+" images in this subset could not be loaded.",!0));q||(console.log("gallery.firstimage(): Clicking first image."),
$(c).attr("nowvisible",g+1),$(this).bind("click",n).click());q=!0;$(c+" #gallerythumbframe").scrollTo(0);$(this).attr("title",y(e[g]));type="thumb";el=this;setWH(this,v,F);$(this).css("height",VIVIZ[v].thumbHeight);$(this).css("width",VIVIZ[v].thumbWidth);console.log("gallery.firstimage(): First thumbnail loaded with natural dimensions = "+this.naturalWidth+"x"+this.naturalHeight+".");console.log("gallery.firstimage(): First thumbnail set to have dimensions = "+VIVIZ[v].thumbWidth+"x"+VIVIZ[v].thumbHeight+
".");$("#gallerythumbframe").attr("data-thumb-length",e.length);var h=e.length;e.length>VIVIZ.lazyLoadMax&&(h=VIVIZ.lazyLoadMax);h+g>e.length&&(h=e.length-g);$("#gallerythumbframe").attr("data-thumb-displayed",g);p();var k=(new Date).getTime(),t=!1;console.log("gallery.firstimage(): Setting thumbnails "+(g+1)+"-"+(g+h-1));for(var u=g+1;u<g+h;u++)0==$(c+" #"+(u+1)).length&&$('<img class="gallerythumbbrowse"/>').appendTo($(c+" #gallerythumbframe")).attr("id",u+1).attr("src",e[u].ThumbFile).bind("click",
n).attr("title",y(e[u])).css("height",VIVIZ[v].thumbHeight).css("width",VIVIZ[v].thumbWidth).load(function(){0==t&&3E3<(new Date).getTime()-k&&(warning(c,"Slow-loading gallery.  See <a href='http://viviz.org/#Performace'>performace tips</a> for improving performance."),t=!0)})})}function p(){console.log("gallery.setscrollbinding: Called.");$("#gallerythumbframe").scroll(function(c){console.log("gallery.setscrollbinding(): Scroll event.");c=$(this);console.log("scrollHeight: "+c[0].scrollHeight);console.log("scrollHeight: "+
c[0].scrollTop);console.log("scrollHeight: "+c[0].clientHeight);console.log(c[0].scrollHeight-c[0].scrollTop-c[0].clientHeight);0>=c[0].scrollHeight-c[0].scrollTop-c[0].clientHeight&&(console.log("Calling loadmore()."),t())})}var q=!1;0==g&&k(g)}function k(e,g){console.log("gallery.settabledims(): Called.");console.log("gallery.settabledims(): Full img natural width = "+VIVIZ[v].fullNaturalWidth);console.log("gallery.settabledims(): Full img natural height = "+VIVIZ[v].fullNaturalHeight);console.log("gallery.settabledims(): Full img scaled width = "+
VIVIZ[v].fullWidth);console.log("gallery.settabledims(): Full img scaled height = "+VIVIZ[v].fullHeight);if(e){var h=2*parseFloat($(e).css("border-width").replace("px",""));isNaN(h)&&(h=$(c+" #gallerythumbframe img:first").outerWidth()-VIVIZ[v].thumbWidth);isNaN(h)&&(h=2);h=VIVIZ[v].thumbWidth+$.scrollbarWidth()+h+8;console.log("gallery.firstimage(): Setting #gallerythumbframe width to = "+h);$(c+" #gallerythumbframe").width(h)}0<VIVIZ[v].fullHeight?(h=VIVIZ[v].fullWidth/VIVIZ[v].fullHeight,console.log("gallery.settabledims(): Aspect ratio = "+
h),$(c+" #gallerythumbframe").height(VIVIZ[v].fullHeight),enclosure=$(c).parents().filter("body")[0],enclosure="body",console.log("gallery.settabledims(): Window height: "+$(window).height()),console.log("gallery.settabledims(): Client height: "+document.documentElement.clientHeight),console.log("gallery.settabledims(): Document height: "+$(document).height()),console.log("gallery.settabledims(): Enclosing body height: "+$(enclosure).height()),dh=$(enclosure).height()-$(window).height(),console.log("gallery.settabledims(): dh = "+
dh),0<dh?(console.log("gallery.settabledims(): Shrinking height of #fullframe img."),$(c+" #fullframe img").height(VIVIZ[v].fullHeight-dh),console.log("gallery.settabledims(): Shrinking height of #gallerythumbframe to "+(VIVIZ[v].fullHeight-dh)),$(c+" #gallerythumbframe").height(VIVIZ[v].fullHeight-dh),VIVIZ[v].fullHeight-=dh,VIVIZ[v].fullWidth=$(c+" #gallerythumbframe img:first").width()):(console.log("gallery.settabledims(): Full image height known and dh <= 0.  Setting #gallerythumbframe height to be height of full image = "+
VIVIZ[v].fullHeight+"."),console.log("gallery.settabledims(): Setting #gallerythumbframe height to "+VIVIZ[v].fullHeight),$(c+" #gallerythumbframe").height(VIVIZ[v].fullHeight)),console.log("gallery.settabledims(): Window height: "+$(window).height()),console.log("gallery.settabledims(): Client height: "+document.documentElement.clientHeight),console.log("gallery.settabledims(): Document height: "+$(document).height()),console.log("gallery.settabledims(): Enclosing body height: "+$(enclosure).height()),
console.log("gallery.settabledims(): Window width: "+$(window).width()),console.log("gallery.settabledims(): Document width: "+$(document).width()),console.log("gallery.settabledims(): Enclosing body width: "+$(enclosure).width()),dw=$(document).width()-$(enclosure).width(),console.log("gallery.settabledims(): dw = "+dw),0<dw&&(newh=0<dh?VIVIZ[v].fullNaturalHeight-dh-dw/h:VIVIZ[v].fullNaturalHeight-dw/h,newh-=1,console.log("gallery.settabledims(): Shrinking height of #fullframe img again because of overlap in width.  New height: "+
newh),$(c+" #fullframe img").height(newh),console.log("gallery.settabledims(): Shrinking height of #gallerythumbframe again because of overlap in width.  New height: "+newh),$(c+" #gallerythumbframe").height(newh),VIVIZ[v].fullHeight=newh,VIVIZ[v].fullWidth=$(c+" #gallerythumbframe img:first").width()),dh=$(enclosure).height()-$(window).height(),0>dh&&(console.log("gallery.settabledims(): Setting top margin for "+c),$(c).css("margin-top",-dh/2))):(console.log("gallery.settabledims(): Full image height unknown but thumb height known."),
h=4*VIVIZ[v].thumbHeight,console.log("gallery.settabledims(): Setting thumb frame height to be 4*(first thumb outer height) = "+h),console.log("gallery.settabledims(): First thumbnail height = "+$("#gallerythumbframe img").eq(0).height()),$(c+" #gallerythumbframe").height(""+h));g&&g()}function q(e){function g(e){$(c+" #filename").html("");$(c+" #filename").append("<a>");$(c+" #filename a").attr("href",INFOjs[parseInt(e-1)].FullFile).text(INFOjs[parseInt(e-1)].FullFile)}function h(){var e=parseInt(n)+
1;e>INFOjs.length||0!=$(c+" #fullframe img[id="+e+"]").length||($(c+" #fullframe").prepend('<img id="'+e+'" class="full" style="display:none"/>'),$(c+" #fullframe img[id="+e+"]").error(function(){$(c+" #workingfullframe").css("visibility","hidden");$(this).height(VIVIZ[v].fullHeight);$(this).width(VIVIZ[v].fullWidth)}).load(function(){}).css("height",VIVIZ[v].fullHeight).attr("src",INFOjs[e-1].FullFile))}console.log("gallery.loadfull(): Called.");var n=$(e).attr("id"),p=parseInt($(c).attr("lastvisible"));
$(c+" #fullframe img[id="+p+"]").hide();n>INFOjs.length||(1==$(c+" #fullframe img[id="+n+"]").length?(console.log("gallery.loadfull(): Found hidden full image in DOM.  Showing."),$(c+" #fullframe img[id="+n+"]").show(),h(),g(n)):($(c+" #workingfullframe").css("visibility","visible"),$(c+" #fullframe").prepend('<img id="'+n+'" class="full"/>'),p=$(e).attr("title"),$(c+" #fullframe img[id="+n+"]").attr("title",p),$(c+" #fullframe img[id="+n+"]").unbind("load").error(function(){$(c+" #workingfullframe").css("visibility",
"hidden");$(this).width(VIVIZ[v].fullWidth);$(this).height(VIVIZ[v].fullHeight)}).load(function(){console.log("gallery.loadfull(): Load event.");$(c+" #workingfullframe").css("visibility","hidden");g($(this).attr("id"));if($(e).hasClass("firstimage")){console.log("gallery.loadfull(): First full image loaded with dimensions "+this.naturalWidth+"x"+this.naturalHeight+".  Setting table dimensions.");VIVIZ.alternativeFrame&&$("#"+VIVIZ.alternativeFrame+" img").attr("src",$(c+" #fullframe img[id=1]").attr("src"));
el=this;type="full";var n=el.naturalWidth/el.naturalHeight;VIVIZ[type+"Width"]&&(VIVIZ[v][type+"Width"]=1<VIVIZ[type+"Width"]?VIVIZ[type+"Width"]:el.naturalWidth*VIVIZ[type+"Width"]);VIVIZ[type+"Height"]&&(VIVIZ[v][type+"Height"]=1<VIVIZ[type+"Height"]?VIVIZ[type+"Height"]:el.naturalHeight*VIVIZ[type+"Height"]);VIVIZ[v][type+"Width"]&&!VIVIZ[v][type+"Height"]&&(VIVIZ[v][type+"Height"]=VIVIZ[v][type+"Width"]/n);VIVIZ[v][type+"Height"]&&!VIVIZ[v][type+"Width"]&&(VIVIZ[v][type+"Width"]=VIVIZ[v][type+
"Height"]*n);VIVIZ[v][type+"Height"]||(VIVIZ[v][type+"Height"]=el.naturalHeight);VIVIZ[v][type+"Width"]||(VIVIZ[v][type+"Width"]=el.naturalWidth);VIVIZ[v][type+"NaturalHeight"]=el.naturalHeight;VIVIZ[v][type+"NaturalWidth"]=el.naturalWidth;$(this).css("height",VIVIZ[v].fullHeight);console.log("gallery.loadfull(): Window height: "+$(window).height());console.log("gallery.loadfull(): Document height: "+$(document).height());console.log("gallery.loadfull(): Enclosing body height: "+$("body").height());
k(this,function(){h()})}else h()}).attr("src",INFOjs[parseInt(n-1)].FullFile)))}function t(){var e=parseInt($("#gallerythumbframe").attr("data-thumb-length")),g=parseInt($("#gallerythumbframe > img").last().attr("id"));if(g<e){var h=e;e>g+VIVIZ.lazyLoadMax&&(h=g+VIVIZ.lazyLoadMax);var k=(new Date).getTime(),p=!1;for(j=g;j<g+h&&!(j>INFOjs.length-1);j++)$('<img class="gallerythumbbrowse lazyload"/>').appendTo($(c+" #gallerythumbframe")).attr("id",j+1).attr("src",INFOjs[j].ThumbFile).bind("click",n).attr("title",
y(INFOjs[j])).css("height",$("#gallerythumbframe > img").first().height()).css("width",$("#gallerythumbframe > img").first().width()).load(function(){0==p&&3E3<(new Date).getTime()-k&&(warning(c,"Slow-loading gallery.  See <a href='http://viviz.org/#Performace'>performace tips</a> for improving performance.",!0),p=!0,setTimeout(function(){$("#connectionerror").html("")},5E3))})}}function n(){console.log("gallery.setthumbbindings(): Called.");var e=parseInt($(c).attr("nowvisible"));isNaN(e)?(e=1,$(c).attr("nowvisible",
"1")):(e=$(this).attr("id"),$(c).attr("nowvisible",e));var g=parseInt($(c).attr("lastvisible"));isNaN(g)&&(g=1,$(c).attr("lastvisible","1"));$(c+" #gallerythumbframe #"+g).removeClass("active").addClass("inactive");$(c+" #gallerythumbframe #"+e).removeClass("inactive").addClass("active");INFOjs=thumblist(c);for(var g="Attributes for #"+e+"/"+INFOjs.length+" in subset: ",g=g+" | Image #"+(1+INFOjs[e-1].ImageNumber)+"/"+$(c).attr("totalingallery")+" in gallery | ",h=1;h<F.attributes.Values.length;h++)g=
g+F.attributes.Values[h].Title+" = ",g=F.attributes.Values[h].Format?g+sprintf(F.attributes.Values[h].Format,parseFloat(INFOjs[e-1][F.attributes.Values[h].Value])):g+INFOjs[e-1][F.attributes.Values[h].Value],g=F.attributes.Values[h].Unit?g+" ["+F.attributes.Values[h].Unit+"]  | ":g+" | ";$(c+" #stats").html(g);q(this);$(c).attr("lastvisible",e);$(c+" #gallerythumbframe").scrollTo(this,0,{duration:80,offset:0})}function y(c){var e="",g;for(g in c)c.hasOwnProperty(g)&&isNaN(parseInt(g))&&(e+=g+":"+
c[g]+"\n");return e}function u(){$(c+" #showhidethumb").unbind();$(c+" #showhidethumb").toggle(function(){$(c+" #gallerythumbframe").hide();u.marginleft=$("#fullframe").css("margin-left");$("#fullframe").css("margin-left","0");$(c+" #showhidethumb").text("+")},function(){console.log("gallery.setcontrolbindings: Showing gallerythumbframe.");$(c+" #gallerythumbframe").css("visibility","visible");$(c+" #gallerythumbframe").show();console.log("gallery.setcontrolbindings: Setting margin-left to "+u.marginleft);
$("#fullframe").css("margin-left",u.marginleft);$(c+" #showhidethumb").text("x")});VIVIZ.showThumbstrip||$("#showhidethumb").click();$(c+" #next").unbind("click");$(c+" #next").click(function(){lastvisible=parseInt($(c).attr("lastvisible"));nowvisible=lastvisible==parseInt($(c).attr("totalvisible"))?parseInt($(c+" #gallerythumbframe img.firstimage").attr("id")):lastvisible+1;console.log("gallery.setcontrolbindings: Next button clicked.  Clicking on thumbnail "+nowvisible);$(c+" #gallerythumbframe #"+
nowvisible).click();VIVIZ.alternativeFrame&&$("#"+VIVIZ.alternativeFrame+" img").attr("src",$(c+" #fullframe img[id="+nowvisible+"]").attr("src"));parseInt($("#gallerythumbframe").attr("data-thumb-length"));parseInt($("#gallerythumbframe > img").last().attr("id"));.5>Math.ceil(nowvisible/VIVIZ.lazyLoadMax)-nowvisible/VIVIZ.lazyLoadMax&&t()});$(c+" #previous").unbind("click");$(c+" #previous").click(function(){lastvisible=parseInt($(c).attr("lastvisible"));nowvisible=1==lastvisible?parseInt($(c).attr("totalvisible")):
lastvisible-1;$(c+" #"+nowvisible).click();VIVIZ.alternativeFrame&&("#"+VIVIZ.alternativeFrame+" img").attr("src",$(c+" #fullframe img[id="+nowvisible+"]").attr("src"))});$(c+" #last").unbind("click");$(c+" #last").click(function(){nowvisible=parseInt($(c+" #gallerythumbframe > img").last().attr("id"));$(c+" #"+nowvisible).click()});$(c+" #first").unbind("click");$(c+" #first").click(function(){nowvisible=parseInt($(c+" #gallerythumbframe > img").first().attr("id"));$(c+" #"+nowvisible).click()})}
function h(){function e(){var g={},h=$(c+" #dropdownswrapper #sortby option:selected").val();g.Title="View only images with an attribute that matches the selected constraint.";g.Titleshort="-Constraints-";g.Values=[];for(i=0;i<F.attributes.Values[h].Filters.length;i++)g.Values[i]={},g.Values[i].Title=F.attributes.Values[h].Filters[i].Title,g.Values[i].Value=F.attributes.Values[h].Filters[i].Value;1<F.attributes.Values[h].Filters.length?dropdown("regexp",g,c+" #dropdownswrapper"):console.log("gallery.setdropdowns(): No regexp filters.  Not displaying drop-down.");
$(c+" #dropdownswrapper #regexp").change(function(){$(c+" #fullframe").empty();p()})}$(c+" #dropdownswrapper").empty();dropdown("gallery",D,c+" #dropdownswrapper");$(c+" #gallery option[value='"+v+"']").attr("selected","selected");$(c+" #dropdownswrapper #gallery").unbind("change");$(c+" #dropdownswrapper #gallery").change(function(){console.log("gallery.js: Gallery changed.  galleryid = "+e);var e=$(c+" #gallery option:selected").val();$(c+" #error").html("");console.log("gallery.js: Setting hash.");
location.hash="/"+e});dropdown("order",F.orders,c+" #dropdownswrapper");$(c+" #dropdownswrapper #order").change(function(){p()});$(c+" #dropdowns #download").change(function(){console.log("---- Download option not implemented.")});0<F.attributes.Values.length?(dropdown("sortby",F.attributes,c+" #dropdownswrapper"),$(c+" #dropdownswrapper #sortby").change(function(){e();p()}),e()):console.log("gallery.setdropdowns(): No sort attributes.  Not displaying drop-downs for attributes.");return!0}console.log("gallery.js: Called.");
$(c+" #fullframe").html("").css("height","");$(c).css("margin-top","0");$(c+" #gallerythumbframe").html("");$(c).attr("nowvisible","").attr("lastvisible","").attr("totalvisible","").attr("totalingallery","");$(c+" #stats").html("").css("width","").css("height","");$(c+" #error").html("").hide();$(c+" #warning").html("").hide();$(c+" #connectionerror").html("");$(c+" #catalogxml").html("");$(c+" #gallerythumbframe").css("width","").css("height","");$(window).unbind("hashchange.gallery");$(window).bind("hashchange.gallery",
function(){console.log("gallery.js: Hash has changed to "+location.hash);gallery(c)});var D=cataloginfo();if(""===D)console.log("gallery.js: Call to cataloginfo() failed."),$(c+" #workingfullframe").hide();else{if(""!=location.hash){var w=location.hash;console.log("gallery.js: Hash is not empty.  Updating catalog if hash was URL.");var v=w.replace(/^#/,"").replace(/^\//,"");cataloginfo(v);D=cataloginfo()}else v=D.Values[0].Id;VIVIZ[v]={};var F=galleryinfo(v);"boolean"===typeof F?(console.log("gallery.js: Call to galleryinfo() failed."),
$(c+" #workingfullframe").css("visibility","hidden"),error(c,"Problem with gallery configuration.")):(g(),h(),p())}};function thumb(c){function g(){console.log("thumb.setthumbbindings(): Setting bindings.");g.active||(g.active={});var e=parseInt($(c+" #thumbbrowsemode :selected").attr("value"));$(c+" .thumbbrowse").unbind("click");$(c+" .thumbbrowse").unbind("hover");$(c+" .thumbbrowseoverlay").unbind("click");$(c+" .thumbbrowseoverlay").unbind("hover");0==e&&$(c+" .thumbbrowse").hover(function(){this.src=this.src.replace(y,u);$(this).css("position","absolute");$(c+" #filename").html("");$(c+" #filename").append("<a>");
$(c+" #filename a").attr("href",this.src.replace(y,u)).text(this.src.replace(y,""))},function(){this.src=this.src.replace(u,y);$(this).css("position","relative")});1==e&&$(c+" .thumbbrowse").toggle(function(){this.src=this.src.replace(y,u)},function(){this.src=this.src.replace(u,y)});$(c+" .thumbbrowse").unbind("click");$(c+" .thumbbrowseoverlay").unbind("click");$(c+" .thumbbrowseoverlay").unbind("hover");2==e&&(deltaleft=$("#thumbbrowseoverlay").position().left-$("#thumbbrowseframe").position().left,
deltatop=$("#thumbbrowseoverlay").position().top,$(c+" .thumbbrowse").click(function(){var e=$(this).attr("srcfull");$(c+" #thumbbrowseoverlay").unbind("load");$(c+" #thumbbrowseoverlay").show().attr("src",e).css("left",$(this).offset().left+30).css("top",$(this).position().top+30).load(function(){g.active=this;console.log("active.offset().left: "+$(g.active).offset().left);console.log("$('#thumbbrowseoverlay').width(): "+$(c+" #thumbbrowseoverlay").width());console.log("$('#thumbbrowseoverlay').offset().left: "+
$("#thumbbrowseoverlay").offset().left);console.log("$(window).width(): "+$(window).width());$(c+" #thumbbrowseoverlay").width()>$(window).width()&&$(c+" #thumbbrowseoverlay").css("left",$(window).width()/2);$(c+" #thumbbrowseoverlay").css("left",$(window).width()/2-$(c+" #thumbbrowseoverlay").width()/2)})}),$(c+" #thumbbrowseoverlay").click(function(){$(c+" #thumbbrowseoverlay").hide();$(g.active).css("border","solid white 3px")}),$(c+" #thumbbrowseoverlay").hover(function(){},function(){$(c+" #thumbbrowseoverlay").hide();
$(g.active).css("border","solid white 3px")}));$(c+" .thumbbrowseoverlay").unbind("hover");$(c+" .thumbbrowse").unbind("hover");3==e&&$(c+" .thumbbrowse").hover(function(){$(g.active).css("border","solid white 3px");g.active=this;$(c+" .thumbbrowseoverlay").unbind("hover");$(c+" #thumbbrowseoverlay").hover(function(){},function(){$(c+"#thumbbrowseoverlay").hide();$(g.active).css("border","solid white 3px")});$(c+" #thumbbrowseoverlay").show().attr("src",this.src.replace(y,u)).css("left",$(this).offset().left-
deltaleft).css("top",deltatop+$(this).position().top);$(this).css("border","solid blue 3px");$(c+" #thumbbrowseoverlay").load(function(){console.log($(g.active).offset().left+$(this).width()>$("#thumbbrowseframe").width());$(g.active).offset().left+$(this).width()>$("#thumbbrowseframe").width()&&$(this).css("left",$(g.active).offset().left+$(g.active).width()+6-$(this).width()-deltaleft)})},function(){})}function p(){function e(c){var g="",h;for(h in c)c.hasOwnProperty(h)&&(g+=h+":"+c[h]+"\n");return g}
function h(){"function"!==typeof $().slider?console.log("thumb.setthumbs.setslider(): No slider extension available."):$("#slider").slider({max:4,min:1,step:1,value:4,slide:function(c,e){console.log("thumb.setthumbs.setslider(): Slide event.");D=N*e.value/4;S=H*e.value/4;$(".thumbbrowse").css("width",D);$(".thumbbrowse").css("height",S);$(this).attr("data-curr-img-width",D);k();u()}})}function k(){$("#thumbbrowseframe").css("padding",0);x=$(c+" #thumbbrowseframe img:first").outerWidth();console.log("thumb.setpadding(): First image outer width = "+
x);a=$("#thumbbrowseframe").innerWidth()/x;console.log("thumb.setpadding(): Inner width of thumbbrowseframe = "+$("#thumbbrowseframe").innerWidth());console.log("thumb.setpadding(): # images per row = "+a);b=(a-Math.floor(a))*x;INFOjs.length<Math.floor(a)&&(b=$("#thumbbrowseframe").innerWidth()-x*INFOjs.length);console.log("thumb.setpadding(): Fraction of image spacing left over = "+(a-Math.floor(a)));console.log("thumb.setpadding(): Total extra space = "+b);console.log("thumb.setpadding(): Setting left padding to "+
b/2);$("#thumbbrowseframe").css("padding-left",b/2)}function p(g,u){var y=!1;if(!(u>g.length-1)){thumb.Nloaded+=1;thumb.Nloaded==g.length-1&&($("#instructions").html("All images requested."),$("#instructions2").html("All images requested."));var w=g[u].ThumbFile,f=g[u].FullFile;$('<img class="thumbbrowse" "src=http://viviz.org/gallery/css/transparent.png"/>').width(D||N||100).attr("src",w).attr("srcfull",f).attr("id",u).css("height",S||H||100).attr("title",e(g[u])).error(function(){$(this).addClass("loaderror");
$(this).attr("src","http://viviz.org/gallery/css/transparent.png");$(this).css("border","3px solid red");$(this).width(D||N||100);$(this).height(S||H||100);H&&$(".loaderror").css("height",H);0<N&&!y&&(y=!0,$(".loaderror").width(N))}).load(function(){p.first||(console.log("thumb.setthumbs.loadone(): First thumbnail loaded."),type="thumb",el=this,setWH(this,t,n),p.first=!0,N=VIVIZ[t].thumbWidth,H=VIVIZ[t].thumbHeight,$(this).width(D||N),$(this).height(S||H),k(),q(),h());X||(H=N*this.naturalHeight/this.naturalWidth,
$(c+" #thumbbrowseframe img").css("height",H),X=!0);$(this).width(D||N);$(this).height(S||H)}).appendTo($(c+" #thumbbrowseframe"))}}function q(){var e=0;p.first&&(console.log("thumb.setthumbs.fillrow(): #thumbbrowseframe innerWidth:"+$("#thumbbrowseframe").innerWidth()),console.log("thumb.setthumbs.fillrow(): #thumbbrowseframe img:first outerWidth:"+$(c+" #thumbbrowseframe img:first").outerWidth()),e=Math.floor($("#thumbbrowseframe").innerWidth()/$(c+" #thumbbrowseframe img:first").outerWidth()),
console.log("thumb.setthumbs.fillrow(): Images per row = "+e),e-=thumb.Nloaded%e,console.log("thumb.setthumbs.fillrow(): Modifying number to load based on row width.  Room for "+e+" extra."));for(var g=Nl=thumb.Nloaded;g<Nl+e;g++)p(INFOjs,g)}function u(){console.log("thumb.loadmore(): Called. Nloaded = "+thumb.Nloaded);if($(c).height()<$(window).height()){console.log("thumb.loadmore(): Loading more images due to resize event or because more space is available.");for(var e=Nl=thumb.Nloaded;e<Nl+W;e++)p(INFOjs,
e);q();k();g();e<INFOjs.length?setTimeout(function(){u()},100):console.log("thumb.loadmore(): No more images to load: j = "+e+", Nl = "+Nl+" INFOjs.length = "+INFOjs.length)}else console.log("thumb.loadmore(): Setting scroll trigger."),y()}function y(){$(window).unbind("scroll");$(window).scroll(function(c){Nl=thumb.Nloaded;console.log("thumb.setthumbs.setscrolltrigger(): Nl+VIVIZ['lazyLoadMax']="+Nl);W=VIVIZ.lazyLoadMax;Nl+VIVIZ.lazyLoadMax>INFOjs.length-1&&(W=INFOjs.length-Nl,$(window).unbind("scroll"));
console.log("thumb.setthumbs.setscrolltrigger(): maxLength="+W+", th="+H);console.log("thumb.setthumbs.setscrolltrigger(): $(window).scrollTop() + $(window).height() + 2*th = "+(2*H+$(window).scrollTop()+$(window).height()));console.log("thumb.setthumbs.setscrolltrigger(): $(document).height() = "+$(document).height());if($(window).scrollTop()+$(window).height()+2*H>=$(document).height()){for(c=Nl;c<Nl+W;c++)p(INFOjs,c);g()}else console.log("thumb.setthumbs.setscrolltrigger(): Scroll triggered, but no more loading.")})}
var w=n.thumbdir;n.fulldir!==w&&""!==w||console.log("----thumbbrowse.js: No thumbnails detected.");window.onresize=function(){console.log("thumb.setthumbs(): Zoom or resize event.")};thumb.Nloaded=0;var D=!1,S=!1,H=100;VIVIZ.thumbHeight&&(H=VIVIZ.thumbHeight);var N=100;VIVIZ.thumbWidth&&(N=VIVIZ.thumbWidth);var X=!1;INFOjs=thumblist(c);$(c+" #thumbbrowseframe").empty();var W=Math.min(INFOjs.length,VIVIZ.lazyLoadMax);g();console.log("thumb.setthumbs(): maxLength = "+W);console.log("thumb.setthumbs(): VIVIZ['lazyLoadMax'] = "+
VIVIZ.lazyLoadMax);u()}function e(){function e(){var k={},n=$(c+" #dropdowns #sortby option:selected").val();k.Title="Attribute constraints";k.Titleshort="-Constraints-";k.Values=[];for(i=0;i<h.Values[n].Filters.length;i++)k.Values[i]={},k.Values[i].Title=h.Values[n].Filters[i].Title,k.Values[i].Value=h.Values[n].Filters[i].Value;0<h.Values[n].Filters.length?dropdown("regexp",k,c+" #dropdowns"):$("#thumb1 #dropdowns #regexp").remove();$(c+" #dropdowns #regexp").change(function(){$(c+" #instructions").html("Scroll down to load more images");
p();g()})}dropdown("order",D,c+" #dropdowns");$(c+" #gallery").css("width","15em");$(c+" #dropdowns #order").change(function(){p();g()});0<n.attributes.Values.length?(dropdown("sortby",n.attributes,c+" #dropdowns"),$(c+" #dropdowns #sortby").change(function(){e();p()}),e()):console.log("thumb.setdropdowns(): No sort attributes.  Not displaying drop-downs for attributes.");return!0}console.log("thumb.js: Called.");var k=cataloginfo();if(""===k)console.log("thumb.js: Aborting because of problem with gallery."),
$(c).hide();else{$(window).unbind("hashchange.thumb");$(window).bind("hashchange.thumb",function(){console.log("thumb.js: Hash has changed to "+location.hash);$(c+" #thumbbrowseframe").html("");thumb(c)});var q=$(window).width()-$.scrollbarWidth();$("#t-container").css("width",q);$("#t-container").css("max-width",$(document).width()-$.scrollbarWidth());$(window).resize(function(){$("#t-container").css("max-width",$(document).width()-$.scrollbarWidth())});$(c+" #error").html();$(c+" #instructions").html("Scroll down to load more images");
var t=""!==location.hash?location.hash.replace(/^#/,"").replace(/^\//,""):k.Values[0].Id;VIVIZ[t]={};var n=galleryinfo(t),y=n.thumbdir,u=n.fulldir,h=n.attributes,D=n.orders,w=cataloginfo(t);$(c+" #about").attr("title",w.about).show();w.aboutlink&&!w.about&&$(c+" #about").attr("onclick","window.location='"+w.aboutlink+"'");!w.aboutlink&&w.about&&($(c+" #about").show(),w.about.match(/^http/)?$(c+" #about").attr("onclick","window.location='"+w.about+"'"):$(c+" #about").attr("title",w.about));$(c+" #catalogxmlopen").show();
$(c+" #catalogxmlclose").hide();$(c+" #catalogxmlopen").unbind("click");$(c+" #catalogxmlopen").click(function(){CodeMirror($("#thumb1 #catalogxml")[0],{lineNumbers:!0,mode:"xml",value:w.xml});$(c+" #catalogxmlopen").hide();$(c+" #catalogxmlclose").show()});$(c+" #catalogxmlclose").unbind("click");$(c+" #catalogxmlclose").click(function(){$(c+" #catalogxml").html("");$(c+" #catalogxmlopen").show();$(c+" #catalogxmlclose").hide()});"function"==typeof dom&&""==$(c).text()&&$("body").append(dom());y==
u?$("#pngdirs").html('Images: <a href="'+u+'">Full-size</a>'):$("#pngdirs").html('Images: <a href="'+y+'">Thumbnails</a>, <a href="'+u+'">Full-size</a>');$(c+" #thumbbrowsemode").unbind("change");$(c+" #thumbbrowsemode").change(function(){$(c+" #instructions").html("Scroll down to load more images");var e=$(c+" #gallery option:selected").val();g(e)});$(c+" #dropdowns").empty();dropdown("gallery",k,c+" #dropdowns");$(c+" #gallery option[value='"+t+"']").attr("selected","selected");$(c+" #dropdowns #gallery").unbind("change");
$(c+" #dropdowns #gallery").change(function(){var e=$(c+" #gallery option:selected").val();$(c+" #instructions").html("Scroll down to load more images");console.log("thumb.js: Gallery changed.  galleryid = "+e);$(c+" #thumbframe").html("");$(c+" #thumbframe").children().remove();console.log("thumb.js: Changing hash.");location.hash="/"+e});e();p()}};function thumblist(c){function g(c){var e,g,k=c.length;if(k)for(;--k;)g=Math.floor(Math.random()*(k+1)),e=c[g],c[g]=c[k],c[k]=e;return c}function p(c){if(null==c||"object"!=typeof c)return c;var e=new c.constructor,g;for(g in c)e[g]=p(c[g]);return e}var e=$(c+" #gallery").val(),k=$(c+" #sortby").val(),q=$(c+" #order").val(),t=$(c+" #regexp :selected").attr("value"),n=galleryinfo(e),y=n.attributes;c=[];for(j=0;j<n.fullfiles.length;j++){c[j]={};c[j].FileName=n.fullfiles[j][0];c[j].FullFile=n.fullfiles[j][0];
c[j].ThumbFile="undefined"!==typeof n.thumbfiles?n.thumbfiles[j][0]:n.fullfiles[j][0];if(0<Object.keys(y).length)for(z=0;z<y.Values.length;z++)c[j][z]=n.fullfiles[j][z];c[j].ImageNumber=j}state=e+k+q+t;"object"!=typeof thumblist.cache&&(thumblist.cache={});if(thumblist.cache[state])return thumblist.cache[state];I=[];if(t){n=new RegExp(t);if("string"==typeof c[0][k]){for(var u=0,e=0;e<c.length;e++)c[e][k].match(n)&&(I[e]=u,u+=1);console.log("thumblist.js: Regexp "+n+" removed "+(c.length-u)+"/"+c.length+
" images in subset.")}else if(t.match(t,"true"))t=p(c);else for(t=t.replace("gt",">").replace("ge","<=").replace("lt","<").replace("le","<="),t=t.replace("and","&").replace("&amp;","&"),t=t.replace("&lt;","<"),t=t.replace("&gt;",">"),e=u=0;e<c.length;e++)n=t.replace(/this/g,c[e][k]),eval(n)&&(I[e]=u,u+=1);if(0<I.length){u=[];for(e=0;e<I.length;e++)u[I[e]]=c[e];t=p(u)}else return[]}else t=p(c);q.match("ascending")&&("string"==typeof t[0][k]?t.sort(function(c,e){return c[k].localeCompare(e[k])}):t.sort(function(c,
e){return c[k]-e[k]}));q.match("descending")&&("string"==typeof t[0][k]?t.sort(function(c,e){return e[k].localeCompare(c[k])}):t.sort(function(c,e){return e[k]-c[k]}));if(q.match("random")){c=[];for(e=0;e<u.length;e++)c[e]=e;c=g(c);for(e=0;e<u.length;e++)t[c[e]]=u[e]}!q.match("random")&"object"!=typeof thumblist.cache[state]&&(thumblist.cache[state]={},thumblist.cache[state]=t);return t};function attributemap(c,g,p,e){4>arguments.length&&(e=0);3>arguments.length&&(p=" ");2>arguments.length&&(g=-1);var k;$.ajax({type:"GET",url:c,async:!1,dataType:"text",error:function(){},success:function(c){k=c.split(/\n/)}});MAP={};var q;for(j=e;j<k.length;j++)q=k[j].split(p),0<g?MAP[q[g-1]]=q:MAP[j+1]=q;return MAP};function reporterror(c){$("#connectionerror").html("");location.protocol.match("file")?error("galleryinfo.js: Error reading "+c+".<br>When the URL in the browser address bar starts with <b>file:/</b>, special configuration is needed.  See http://viviz.org/"):error("galleryinfo.js: Error reading "+c+".<br>The domain name of this URL must match the domain name in your address bar "+window.location.host)}
function extractorders(){return{Title:"Sort order",Titleshort:"-Sort order-",Class:"updatelocal",Values:[{Title:"No sort",Value:"none"},{Title:"Ascending",Value:"ascending"},{Title:"Descending",Value:"descending"},{Title:"Random",Value:"random"}]}}
function extractattributes(c){ATTRIBUTES={Title:"Sort attributes",Titleshort:"-Sort by-",Class:"updatelocal",Values:[]};ATTRIBUTES.Values[0]={};ATTRIBUTES.Values[0].Title="Filename";ATTRIBUTES.Values[0].Value="0";ATTRIBUTES.Values[0].Filters=[];ATTRIBUTES.Values[0].Filters[0]={};ATTRIBUTES.Values[0].Filters[0].Title="All";ATTRIBUTES.Values[0].Filters[0].Value=".*";xml=cataloginfo.xml;$(xml).find("catalog gallery[id='"+c+"'] attributes attribute").each(function(c){ATTRIBUTES.Values[c]={};ATTRIBUTES.Values[c].Title=
$(this).find("name").text();ATTRIBUTES.Values[c].Value=c;ATTRIBUTES.Values[c].Filters=[];$(this).find("filters filter").each(function(p){ATTRIBUTES.Values[c].Filters[p]={};ATTRIBUTES.Values[c].Filters[p].Title=$(this).find("title").text();ATTRIBUTES.Values[c].Filters[p].Value=$(this).find("value").text()})});for(i=0;i<cataloginfo.json.length&&cataloginfo.json[i].id!==c;i++);i<cataloginfo.json.length&&"undefined"!==typeof cataloginfo.json[i].attributes&&cataloginfo.json[i].attributes.forEach(function(c,
p){ATTRIBUTES.Values[p]={};ATTRIBUTES.Values[p].Title=c.name;ATTRIBUTES.Values[p].Value=p;ATTRIBUTES.Values[p].Filters=[];c.filters.forEach(function(c,g){ATTRIBUTES.Values[p].Filters[g]={};ATTRIBUTES.Values[p].Filters[g].Title=c.title;ATTRIBUTES.Values[p].Filters[g].Value=c.value})});return ATTRIBUTES}
function extractfiles(c){var g=[];c=""+c;$("#status").text("Retrieving list of files");console.log("galleryinfo.extractfiles(): Getting file list from "+c);c.match(/\.txt$/)?($.ajax({type:"GET",url:c,async:!1,dataType:"text",error:function(){error("catalog.js: Error reading "+c,!0)},success:function(c){g=CSVToArray(c.replace(/\n$/,""))}}),$("#status").text("")):c.match(/\.xml$/)?$.ajax({type:"GET",url:c,async:!1,dataType:"xml",error:function(g,e,k){error("catalog.js: Error reading "+c,!0)},success:function(p){console.log("galleryinfo.js: Extracting files from "+
c);0<$(p).find("gallery images data").length&&(eval("FILES = "+$(p).find("gallery images data").text()),console.log("galleryinfo.extractfiles(): Found "+g.length+" files in "+c));$(p).find("gallery images script");return g}}):$.ajax({type:"GET",url:c,async:!1,dataType:"json",error:function(){error("galleryinfo.js: Error reading "+c,!0)},success:function(p){console.log("galleryinfo.js: Extracting files from "+c);if("string"===typeof p[0])for(var e=0;e<p.length;e++)g[e]=[],g[e][0]=p[e];else g=p}});
$("#status").text("");return g}
function menulist(c,g,p){if(2==arguments.length){TEMPLATEp=TEMPLATE.replace("%Y","([0-9][0-9][0-9][0-9])");TEMPLATEp=TEMPLATEp.replace("%m","([0-9][0-9])");TEMPLATEp=TEMPLATEp.replace("%d","([0-9][0-9])");var e=new RegExp(TEMPLATEp);c=files[0][3].replace(e,"$1");g=files[files.length-1][3].replace(e,"$1");TEMPLATEp=TEMPLATE.replace("%Y","[0-9][0-9][0-9][0-9]");TEMPLATEp=TEMPLATEp.replace(/\./gi,"");TEMPLATEp=TEMPLATEp.replace(/%[a-z]/gi,".*");return menulist(c,g,TEMPLATEp)}c=parseInt(c.substring(0,
4));g=parseInt(g.substring(0,4));FILTERS=[];for(e=0;e<g-c+1;e++){year=""+(e+c);var k=p.replace(p,year);FILTERS[e]={Title:year,Value:k}}return FILTERS}function isimage(c){return c.match(/\.png$/)?!0:!1}
function galleryinfo(c){"object"!=typeof galleryinfo.GALLERYINFO&&(galleryinfo.GALLERYINFO={});if(galleryinfo.GALLERYINFO[c])return galleryinfo.GALLERYINFO[c];_GALLERYINFO={};var g=[],p=[],e=cataloginfo(c);e.fulllistscript&&(g=eval(e.fulllistscript)());e.thumblistscript&&(p=eval(e.thumblistscript)());e.fullfilelist&&(g=extractfiles(e.fullfilelist));e.thumbfilelist&&(p=extractfiles(e.thumbfilelist));e.fullfiles&&eval("fullfiles = "+e.fullfiles);e.thumbfiles&&eval("thumbfiles = "+e.thumbfiles);if(e.strftime){_GALLERYINFO.strftime=
e.strftime.replace(/\n/,"").replace(/^\s+|\s+$/g,"");_GALLERYINFO.strftimestart=e.strftimestart.replace(/\n/,"").replace(/^\s+|\s+$/g,"");_GALLERYINFO.strftimestop=e.strftimestop.replace(/\n/,"").replace(/^\s+|\s+$/g,"");_GALLERYINFO.autoattributes=menulist(e.strftimestart,e.strftimestop,e.strftime);var k={};k.template=_GALLERYINFO.strftime;k.timeRange=_GALLERYINFO.strftimestart+"/"+_GALLERYINFO.strftimestop;k.debug=!0;k.type="strftime";console.log(k);var g=[],q=expandtemplate(k);console.log(q);for(k=
0;k<q.length;k++)g[k]=[q[k]];console.log(g)}if(e.sprintf)for(_GALLERYINFO.sprintfstart=e.sprintfstart.replace(/\n/,"").replace(/^\s+|\s+$/g,""),_GALLERYINFO.sprintfstop=e.sprintfstop.replace(/\n/,"").replace(/^\s+|\s+$/g,""),_GALLERYINFO.sprintf=e.sprintf.replace(/\n/,"").replace(/^\s+|\s+$/g,""),_GALLERYINFO.sprintfdelta=parseInt(e.sprintfdelta.replace(/\n/,"").replace(/^\s+|\s+$/g,"")),isNaN(_GALLERYINFO.sprintfdelta)&&(_GALLERYINFO.sprintfdelta=1,console.log("galleryinfo.js: sprintfdelta is not defined or is NaN.  Using value of 1.")),
g=[],z=k=io=parseInt(_GALLERYINFO.sprintfstart);k<parseInt(_GALLERYINFO.sprintfstop)+1;)g[z-io]=[sprintf(_GALLERYINFO.sprintf,k)],z+=1,k+=_GALLERYINFO.sprintfdelta;if(e.fulldir)for(_GALLERYINFO.fulldir=e.fulldir,VIVIZ.useCachedImages&&(_GALLERYINFO.fulldir="http://imgconvert.org/convert.cgi?in="+_GALLERYINFO.fulldir),_GALLERYINFO.fullfiles=[],q=0;q<g.length;q++)for(_GALLERYINFO.fullfiles[q]=[],g[0][0].match(/^http|^ftp|^file/)?_GALLERYINFO.fullfiles[q][0]=g[q][0]:_GALLERYINFO.fullfiles[q][0]=_GALLERYINFO.fulldir+
g[q][0],k=1;k<g[q].length;k++)_GALLERYINFO.fullfiles[q][k]=g[q][k];else _GALLERYINFO.fulldir="";0==p.length&&(p=g);if(e.thumbdir)for(_GALLERYINFO.thumbdir=e.thumbdir,VIVIZ.useCachedImages&&(_GALLERYINFO.thumbdir="http://imgconvert.org/convert.cgi?in="+_GALLERYINFO.thumbdir),_GALLERYINFO.thumbfiles=[],q=0;q<p.length;q++)for(_GALLERYINFO.thumbfiles[q]=[],p[0][0].match(/^http|^ftp|^file/)?_GALLERYINFO.thumbfiles[q][0]=p[q][0]:_GALLERYINFO.thumbfiles[q][0]=_GALLERYINFO.thumbdir+p[q][0],k=1;k<p[q].length;k++)_GALLERYINFO.thumbfiles[q][k]=
p[q][k];else _GALLERYINFO.thumbdir="";_GALLERYINFO.totalingallery=_GALLERYINFO.fullfiles.length;_GALLERYINFO.orders=extractorders();_GALLERYINFO.attributes=extractattributes(c);_GALLERYINFO.autoattributes&&VIVIZ.useAutoAttributes&&(_GALLERYINFO.attributes.Values[0].Filters=_GALLERYINFO.autoattributes,g=_GALLERYINFO.autoattributes.length,_GALLERYINFO.attributes.Values[0].Filters[g]={},_GALLERYINFO.attributes.Values[0].Filters[g].Title="All",_GALLERYINFO.attributes.Values[0].Filters[g].Value=".*");
galleryinfo.GALLERYINFO[c]=_GALLERYINFO;console.log("galleryinfo.js: _GALLERYINFO = ");console.log(_GALLERYINFO);return _GALLERYINFO};function cataloginfo(c){function g(c,e){for(i=0;i<c.length;i++)c[i].source=e;return c}"object"!=typeof cataloginfo.json&&(console.log("cataloginfo.js: No client-side cache of catalog information."),cataloginfo.json={},"undefined"!==typeof catalogjsonuploads&&"undefined"!==typeof catalogjsonbase?(console.log("cataloginfo.js: Variables catalogjsonbase and catalogjsonuploads both are defined.  Using both."),catalogjsonuploads=g(catalogjsonuploads,"uploads"),catalogjsonbase=g(catalogjsonbase,"xml/catalog.json"),
cataloginfo.json=catalogjsonbase.concat(catalogjsonuploads)):"undefined"===typeof catalogjsonuploads&&"undefined"!==typeof catalogjsonbase?(console.log("cataloginfo.js: Variable catalogjsonbase is defined."),catalogjsonbase=g(catalogjsonbase,"xml/catalog.json"),cataloginfo.json=catalogjsonbase):"undefined"!==typeof catalogjsonuploads&&"undefined"===typeof catalogjsonbase?(console.log("cataloginfo.js: Variable catalogjsonuploads is defined."),catalogjsonuploads=g(catalogjsonuploads,"uploads"),cataloginfo.json=
catalogjsonuploads):console.log("cataloginfo.js: Variables catalogjsonbase and catalogjsonuploads both are not defined."));if("object"!=typeof cataloginfo.xml){console.log("cataloginfo.js: No cached cataloginfo.xml");cataloginfo.xml={};cataloginfo.jqXHR={};var p=$("#xml").text();if(p.match("catalog")){console.log("cataloginfo.js: Found xml catalog node in index.html. Using it and ignoring xml/catalog.xml.");var e=$((new DOMParser).parseFromString(p,"text/xml"));cataloginfo.xml=e;cataloginfo.jqXHR.responseText=
$("#xml").text();return cataloginfo()}console.log("cataloginfo.js: Did not find xml catalog information in index.html.");"undefined"===typeof VIVIZ.CATALOGXML&&(VIVIZ.CATALOGXML="xml/catalog.xml",console.log("cataloginfo.js: Variable VIVIZ.CATALOGXML is not defined.  Using xml/catalog.xml."));$.ajax({type:"GET",url:VIVIZ.CATALOGXML,async:!1,dataType:"xml",success:function(c,e,g){cataloginfo.jqXHR=g;cataloginfo.xml=c;console.log("cataloginfo.js: Finished reading "+VIVIZ.CATALOGXML)},error:function(c,
e,g){console.log("cataloginfo.js: Could not read "+VIVIZ.CATALOGXML+" "+g.message.split(":")[0])}})}if(0==arguments.length){if("object"!=typeof cataloginfo.GALLERIES)cataloginfo.GALLERIES={};else return console.log("cataloginfo.js: Using cached gallery list"),cataloginfo.GALLERIES;var k={Title:"Galleries",Titleshort:"-Galleries-",Class:"updatelglobal",Values:[]},q=0;cataloginfo.xml&&$(cataloginfo.xml).find("catalog > gallery").each(function(c){k.Values[c]={};k.Values[c].Title=$(this).children("title").text();
k.Values[c].Value=$(this).attr("id");k.Values[c].Id=$(this).attr("id");q+=1});0<cataloginfo.json.length&&cataloginfo.json.forEach(function(c,e){k.Values[e+q]={};k.Values[e+q].Title=c.title;k.Values[e+q].Value=c.id;k.Values[e+q].Id=c.id});cataloginfo.GALLERIES=k;if(0==k.Values.length)return $("#connectionerror").html("Problem reading gallery information.  See below for errors."),console.log("cataloginfo.js: Problem reading gallery information."),$("body").append("<a href='"+VIVIZ.CATALOGXML+"'>"+VIVIZ.CATALOGXML+
"</a>").append("<iframe width='100%' src='"+VIVIZ.CATALOGXML+"'/>"),"";console.log("cataloginfo.js: Returning list of "+k.Values.length+" galleries.");return k}if(1==arguments.length){"object"!=typeof cataloginfo.CATALOGINFO&&(cataloginfo.CATALOGINFO={});if(cataloginfo.CATALOGINFO[c])return cataloginfo.CATALOGINFO[c];e={};if(c.match(/^ftp\:\//)||c.match(/^http\:\//)||c.match(/^https\:\//)||c.match(/^file\:\//)){console.log(c);console.log("cataloginfo.js: URL-based galleryid found URL.  Parsing query parameters to create catalog information.");
e.source="URL";if(c.match("&")){p=c.split("&");p[0].match("=")||(p[0]="fulldir="+p[0]);for(i=0;i<p.length;i++){var t=p[i].split("="),n=t[0].charAt(0).toUpperCase()+t[0].slice(1);e[n]=t[1]}e.fulldir&&(c=e.fulldir)}e.strftime&&(e.strftime=e.strftime.replace(/\$/g,"%"));e.sprintf&&(e.sprintf=e.sprintf.replace(/\$/g,"%"));e.strftime&&e.stop&&(e.strftimestop=e.stop);e.strftime&&e.start&&(e.strftimestart=e.start);e.sprintf&&e.stop&&(e.sprintfStop=e.stop);e.sprintf&&e.start&&(e.sprintfstart=e.start);e.galleryid||
(e.galleryid=c);e.fullfilelist||e.sprintf||e.strftime||(e.fullfilelist=c);e.fulldir||(e.fulldir=c);e.thumbdir||(e.thumbdir=c);e.title=c;e.about="Gallery auto-generated based on URL.";e.aboutlink=c;cataloginfo.GALLERIES.Values.splice(0,0,{});cataloginfo.GALLERIES.Values[0].Title=c;cataloginfo.GALLERIES.Values[0].Value=c;cataloginfo.GALLERIES.Values[0].Id=c}else{p=$("#xml").text();e.source=0<p.length?"index.html":"xml/catalog.xml";console.log("cataloginfo.js: Returning info for galleryid = "+c);p="catalog > gallery[id='"+
c+"']";e.galleryid=$(cataloginfo.xml).find(p).attr("id");if(!e.galleryid)return console.log("Error: Gallery with id "+c+" not found in <a href='xml/catalog.xml'>catalog.xml</a>."),"";e.title=$(cataloginfo.xml).find(p).siblings("title").text();""==e.title&&(e.title=e.galleryid);e.titleshort=$(cataloginfo.xml).find(p).siblings("titleshort").text();""==e.titleshort&&(e.titleshort=e.title);e.files=$(cataloginfo.xml).find(p).children("files").text();e.about=$(cataloginfo.xml).find(p).children("about").text();
e.aboutlink=$(cataloginfo.xml).find(p).children("aboutlink").text();e.strftime=$(cataloginfo.xml).find(p).children("strftime").text();e.strftimestart=$(cataloginfo.xml).find(p).children("strftimestart").text();e.strftimestop=$(cataloginfo.xml).find(p).children("strftimestop").text();e.sprintf=$(cataloginfo.xml).find(p).children("sprintf").text();e.sprintfstart=$(cataloginfo.xml).find(p).children("sprintfstart").text();e.sprintfstop=$(cataloginfo.xml).find(p).children("sprintfstop").text();e.sprintfdelta=
$(cataloginfo.xml).find(p).children("sprintfdelta").text();e.fullpreprocess=$(cataloginfo.xml).find(p).children("fullpreprocess").text();e.fullpostprocess=$(cataloginfo.xml).find(p).children("fullpostprocess").text();e.fullfilelist=$(cataloginfo.xml).find(p).children("fullfilelist").text();e.fulllistscript=$(cataloginfo.xml).find(p).children("fulllistscript").text();e.fullfiles=$(cataloginfo.xml).find(p).children("fullfiles").text();e.fulldir=$(cataloginfo.xml).find(p).children("fulldir").text();
e.thumbpreprocess=$(cataloginfo.xml).find(p).children("thumbpreprocess").text();e.thumbpostprocess=$(cataloginfo.xml).find(p).children("thumbpostprocess").text();e.thumbfilelist=$(cataloginfo.xml).find(p).children("thumbfilelist").text();e.thumblistscript=$(cataloginfo.xml).find(p).children("thumblistscript").text();e.thumbfiles=$(cataloginfo.xml).find(p).children("thumbfiles").text();e.thumbdir=$(cataloginfo.xml).find(p).children("thumbdir").text();for(i=0;i<cataloginfo.json.length&&cataloginfo.json[i].id!==
c;i++);if("undefined"!==typeof cataloginfo.json[i])for(n in e.galleryid=cataloginfo.json[i].id,cataloginfo.json[i])e[n]=cataloginfo.json[i][n]}re=new RegExp('[\\S\\s]*(<gallery id="'+c+'">[\\S\\s]*?</gallery>)[\\S\\s]*');"string"===typeof cataloginfo.jqXHR.responseText&&(e.xml=cataloginfo.jqXHR.responseText.replace(re,"$1"),e.xml=e.xml.replace(/\n\t/g,"\n"));return cataloginfo.CATALOGINFO[c]=e}};VIVIZ={CATALOGXML:"enlil.xml",lazyLoadMax:12,alternativeFrame:"ss_img_div"};$(document).ready(function(){""!==location.hash&&(gallery("#gallery1"),enlil(),$("#enlilmain").hide())});
function enlil(){function c(){var c=location.hash.replace("#/","");CATALOGINFO=cataloginfo(c);$(p+" #infolink").attr("href",CATALOGINFO.aboutlink)}function g(){console.log("enlil.js: updatehash() called.");var c=$(this).children("font").attr("id"),e=$(this).children("font").attr("id"),g=$("#sitetitle").text().split("Solar Wind Prediction");-1===e.indexOf("/")?$("#sitetitle").text(e+" \u2013 Solar Wind Prediction"+g[1]):(e=e.split("/"),$("#sitetitle").text(g[0]+"Solar Wind Prediction \u2013 "+e[0]+
" "+e[1]));location.hash="/"+location.hash.split("/")[1]+"/"+c}var p="#enlil";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(console.log("Mobile Device Detected."),p="enlilmobile");location.hash.match(/0$/)&&(p="#enlilmobile");$(p).show();$(p+" td.input a").on("click",function(){$(p+" td.input").attr("bgcolor","#4488cc");$(this).parent().attr("bgcolor","#224488")});$(p+" td.output a").on("click",function(){$(p+" td.output").attr("bgcolor","#4488cc");$(this).parent().attr("bgcolor",
"#224488")});$(p+" td.output a").on("click",g);$(p+" td.input a").on("click",g);$(p+" #jmap_controls").on("change",function(){console.log("jmap changed to "+$("#jmap_controls option:selected").val());location.hash="/"+location.hash.split("/")[1]+"/JMap/"+$("#jmap_controls option:selected").val()});$(p+" #evo_controls").on("change",function(){console.log("evo changed to "+$("#evo_controls option:selected").val());location.hash="/"+location.hash.split("/")[1]+"/Evolution/"+$("#evo_controls option:selected").val()});
c();var e;$(p+" #ss_next").click(function(){$("#next").click()});$(p+" #ss_prev").click(function(){$("#previous").click()});$(p+" #ss_stop").click(function(){clearInterval(e);$(p+" #ss_start").on()});$(p+" #ss_start").click(function(){$("#next").click();e=setInterval(function(){$("#next").click()},"200");$(p+" #ss_start").off});$(window).hashchange(function(){console.log("enlil.js: Hash has changed.  location.hash = "+location.hash);location.hash.match(/\/IPSBD-ENLIL\//)?$("#shock").hide():$("#shock").show();
location.hash.match(/Evolution|JMap/)?(console.log("enlil.js: Hiding image controls."),$(p+" #ss_controls").hide(),$(p+" #ss_select").hide(),$(p+" #dl_select").hide(),location.hash.match(/Evolution/)&&(console.log("enlil.js: Showing evolution drop-down."),$(p+" #evo_controls").show(),$(p+" #jmap_controls").hide()),location.hash.match(/JMap/)&&(console.log("enlil.js: Showing JMap drop-down."),$(p+" #jmap_controls").show(),$(p+" #evo_controls").hide())):($(p+" #ss_controls").show(),$(p+" #ss_select").show(),
$(p+" #dl_select").show(),$(p+" #evo_controls").hide(),$(p+" #jmap_controls").hide());c()})};
