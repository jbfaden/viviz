<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
		<title>ViViz</title>

		<script type="text/javascript" src="index-vars.js"></script>
		<script type="text/javascript" src="index.js"></script>

		<link rel="icon" type="image/ico" href="css/favicon.ico"/>		
		<link rel="stylesheet" type="text/css" href="css/bootstrap/css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="css/viviz.css" id="viviz.default">
		
		<script type="text/javascript" src="js/deps/1.7.2/jquery.min.js"></script>
		<script type="text/javascript" src="js/deps/jquery-ui-1.11.0.custom/jquery-ui.min.js"></script>
		
		<script type="text/javascript" src="js/deps/jquery.parsequerystring.js"></script>
		<script type="text/javascript" src="js/deps/jquery.scrollTo-min.js"></script>
		<script type="text/javascript" src="js/deps/jquery.ba-hashchange-1.3.js"></script>
		<script type="text/javascript" src="js/deps/csvtoarray.js"></script>

		<script type="text/javascript" src="js/deps/strftime.js"></script>
		<script type="text/javascript" src="js/deps/sprintf-0.7-beta1.js"></script>	
		<script type="text/javascript" src="js/deps/date.js"></script>
		<script type="text/javascript" src="js/deps/expandtemplate.js"></script>

		<script type="text/javascript" src="js/setWH.js"></script>
		<script type="text/javascript" src="js/setheader.js"></script>
		<script type="text/javascript" src="js/setdropdowns.js"></script>
		<script type="text/javascript" src="js/scrollbarWidth.js"></script>

		<script type="text/javascript" src="js/dropdown.js"></script>

		<script type="text/javascript" src="js/gallery.js"></script>		
		<script type="text/javascript" src="js/thumb.js"></script>					    
				
		<script type="text/javascript" src="js/thumblist.js"></script>    
		<script type="text/javascript" src="js/gallery.js"></script>
		<script type="text/javascript" src="js/attributemap.js"></script>
		
		<!-- Menu configuration -->
		<script type="text/javascript" src="js/galleryinfo.js"></script>
		<script type="text/javascript" src="js/cataloginfo.js"></script>

		<!-- Misc -->
		<script type="text/javascript" src="js/cookie.js"></script>
		<script type="text/javascript" src="js/print.js"></script>
		<script type="text/javascript" src="js/message.js"></script>

		<script>
			$(document).ready(function () {

				$("#thumbbrowsebutton").click(function () {
					$('#g-container').hide()
					$(window).unbind('hashchange.gallery')
					$('#t-container').show()
					thumb("#thumb1")
				})
				
				$("#gallerybrowsebutton").click(function () {
					$('#t-container').hide()
					$(window).unbind('hashchange.thumb')
					$('#g-container').show()
					gallery("#gallery1")
				})

				qs = $.parseQueryString();

				if (qs["mode"] === "gallery") {
					$("#gallerybrowsebutton").click()					
				}
				if (qs["mode"] === "thumb") {
					$("#thumbbrowsebutton").click()
				}
				if (!qs["mode"]) {
					if (VIVIZ["defaultMode"] === "gallery") {
						$("#gallerybrowsebutton").click()
					} else if (VIVIZ["defaultMode"] === "thumb") {
						$("#thumbbrowsebutton").click()
					} else {
						$("#gallerybrowsebutton").click()
					}
				}

			})
		</script>

	</head>

	<body>

		<div id="g-container" style="display:none;text-align:center;">
			<div id="gallery1" class="ui-widget ui-widget-content ui-corner-all" style="padding:4px;display:inline-block">
				
				<div id="error" class="well" style="display:none;background-color:red;"></div>

				<div id="catalog" class="well" style="text-align:center">
					<span id="catalogxmlopen" style="float:left;cursor:pointer;text-decoration:underline">
						<i class="icon-info-sign"></i>Gallery configuration
					</span>
					<span id="catalogxmlclose" style="float:left;cursor:pointer;text-decoration:underline;display:none;">
						<i class="icon-remove"></i>
					</span>
					<span id="catalogxmltest" style="cursor:pointer;text-decoration:underline;display:none;">Test</span>
					<span id="catalogxmlsave" style="cursor:pointer;text-decoration:underline;display:none;">Save</span>
					<span style="float:right">Powered by <a href="http://viviz.org/" style="text-decoration: underline;">ViViz</a></span>
					<br/>
					<div id="catalogxml" style="text-align:left;overflow:auto;display:hidden"></div>
				</div>

				<div id="dropdowns" style="display:none" class="well">
					<div style="text-align:center;">
						<span id="dropdownswrapper"></span>
						<span id="downloadwrapper" style="display:none;">
							<select id="download" title="Download">
								<option value="filelist" class="def" selected="true">-Download-</option>
								<option value="filelist">File List</option>
								<option value="gif">Animated GIF</option>
								<option value="mp4">MP4</option>
								<option value="mov">MOV</option>
								<option value="zip">Zip</option>
							</select>
						</span>
					</div>
				</div>

				<div id="controls" class="well">
					<div style="text-align:center;display:inline-block;">
						<button class="btn" type="button" title="Hide thumbnails" id="showhidethumb"><h4>x</h4></button>
						<button class="btn" type="button" title="Play" id="play"><h4>&#9654;</h4></button>
						<button class="btn" type="button" title="Stop" id="stop"><h4>&#9632;</h4></button>&nbsp;&nbsp;&nbsp;								  
						<button class="btn" type="button" title="Previous frame" id="previous"><h4>|&#9664;</h4></button>
						<button class="btn" type="button" title="Next frame" id="next"><h4>&#9654;|</h4></button>&nbsp;&nbsp;&nbsp;
						<button class="btn" type="button" title="First frame" id="first"><h4>|&#9664;&#9664;</h4></button>
						<button class="btn" type="button" title="Last frame" id="last"><h4>&#9654;&#9654;|</h4></button>
						<span id="workingfullframe" style=""><img style="vertical-align:middle" src="css/ajax-loader.gif"/>&nbsp;</span>
						<span id="print">
							<button onclick="PrintElem('#fullframe');" class="btn" type="button" title="Print this image" id="printbutton"><h4>P</h4></button>
						</span>
						<span id="aboutbuttonwrapper" style="display:none;">
							<button class="btn" type="button" title="" id="aboutbutton"><h4>?</i></h4></button>
						</span>
						<span>
							<button class="btn" type="button" title="Show as thumbnail grid" id="thumbbrowsebutton">
								<h4>&#9783;</h4>
							</button>
						</span>
					</div>			
				</div>

				<div id="attributes" class="well">
					<span id="stats" style="float:center">&nbsp;</span>
				</div>

				<div class="well" id="abouttextwrapper" style="display:none">
					<span id="abouttext" style="float:center">&nbsp;</span>
				</div>

				<div class="well" id="filenamewrapper" style="display:none">
					<span id="filename" title="Source file" style="float:center;color:white;cursor:pointer;">&nbsp;</span>
				</div>				

				<div id="images" style="display:inline-block">
					<table>
						<tr>
							<td id="gallerythumbframe"></td>
							<td id="fullframe"></td>
						</tr>
					</table>
				</div>

				<div id="warning" class="well" style="display:none;background-color:yellow;"></div>

			</div>
		</div>
				
		<div id="t-container" style="display:none;padding-left:4px">
			<div id="thumb1"  class="ui-widget ui-widget-content ui-corner-all" style="width:100%;display:inline-block;">

				<div id="error" class="well" style="display:none;background-color:red;"></div>

				<div id="catalog" class="well" style="text-align:center">
					<span id="catalogxmlopen" style="float:left;cursor:pointer;text-decoration:underline">
						<i class="icon-info-sign"></i>Gallery configuration
					</span>
					<span id="catalogxmlclose" style="float:left;cursor:pointer;text-decoration:underline;display:none;"><i class="icon-remove"></i></span>
					<span id="catalogxmltest" style="cursor:pointer;text-decoration:underline;display:none;">Test</span>
					<span id="catalogxmlsave" style="cursor:pointer;text-decoration:underline;display:none;">Save</span>
					<span style="float:right">Powered by <a href="http://viviz.org/" style="text-decoration: underline;">ViViz</a></span>
					<br/>
					<div id="catalogxml" style="text-align:left;overflow:auto;display:hidden"></div>
				</div>

				<div id="dropdowns" style="display:none" class="well">
					<div style="text-align:center;">

						<span id="dropdownswrapper"></span>

						<span id="thumbbrowsemodewrapper">
							<select id="thumbbrowsemode" title="Interaction Mode">
							<option value="-1">-Interaction-</option>
							<option value="3">Overlay on hover</option>
							<option value="2" selected="true">Overlay on click</option>
							</select>
						</span>

						<span>
							<button class="btn" type="button" style="border:0px" title="Show in gallery view" id="gallerybrowsebutton">
								<h4>&#9633;</h4>
							</button>
						</span>

						<span id="sliderright" style="border:none;float:right">
							<div id="slider" data-orig-img-width="100" data-curr-img-width="100" style="width:50px;"></div>
							<span id="working" style="display:none"><img src="css/ajax-loader.gif"/></span>
						</span>					 	

				</div>

				<div class="well ui-widget-content" id="thumbbrowseframe" style="margin-left:auto;margin-right:auto;padding:20px auto;"></div>
					<img id="thumbbrowseoverlay" class="thumbbrowsetop" src="css/ajax-loader.gif"/>
				</div>

				<div class="well">
					<div id="header" class="well" style="text-align:center;">
						<span id="instructions2" style="float:center;"></span>
					</div>
				</div>

				<div id="warning" class="well" style="display:none;background-color:yellow;"></div>

			</div>
		 </div>
	</div>

	</body>
</html>
