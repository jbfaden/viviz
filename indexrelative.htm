<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
		<title>ViViz</title>
		
		<link rel="icon" type="image/ico" href="./css/favicon.ico"/>		
		<link rel="stylesheet" type="text/css" href="./css/bootstrap/css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="./css/gallery.css" id="gallerystyle">
		<link rel="stylesheet" type="text/css" href="./css/thumbbrowse.css">
		
		<script type="text/javascript" src="./js/deps/1.7.2/jquery.min.js"></script>
		<script type="text/javascript" src="./js/deps/jquery-ui-1.8.21.custom/js/jquery-ui-1.8.21.custom.min.js"></script>

		<!-- Main -->
		<!--script type="text/javascript" src="./js/main.js"></script-->


		<script type="text/javascript" src="./js/deps/jquery.query-2.1.3.js"></script>
		<script type="text/javascript" src="./js/deps/jquery.scrollTo-min.js"></script>
		<script type="text/javascript" src="./js/deps/strftime.js"></script>
		<script type="text/javascript" src="./js/deps/sprintf-0.7-beta1.js"></script>	
		<script type="text/javascript" src="./js/deps/date.js"></script>
		<script type="text/javascript" src="./js/deps/jquery.ba-hashchange-1.3.js"></script>
		<script type="text/javascript" src="./js/deps/csvtoarray.js"></script>
		<!--script type="text/javascript" src="./js/deps/jquery.ba-dotimeout.js"></script-->

		<script type="text/javascript" src="./js/expandtemplate.js"></script>

		<link rel="stylesheet" href="./js/deps/codemirror-2.3/lib/codemirror.css">		
		<script src="./js/deps/codemirror-2.3/lib/codemirror.js"></script>
		<script src="./js/deps/codemirror-2.3/mode/xml/xml.js"></script>

		<script type="text/javascript" src="./js/dropdown.js"></script>

		<script type="text/javascript" src="./js/gallery.js"></script>		
		<script type="text/javascript" src="./js/thumb.js"></script>					    
				
		<script type="text/javascript" src="./js/thumblist.js"></script>    
		<script type="text/javascript" src="./js/menulist.js"></script>    
		<script type="text/javascript" src="./js/gallery.js"></script>
		<script type="text/javascript" src="./js/attributemap.js"></script>
		
		<!-- Menu configuration -->
		<script type="text/javascript" src="./js/galleryinfo.js"></script>
		<script type="text/javascript" src="./js/cataloginfo.js"></script>

		<!-- Misc -->
		<script type="text/javascript" src="./js/cookie.js"></script>
		<script type="text/javascript" src="./js/print.js"></script>
		<script type="text/javascript" src="./js/message.js"></script>
		<!-- script type="text/javascript" src="js/cors.js"></script-->
		
		<!-- Uploaded catalogs (catalogjsonuploads) -->

		<!-- Base catalog (catalogjsonbase) -->
		<!--script type="text/javascript" src="./xml/catalog.json"></script--!>

		<!-- script type="text/javascript" src="./js/deps/jsonpath-0.8.0.js"></script-->

		<script>
			VIVIZ = {
				"CATALOGXML":"xml/test-catalog.xml",
				"defaultmode":"gallery",
				"showThumbstrip":true,
				"showFileName":true,
				"showCatalog":true,
				"showControls":true,
				"showAttributes":true,
				"showCatalog":false,
				"showDropdowns":true,
				"lazyLoadMax":10,
				"useCachedImages":false
			};

			$(document).ready(function(){

				// Code here executed when DOM is loaded and ready for manipulation.
				$("#thumbbrowsebutton").click(function () {
					$('#g-container').hide();
					$('#t-container').show();
					thumb("#thumb1");
				})
				
				$("#gallerybrowsebutton").click(function () {
					$('#t-container').hide();
					$('#g-container').show();
					gallery("#gallery1");
				})

				if (VIVIZ["defaultmode"] == "gallery") {
					$("#gallerybrowsebutton").click();
				} else {
					$("#thumbbrowsebutton").click();
				}

			});
		</script>

		<!--
		Configuration data inside this script node is read by default.
		If empty, xml/catalog.xml is read.  Place configuration data here
		if this index.htm was read from a local file (file://) instead of http://.
		-->
		<script id="xml"  type="text/x-jQuery-tmpl">
		</script>

	</head>

	<body>

		<div id="testconnection" style="display:none"></div>
		<div style="text-align:center;margin:px;">
			<span id="connectionerror" style="font-size:150%;background-color:yellow"></span>
		</div>
			
		<div id="g-container" style="display:none;text-align:center;">
			<div id="gallery1" class="ui-widget ui-widget-content ui-corner-all" style="display:inline-block">
				<span id="filename" title="Source file" style="float:center;color:white;cursor:pointer;"></span>
				<div style="padding:4px;">

					<div id="catalog" class="well" style="text-align:center">
						<span id="catalogxmlopen" style="float:left;cursor:pointer;text-decoration:underline">
							<i class="icon-info-sign"></i>Gallery configuration
						</span>
						<span id="catalogxmlclose" style="float:left;cursor:pointer;text-decoration:underline;display:none;"><i class="icon-remove"></i></span>
						<span id="catalogxmltest" style="cursor:pointer;text-decoration:underline;display:none;">Test</span>
						<span id="catalogxmlsave" style="cursor:pointer;text-decoration:underline;display:none;">Save</span>
						<span style="float:right">Powered by <a href="http://viviz.org/" style="text-decoration: underline;">ViViz</a></span>
						<br/>
						<div id="catalogxml" style="text-align:left;overflow:auto;display:hidden"></div>
					</div>
					<div id="dropdowns" class="well">
						<div style="display:inline-block;text-align:center;">
							<span id="dropdownswrapper"></span>
						</div>
					</div>

					<div id="controls" class="well">
						<div style="text-align:center;display:inline-block;">
							<button class="btn" type="button" title="Show/Hide thumbnails" id="showhidethumb"><h4>x</h4></button>&nbsp;&nbsp;&nbsp;
							<button class="btn" type="button" title="Play" id="previous"><h4>&#9654;</h4></button>
							<button class="btn" type="button" title="Stop" id="next"><h4>&#11035;</h4></button>&nbsp;&nbsp;&nbsp;								  
							<button class="btn" type="button" title="Previous frame" id="previous"><h4>|&#9664;</h4></button>
							<button class="btn" type="button" title="Next frame" id="next"><h4>&#9654;|</h4></button>&nbsp;&nbsp;&nbsp;
							<button class="btn" type="button" title="First frame" id="first"><h4>|&#9664;&#9664;</h4></button>
							<button class="btn" type="button" title="Last frame" id="last"><h4>&#9654;&#9654;|</h4></button>
							<span id="workingfullframe" style=""><img style="vertical-align:middle" src="css/ajax-loader.gif"/>&nbsp;</span>
							<span id="print">
								<button onclick="PrintElem('#fullframe');" class="btn" type="button" title="Print this image" id="printbutton"><h4>P</h4></button>
							</span>
							<span id="about" style="display:none;">
								<button class="btn" type="button" id="aboutbutton"><h4>?</i></h4></button>
							</span>
							<span>
								<button class="btn" type="button" title="Show as thumbnail grid" id="thumbbrowsebutton"><h4>&#9783;</h4></button>
							</span>
						</div>			
					</div>

					<div id="attributes" class="well">
						<span id="stats" style="float:center">&nbsp;</span>
					</div>
					
					<div id="error" class="well" style="display:none;background-color:yellow;"></div>
					<div id="warning" class="well" style="display:none;background-color:yellow;"></div>

					<div id="images" style="display:inline-block">
						<table>
							<tr>
								<td id="gallerythumbframe"></td>
								<td id="fullframe"></td>
							</tr>
						</table>
					</div>

				</div>
			</div>
		</div>
				
		<div id="t-container" style="display:none;">
			<div id="error"></div>
			<div id="thumb1"  class="ui-widget ui-widget-content ui-corner-all" style="width:100%;display:inline-block; margin:auto;">
				<div style="padding:5px;">
				<span id="filename" title="Source file" style="float:center;color:white;cursor:pointer;">&nbsp;</span>
				<div class="well">
					<div id="warning" style="background-color:yellow;text-align:left;"></div>
					<div id="footer" class="well" style="text-align:center;">
						<span id="catalogxmlopen" style="float:left;cursor:pointer;text-decoration:underline">
							<i class="icon-info-sign"></i>Gallery configuration</span>					
						<span id="catalogxmlclose" style="float:left;cursor:pointer;text-decoration:underline;display:none;"><i class="icon-remove"></i></span>
						<span id="catalogxmltest" style="cursor:pointer;text-decoration:underline;display:none;">Test</span>
						<span id="catalogxmlsave" style="cursor:pointer;text-decoration:underline;display:none;">Save</span>
						<span id="instructions" style="float:center;"></span>
						<span style="float:right">Powered by <a href="http://viviz.org/" style="text-decoration: underline;">ViViz</a></span>           
						<div id="catalogxml" style="display:hidden;text-align:left;overflow-x:auto;"></div>
					</div>
				</div>

				<div class="well">
					<div id="menuandslider">
						<div style="padding:0px; text-align:center;">
							<div style="padding:0 0 0 0; display:inline-block; margin:auto; text-align:center;">

								<span id="sliderright" style="float:right;padding:15px 15px 0 15px;border:none;">									
									<div id="slider" data-orig-img-width="100" data-curr-img-width="100" style="width:50px;"></div>
									<span id="working" style="display:none"><img src="css/ajax-loader.gif"/></span>
								</span>					 	
								<span id="about" style="padding:7px 0 0 0;float:right;display:none;">
										&nbsp;<a><button class="btn" type="button" id="aboutbutton"><h4><i class="icon-info-sign"></i></h4></button></a>            
										<span>&nbsp;</span>
								</span>								
								
								<span style="float:right; margin-right:3px;padding:8px 0 0 0;">
									&nbsp;<button class="btn btn-primary" type="button" style="border:0px" title="Show in gallery view" id="gallerybrowsebutton"><h4>&#9633;</h4></button>
								</span>

								<span style="float:right;padding:8px 0px 0 0;">
									<span>&nbsp;</span>
									<select id="thumbbrowsemode" title="Interaction Mode">
									<option value="-1">-Interaction-</option>
									<!-- option value="0">Expand on hover</option>
									<option value="1">Expand on click</option-->
									<option value="3">Overlay on hover</option>
									<option value="2" selected="true">Overlay on click</option>
									</select>
								</span>		

								<span id="dropdowns" style="float:left;padding:8px 0 0 0;">
								</span>
							</div>
						</div>
						<div style="clear:both"></div>							
					</div>      
						<div class="well" id="thumbbrowseframe" style="margin-left:auto;margin-right:auto;padding:20px auto;background-color:black;"></div>
						<img id="thumbbrowseoverlay" class="thumbbrowsetop" src="css/ajax-loader.gif"/>

				</div>
				<div class="well">
					<div id="header" class="well" style="text-align:center;">
						<span id="instructions2" style="float:center;"></span>
					</div>
				</div>
			</div>

		 </div>
	</div>

	<textarea style="display:none" id="cat"></textarea>

	</body>
</html>
